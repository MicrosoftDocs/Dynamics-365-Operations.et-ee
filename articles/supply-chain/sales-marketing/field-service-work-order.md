---
title: Rakenduse Field Service töökäskude sünkroonimine rakenduse Finance and Operations müügitellimustega
description: See teema käsitleb malle ja aluseks olevaid ülesandeid, mida kasutatakse rakenduse Field Service töökäskude sünkroonimiseks rakenduse Finance and Operations müügitellimustega.
author: ChristianRytt
manager: AnnBe
ms.date: 04/09/2018
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: crytt
ms.dyn365.ops.version: July 2017 update
ms.search.validFrom: 2017-07-8
ms.openlocfilehash: 49cb5942532e4feab64aa271ebfecf5cb60b1c61
ms.sourcegitcommit: 0f530e5f72a40f383868957a6b5cb0e446e4c795
ms.translationtype: HT
ms.contentlocale: et-EE
ms.lasthandoff: 01/29/2019
ms.locfileid: "324096"
---
# <a name="synchronize-work-orders-in-field-service-to-sales-orders-in-finance-and-operations"></a><span data-ttu-id="bd975-103">Rakenduse Field Service töökäskude sünkroonimine rakenduse Finance and Operations müügitellimustega</span><span class="sxs-lookup"><span data-stu-id="bd975-103">Synchronize work orders in Field Service to sales orders in Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="bd975-104">Selles teemas käsitletakse malle ja aluseks olevaid ülesandeid, mida kasutatakse projekti numbriga töökäskude sünkroonimiseks rakendusest Microsoft Dynamics 365 for Field Service müügitellimusse rakenduses Microsoft Dynamics 365 for Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="bd975-104">This topic discusses the templates and underlying tasks that are used to synchronize work orders in Microsoft Dynamics 365 for Field Service to sales order in Microsoft Dynamics 365 for Finance and Operations.</span></span>

<span data-ttu-id="bd975-105">[![Äriprotsesside sünkroonimine rakenduste Finance and Operations ja Field Service vahel](./media/field-service-integration.png)](./media/field-service-integration.png)</span><span class="sxs-lookup"><span data-stu-id="bd975-105">[![Synchronization of business processes between Finance and Operations and Field Service](./media/field-service-integration.png)](./media/field-service-integration.png)</span></span>

<span data-ttu-id="bd975-106">See teema käsitleb malle ja aluseks olevaid ülesandeid, mida kasutatakse rakenduse Field Service töökäskude sünkroonimiseks rakenduse Finance and Operations müügitellimustega.</span><span class="sxs-lookup"><span data-stu-id="bd975-106">This topic discusses the templates and underlying tasks that are used to synchronize work orders in Field Service to sales orders in Finance and Operations.</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="bd975-107">Mallid ja ülesanded</span><span class="sxs-lookup"><span data-stu-id="bd975-107">Templates and tasks</span></span>

<span data-ttu-id="bd975-108">Järgmisi malle ja aluseks olevaid ülesandeid kasutatakse rakenduse Field Service töökäskude rakenduse Finance and Operations müügitellimustega sünkroonimise käivitamiseks.</span><span class="sxs-lookup"><span data-stu-id="bd975-108">The following templates and underlying tasks are used to run the synchronization of work orders in Field Service to sales orders in Finance and Operations.</span></span>

### <a name="names-of-the-templates-in-data-integration"></a><span data-ttu-id="bd975-109">Mallide nimed andmeintegratsioonis</span><span class="sxs-lookup"><span data-stu-id="bd975-109">Names of the templates in Data integration</span></span>

<span data-ttu-id="bd975-110">Malli **Töökäsud müügitellimusteks (Field Service'ist Fin and Opsi)** kasutatakse sünkroonimise käivitamiseks.</span><span class="sxs-lookup"><span data-stu-id="bd975-110">The **Work orders to Sales orders (Field Service to Fin and Ops)** template is used to run synchronization.</span></span>

### <a name="names-of-the-tasks-in-the-data-integration-project"></a><span data-ttu-id="bd975-111">Ülesannete nimed andmete integratsiooni projektis</span><span class="sxs-lookup"><span data-stu-id="bd975-111">Names of the tasks in the Data integration project</span></span>

- <span data-ttu-id="bd975-112">WorkOrderHeader</span><span class="sxs-lookup"><span data-stu-id="bd975-112">WorkOrderHeader</span></span>
- <span data-ttu-id="bd975-113">WorkOrderServiceLineEstimate</span><span class="sxs-lookup"><span data-stu-id="bd975-113">WorkOrderServiceLineEstimate</span></span>
- <span data-ttu-id="bd975-114">WorkOrderServiceLineUsed</span><span class="sxs-lookup"><span data-stu-id="bd975-114">WorkOrderServiceLineUsed</span></span>
- <span data-ttu-id="bd975-115">WorkOrderProductLineEstimate</span><span class="sxs-lookup"><span data-stu-id="bd975-115">WorkOrderProductLineEstimate</span></span>
- <span data-ttu-id="bd975-116">WorkOrderProductLineUsed</span><span class="sxs-lookup"><span data-stu-id="bd975-116">WorkOrderProductLineUsed</span></span>

<span data-ttu-id="bd975-117">Enne müügitellimuse päiste ja ridade sünkroonimist on nõutavad järgmised sünkroonimisülesanded.</span><span class="sxs-lookup"><span data-stu-id="bd975-117">The following synchronization tasks are required before synchronization of sales order headers and lines can occur:</span></span>

- <span data-ttu-id="bd975-118">Field Service’i tooted (Fin and Opsist Field Service’isse)</span><span class="sxs-lookup"><span data-stu-id="bd975-118">Field Service Products (Fin and Ops to Field Service)</span></span>
- <span data-ttu-id="bd975-119">Kontod (Salesist Fin and Opsi) – otse</span><span class="sxs-lookup"><span data-stu-id="bd975-119">Accounts (Sales to Fin and Ops) – Direct</span></span>

## <a name="entity-set"></a><span data-ttu-id="bd975-120">Üksuste komplekt</span><span class="sxs-lookup"><span data-stu-id="bd975-120">Entity set</span></span>

| <span data-ttu-id="bd975-121">**Field Service**</span><span class="sxs-lookup"><span data-stu-id="bd975-121">**Field Service**</span></span> | <span data-ttu-id="bd975-122">**Finance and Operations**</span><span class="sxs-lookup"><span data-stu-id="bd975-122">**Finance and Operations**</span></span> |
|-------------------------|-------------------------|
| <span data-ttu-id="bd975-123">msdyn_workorders</span><span class="sxs-lookup"><span data-stu-id="bd975-123">msdyn_workorders</span></span>        | <span data-ttu-id="bd975-124">CDS-i müügitellimuse päised</span><span class="sxs-lookup"><span data-stu-id="bd975-124">CDS sales order headers</span></span> |
| <span data-ttu-id="bd975-125">msdyn_workorderservices</span><span class="sxs-lookup"><span data-stu-id="bd975-125">msdyn_workorderservices</span></span> | <span data-ttu-id="bd975-126">CDS-i müügitellimuse read</span><span class="sxs-lookup"><span data-stu-id="bd975-126">CDS sales order lines</span></span>   |
| <span data-ttu-id="bd975-127">msdyn_workorderproducts</span><span class="sxs-lookup"><span data-stu-id="bd975-127">msdyn_workorderproducts</span></span> | <span data-ttu-id="bd975-128">CDS-i müügitellimuse read</span><span class="sxs-lookup"><span data-stu-id="bd975-128">CDS sales order lines</span></span>   |

## <a name="entity-flow"></a><span data-ttu-id="bd975-129">Üksuse voog</span><span class="sxs-lookup"><span data-stu-id="bd975-129">Entity flow</span></span>

<span data-ttu-id="bd975-130">Töökäsud luuakse rakenduses Field Service.</span><span class="sxs-lookup"><span data-stu-id="bd975-130">Work orders are created in Field Service.</span></span> <span data-ttu-id="bd975-131">Kui töökäsud sisaldavad ainult väliselt hallatavaid tooteid ja kui välja **Töökäsu olek** väärtuseks ei ole **Avatud – ajastamata** või **Suletud – tühistatud**, saab töökäsud CDS-i andmeintegratsiooni projekti kaudu rakendusega Finance and Operations sünkroonida.</span><span class="sxs-lookup"><span data-stu-id="bd975-131">If the work orders include only externally maintained products, and if the **Work order status** value differs from **Open-Unscheduled** and **Closed – Cancelled**, the work orders can be synchronized to Finance and Operations via a CDS Data integration project.</span></span> <span data-ttu-id="bd975-132">Töökäskude värskendused sünkroonitakse rakendusse Finance and Operations müügitellimustena.</span><span class="sxs-lookup"><span data-stu-id="bd975-132">Updates on the work orders will be synchronized as sales orders in Finance and Operations.</span></span> <span data-ttu-id="bd975-133">Need värskendused sisaldavad päritolu tüübi ja oleku teavet.</span><span class="sxs-lookup"><span data-stu-id="bd975-133">These updates include the information about the origin type and status.</span></span>

## <a name="estimated-versus-used"></a><span data-ttu-id="bd975-134">Eeldatav vs kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-134">Estimated versus Used</span></span>

<span data-ttu-id="bd975-135">Rakenduses Field Service on toodete ja teenuste töökäskudel koguste ja summade jaoks mõlemad väärtused, nii väärtus **Eeldatav** kui ka **Kasutatud**.</span><span class="sxs-lookup"><span data-stu-id="bd975-135">In Field Service, products and services on work orders have both **Estimated** values and **Used** values for quantities and amounts.</span></span> <span data-ttu-id="bd975-136">Siiski ei ole rakenduse Finance and Operations müügitellimustel samasuguseid väärtusi **Eeldatav** ja **Kasutatud**.</span><span class="sxs-lookup"><span data-stu-id="bd975-136">However, in Finance and Operations, sales orders don't have the same concept of **Estimated** and **Used** values.</span></span> <span data-ttu-id="bd975-137">Toetamaks toote eraldamist, mille puhul kasutatakse rakenduse Finance and Operations müügitellimusel eeldatud kogust, kuid hoidmaks kasutatud kogust, mida tuleks tarbida ja arveldada, sünkroonivad töökäskude tooteid ja teenuseid kaks ülesannete komplekti.</span><span class="sxs-lookup"><span data-stu-id="bd975-137">To support product allocation that uses the expected quantity on the sales order in Finance and Operations, but to keep the used quantity that should be consumed and invoiced, two sets of tasks synchronize the products and services on the work order.</span></span> <span data-ttu-id="bd975-138">Üks komplekt ülesandeid on väärtuste **Eeldatav** ja teine ülesannete komplekt on väärtuste **Kasutatud** jaoks.</span><span class="sxs-lookup"><span data-stu-id="bd975-138">One set of tasks is for **Estimated** values, and the other set of tasks is for **Used** values.</span></span>

<span data-ttu-id="bd975-139">See käitumine võimaldab kasutada stsenaariume, kus eeldatavaid väärtusi kasutatakse rakenduses Finance and Operations eraldamiseks või reserveerimiseks, samas kui kasutatud väärtusi kasutatakse tarbimiseks ja arveldamiseks.</span><span class="sxs-lookup"><span data-stu-id="bd975-139">This behavior enables scenarios where estimated values are used for allocation or reservation in Finance and Operations, whereas used values are used for consumption and invoicing.</span></span>

### <a name="estimated"></a><span data-ttu-id="bd975-140">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-140">Estimated</span></span>

<span data-ttu-id="bd975-141">Tooteridade sünkroonimiseks kasutatakse väärtusi **Eeldatav**, kui on väärtus **Rea olek** on **Eeldatav**, suvandi **Eraldatud** väärtuseks on määratud **Jah** ja valiku **Süsteemi olek** väärtuseks pole **Suletud – sisestatud**.</span><span class="sxs-lookup"><span data-stu-id="bd975-141">For synchronization of product lines, the **Estimated** values are used when the **Line Status** value is **Estimated**, the **Allocated** option is set to **Yes**, and **System Status** value isn't **Closed – Posted**.</span></span>

<span data-ttu-id="bd975-142">Teenusridade sünkroonimiseks kasutatakse väärtusi **Eeldatav**, kui on väärtus **Rea olek** on **Eeldatav** ja valiku **Süsteemi olek** väärtuseks pole **Suletud – sisestatud**.</span><span class="sxs-lookup"><span data-stu-id="bd975-142">For synchronization of service lines, the **Estimated** values are used when the **Line Status** value is **Estimated** and the **System Status** value isn't **Closed – Posted**.</span></span>

### <a name="used"></a><span data-ttu-id="bd975-143">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-143">Used</span></span>

<span data-ttu-id="bd975-144">Väärtusi **Kasutatud** kasutatakse tarbimiseks ja arveldamiseks.</span><span class="sxs-lookup"><span data-stu-id="bd975-144">The **Used** values are used for consumption and invoicing.</span></span> <span data-ttu-id="bd975-145">Sellistel juhtudel sünkroonitakse väärtused **Kasutatud**.</span><span class="sxs-lookup"><span data-stu-id="bd975-145">In these cases, the **Used** values are synchronized.</span></span>

<span data-ttu-id="bd975-146">Järgmine tabel annab ülevaate mitmesugustest tooteridade kombinatsioonidest.</span><span class="sxs-lookup"><span data-stu-id="bd975-146">The following table provides an overview of the various combinations for product lines.</span></span>

| <span data-ttu-id="bd975-147">Süsteemi olek</span><span class="sxs-lookup"><span data-stu-id="bd975-147">System Status</span></span> <br><span data-ttu-id="bd975-148">(Field Service)</span><span class="sxs-lookup"><span data-stu-id="bd975-148">(Field Service)</span></span> | <span data-ttu-id="bd975-149">Rea olek</span><span class="sxs-lookup"><span data-stu-id="bd975-149">Line Status</span></span> <br><span data-ttu-id="bd975-150">(Field Service)</span><span class="sxs-lookup"><span data-stu-id="bd975-150">(Field Service)</span></span> | <span data-ttu-id="bd975-151">Eraldatud</span><span class="sxs-lookup"><span data-stu-id="bd975-151">Allocated</span></span> <br><span data-ttu-id="bd975-152">(Field Service)</span><span class="sxs-lookup"><span data-stu-id="bd975-152">(Field Service)</span></span> |<span data-ttu-id="bd975-153">Sünkroonitud väärtus</span><span class="sxs-lookup"><span data-stu-id="bd975-153">Synchronized value</span></span> <br><span data-ttu-id="bd975-154">(Finance and Operations)</span><span class="sxs-lookup"><span data-stu-id="bd975-154">(Finance and Operations)</span></span> |
|--------------------|-------------|-----------|---------------------------------|
| <span data-ttu-id="bd975-155">Avatud – ajastatud</span><span class="sxs-lookup"><span data-stu-id="bd975-155">Open - Scheduled</span></span>   | <span data-ttu-id="bd975-156">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-156">Estimated</span></span>   | <span data-ttu-id="bd975-157">Jah</span><span class="sxs-lookup"><span data-stu-id="bd975-157">Yes</span></span>       | <span data-ttu-id="bd975-158">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-158">Estimated</span></span>                       |
| <span data-ttu-id="bd975-159">Avatud – ajastatud</span><span class="sxs-lookup"><span data-stu-id="bd975-159">Open - Scheduled</span></span>   | <span data-ttu-id="bd975-160">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-160">Estimated</span></span>   | <span data-ttu-id="bd975-161">Ei</span><span class="sxs-lookup"><span data-stu-id="bd975-161">No</span></span>        | <span data-ttu-id="bd975-162">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-162">Used</span></span>                            |
| <span data-ttu-id="bd975-163">Avatud – ajastatud</span><span class="sxs-lookup"><span data-stu-id="bd975-163">Open - Scheduled</span></span>   | <span data-ttu-id="bd975-164">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-164">Used</span></span>        | <span data-ttu-id="bd975-165">Jah</span><span class="sxs-lookup"><span data-stu-id="bd975-165">Yes</span></span>       | <span data-ttu-id="bd975-166">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-166">Used</span></span>                            |
| <span data-ttu-id="bd975-167">Avatud – ajastatud</span><span class="sxs-lookup"><span data-stu-id="bd975-167">Open - Scheduled</span></span>   | <span data-ttu-id="bd975-168">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-168">Used</span></span>        | <span data-ttu-id="bd975-169">Ei</span><span class="sxs-lookup"><span data-stu-id="bd975-169">No</span></span>        | <span data-ttu-id="bd975-170">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-170">Used</span></span>                            |
| <span data-ttu-id="bd975-171">Avatud – pooleli</span><span class="sxs-lookup"><span data-stu-id="bd975-171">Open - In Progress</span></span> | <span data-ttu-id="bd975-172">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-172">Estimated</span></span>   | <span data-ttu-id="bd975-173">Jah</span><span class="sxs-lookup"><span data-stu-id="bd975-173">Yes</span></span>       | <span data-ttu-id="bd975-174">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-174">Estimated</span></span>                       |
| <span data-ttu-id="bd975-175">Avatud – pooleli</span><span class="sxs-lookup"><span data-stu-id="bd975-175">Open - In Progress</span></span> | <span data-ttu-id="bd975-176">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-176">Estimated</span></span>   | <span data-ttu-id="bd975-177">Ei</span><span class="sxs-lookup"><span data-stu-id="bd975-177">No</span></span>        | <span data-ttu-id="bd975-178">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-178">Used</span></span>                            |
| <span data-ttu-id="bd975-179">Avatud – pooleli</span><span class="sxs-lookup"><span data-stu-id="bd975-179">Open - In Progress</span></span> | <span data-ttu-id="bd975-180">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-180">Used</span></span>        | <span data-ttu-id="bd975-181">Jah</span><span class="sxs-lookup"><span data-stu-id="bd975-181">Yes</span></span>       | <span data-ttu-id="bd975-182">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-182">Used</span></span>                            |
| <span data-ttu-id="bd975-183">Avatud – pooleli</span><span class="sxs-lookup"><span data-stu-id="bd975-183">Open - In Progress</span></span> | <span data-ttu-id="bd975-184">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-184">Used</span></span>        | <span data-ttu-id="bd975-185">Ei</span><span class="sxs-lookup"><span data-stu-id="bd975-185">No</span></span>        | <span data-ttu-id="bd975-186">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-186">Used</span></span>                            |
| <span data-ttu-id="bd975-187">Avatud – lõpule viidud</span><span class="sxs-lookup"><span data-stu-id="bd975-187">Open - Completed</span></span>   | <span data-ttu-id="bd975-188">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-188">Estimated</span></span>   | <span data-ttu-id="bd975-189">Jah</span><span class="sxs-lookup"><span data-stu-id="bd975-189">Yes</span></span>       | <span data-ttu-id="bd975-190">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-190">Estimated</span></span>                       |
| <span data-ttu-id="bd975-191">Avatud – lõpule viidud</span><span class="sxs-lookup"><span data-stu-id="bd975-191">Open - Completed</span></span>   | <span data-ttu-id="bd975-192">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-192">Estimated</span></span>   | <span data-ttu-id="bd975-193">Ei</span><span class="sxs-lookup"><span data-stu-id="bd975-193">No</span></span>        | <span data-ttu-id="bd975-194">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-194">Used</span></span>                            |
| <span data-ttu-id="bd975-195">Avatud – lõpule viidud</span><span class="sxs-lookup"><span data-stu-id="bd975-195">Open - Completed</span></span>   | <span data-ttu-id="bd975-196">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-196">Used</span></span>        | <span data-ttu-id="bd975-197">Jah</span><span class="sxs-lookup"><span data-stu-id="bd975-197">Yes</span></span>       | <span data-ttu-id="bd975-198">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-198">Used</span></span>                            |
| <span data-ttu-id="bd975-199">Avatud – lõpule viidud</span><span class="sxs-lookup"><span data-stu-id="bd975-199">Open - Completed</span></span>   | <span data-ttu-id="bd975-200">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-200">Used</span></span>        | <span data-ttu-id="bd975-201">Ei</span><span class="sxs-lookup"><span data-stu-id="bd975-201">No</span></span>        | <span data-ttu-id="bd975-202">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-202">Used</span></span>                            |
| <span data-ttu-id="bd975-203">Suletud – sisestatud</span><span class="sxs-lookup"><span data-stu-id="bd975-203">Closed - Posted</span></span>    | <span data-ttu-id="bd975-204">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-204">Estimated</span></span>   | <span data-ttu-id="bd975-205">Jah</span><span class="sxs-lookup"><span data-stu-id="bd975-205">Yes</span></span>       | <span data-ttu-id="bd975-206">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-206">Used</span></span>                            |
| <span data-ttu-id="bd975-207">Suletud – sisestatud</span><span class="sxs-lookup"><span data-stu-id="bd975-207">Closed - Posted</span></span>    | <span data-ttu-id="bd975-208">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-208">Estimated</span></span>   | <span data-ttu-id="bd975-209">Ei</span><span class="sxs-lookup"><span data-stu-id="bd975-209">No</span></span>        | <span data-ttu-id="bd975-210">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-210">Used</span></span>                            |
| <span data-ttu-id="bd975-211">Suletud – sisestatud</span><span class="sxs-lookup"><span data-stu-id="bd975-211">Closed - Posted</span></span>    | <span data-ttu-id="bd975-212">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-212">Used</span></span>        | <span data-ttu-id="bd975-213">Jah</span><span class="sxs-lookup"><span data-stu-id="bd975-213">Yes</span></span>       | <span data-ttu-id="bd975-214">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-214">Used</span></span>                            |
| <span data-ttu-id="bd975-215">Suletud – sisestatud</span><span class="sxs-lookup"><span data-stu-id="bd975-215">Closed - Posted</span></span>    | <span data-ttu-id="bd975-216">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-216">Used</span></span>        | <span data-ttu-id="bd975-217">Ei</span><span class="sxs-lookup"><span data-stu-id="bd975-217">No</span></span>        | <span data-ttu-id="bd975-218">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-218">Used</span></span>                            |

<span data-ttu-id="bd975-219">Järgmine tabel annab ülevaate mitmesugustest teenusridade kombinatsioonidest.</span><span class="sxs-lookup"><span data-stu-id="bd975-219">The following table provides an overview of the various combinations for service lines.</span></span>

| <span data-ttu-id="bd975-220">Süsteemi olek</span><span class="sxs-lookup"><span data-stu-id="bd975-220">System Status</span></span> <br><span data-ttu-id="bd975-221">(Field Service)</span><span class="sxs-lookup"><span data-stu-id="bd975-221">(Field Service)</span></span> | <span data-ttu-id="bd975-222">Rea olek</span><span class="sxs-lookup"><span data-stu-id="bd975-222">Line Status</span></span> <br><span data-ttu-id="bd975-223">(Field Service)</span><span class="sxs-lookup"><span data-stu-id="bd975-223">(Field Service)</span></span> | <span data-ttu-id="bd975-224">Sünkroonitud väärtus</span><span class="sxs-lookup"><span data-stu-id="bd975-224">Synchronized value</span></span> <br><span data-ttu-id="bd975-225">(Finance and Operations)</span><span class="sxs-lookup"><span data-stu-id="bd975-225">(Finance and Operations)</span></span> |
|--------------------|-------------|-----------|
| <span data-ttu-id="bd975-226">Avatud – ajastatud</span><span class="sxs-lookup"><span data-stu-id="bd975-226">Open - Scheduled</span></span>   | <span data-ttu-id="bd975-227">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-227">Estimated</span></span>   | <span data-ttu-id="bd975-228">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-228">Estimated</span></span> |
| <span data-ttu-id="bd975-229">Avatud – ajastatud</span><span class="sxs-lookup"><span data-stu-id="bd975-229">Open - Scheduled</span></span>   | <span data-ttu-id="bd975-230">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-230">Used</span></span>        | <span data-ttu-id="bd975-231">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-231">Used</span></span>      |
| <span data-ttu-id="bd975-232">Avatud – pooleli</span><span class="sxs-lookup"><span data-stu-id="bd975-232">Open - In Progress</span></span> | <span data-ttu-id="bd975-233">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-233">Estimated</span></span>   | <span data-ttu-id="bd975-234">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-234">Estimated</span></span> |
| <span data-ttu-id="bd975-235">Avatud – pooleli</span><span class="sxs-lookup"><span data-stu-id="bd975-235">Open - In Progress</span></span> | <span data-ttu-id="bd975-236">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-236">Used</span></span>        | <span data-ttu-id="bd975-237">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-237">Used</span></span>      |
| <span data-ttu-id="bd975-238">Avatud – lõpule viidud</span><span class="sxs-lookup"><span data-stu-id="bd975-238">Open - Completed</span></span>   | <span data-ttu-id="bd975-239">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-239">Estimated</span></span>   | <span data-ttu-id="bd975-240">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-240">Estimated</span></span> |
| <span data-ttu-id="bd975-241">Avatud – lõpule viidud</span><span class="sxs-lookup"><span data-stu-id="bd975-241">Open - Completed</span></span>   | <span data-ttu-id="bd975-242">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-242">Used</span></span>        | <span data-ttu-id="bd975-243">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-243">Used</span></span>      |
| <span data-ttu-id="bd975-244">Suletud – sisestatud</span><span class="sxs-lookup"><span data-stu-id="bd975-244">Closed - Posted</span></span>    | <span data-ttu-id="bd975-245">Hinnanguline</span><span class="sxs-lookup"><span data-stu-id="bd975-245">Estimated</span></span>   | <span data-ttu-id="bd975-246">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-246">Used</span></span>      |
| <span data-ttu-id="bd975-247">Suletud – sisestatud</span><span class="sxs-lookup"><span data-stu-id="bd975-247">Closed - Posted</span></span>    | <span data-ttu-id="bd975-248">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-248">Used</span></span>        | <span data-ttu-id="bd975-249">Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-249">Used</span></span>      |

<span data-ttu-id="bd975-250">Väärtuste **Eeldatav** vs **Kasutatud** sünkroonimist hallatakse kahe toote- ja teenusridade jaoks mõeldud ülesannete komplekti abil.</span><span class="sxs-lookup"><span data-stu-id="bd975-250">Synchronization of **Estimated** values versus **Used** values is managed through the two sets of tasks for product lines and service lines.</span></span> <span data-ttu-id="bd975-251">Eelmääratletud filtrid käivitavad õige ülesande ja aluseks olev vastendamine aitab tagada, et sünkroonitakse õiged väärtused **Eeldatav** vs **Kasutatud**.</span><span class="sxs-lookup"><span data-stu-id="bd975-251">Predefined filters trigger the correct task, and the underlying mapping helps guarantee that the correct values for **Expected** versus **Used** are synchronized.</span></span>

### <a name="example"></a><span data-ttu-id="bd975-252">Näide</span><span class="sxs-lookup"><span data-stu-id="bd975-252">Example</span></span>

1. <span data-ttu-id="bd975-253">Rakenduses Field Service luuakse ja plaanitakse töökäsk.</span><span class="sxs-lookup"><span data-stu-id="bd975-253">A work order is created and scheduled in Field Service.</span></span>

    <span data-ttu-id="bd975-254">**Süsteemi oleku** väärtus on **Avatud – ajastatud**.</span><span class="sxs-lookup"><span data-stu-id="bd975-254">The **System Status** value is **Open – Scheduled**.</span></span>

    - <span data-ttu-id="bd975-255">**Tooterida:** Eeldatav kogus = 5ühikut, Kasutatud kogus = 0ühikut, Rea olek = Eeldatav, Eraldatud = Ei</span><span class="sxs-lookup"><span data-stu-id="bd975-255">**Product line:** Estimated Qty = 5ea, Used Qty = 0ea, Line Status = Estimated, Allocated = No</span></span>
    - <span data-ttu-id="bd975-256">**Teenusrida:** Eeldatav kogus = 2h, Kasutatud kogus = 0h, Rea olek = Eeldatav</span><span class="sxs-lookup"><span data-stu-id="bd975-256">**Service line:** Estimated Qty = 2h, Used Qty = 0h, Line Status = Estimated</span></span>

    <span data-ttu-id="bd975-257">Selle näite puhul sünkroonitakse rakendusse Finance and Operations toote välja **Kasutatud kogus** väärtus **0** (null) ja teenuse välja **Eeldatav kogus** väärtus **2h**.</span><span class="sxs-lookup"><span data-stu-id="bd975-257">In this example, the product's **Used Qty** value of **0** (zero) and the service's **Estimated Qty** value of **2h** are synchronized to Finance and Operations.</span></span>

2. <span data-ttu-id="bd975-258">Tooted eraldatakse rakenduses Field Service.</span><span class="sxs-lookup"><span data-stu-id="bd975-258">Products are allocated in Field Service.</span></span>

    <span data-ttu-id="bd975-259">**Süsteemi oleku** väärtus on **Avatud – ajastatud**.</span><span class="sxs-lookup"><span data-stu-id="bd975-259">The **System Status** value is **Open – Scheduled**.</span></span>

    - <span data-ttu-id="bd975-260">**Tooterida:** Eeldatav kogus = 5ühikut, Kasutatud kogus = 0ühikut, Rea olek = Eeldatav, Eraldatud = Jah</span><span class="sxs-lookup"><span data-stu-id="bd975-260">**Product line:** Estimated Qty = 5ea, Used Qty = 0ea, Line Status = Estimated, Allocated = Yes</span></span>
    - <span data-ttu-id="bd975-261">**Teenusrida:** Eeldatav kogus = 2h, Kasutatud kogus = 0h, Rea olek = Eeldatav</span><span class="sxs-lookup"><span data-stu-id="bd975-261">**Service line:** Estimated Qty = 2h, Used Qty = 0h, Line Status = Estimated</span></span>

    <span data-ttu-id="bd975-262">Selle näite puhul sünkroonitakse rakendusse Finance and Operations toote välja **Eeldatav kogus** väärtus **5ühikut** ja teenuse välja **Eeldatav kogus** väärtus **2h**.</span><span class="sxs-lookup"><span data-stu-id="bd975-262">In this example, the product's **Estimated Qty** value of **5ea** and the service's **Estimated Qty** value of **2h** are synchronized to Finance and Operations.</span></span>

3. <span data-ttu-id="bd975-263">Hooldustehnik alustab töökäsuga tööd ja registreerib 6 materjali kasutamise.</span><span class="sxs-lookup"><span data-stu-id="bd975-263">The service technician starts to work on the work order and registers material usage of 6.</span></span>

    <span data-ttu-id="bd975-264">**Süsteemi oleku** väärtus on **Avatud – pooleli**.</span><span class="sxs-lookup"><span data-stu-id="bd975-264">The **System Status** value is **Open – In Progress**.</span></span>

    - <span data-ttu-id="bd975-265">**Tooterida:** Eeldatav kogus = 5ühikut, Kasutatud kogus = 6ühikut, Rea olek = Kasutatud, Eraldatud = Jah</span><span class="sxs-lookup"><span data-stu-id="bd975-265">**Product line:** Estimated Qty = 5ea, Used Qty = 6ea, Line Status = Used, Allocated = Yes</span></span>
    - <span data-ttu-id="bd975-266">**Teenusrida:** Eeldatav kogus = 2h, Kasutatud kogus = 0h, Rea olek = Eeldatav</span><span class="sxs-lookup"><span data-stu-id="bd975-266">**Service line:** Estimated Qty = 2h, Used Qty = 0h, Line Status = Estimated</span></span>

    <span data-ttu-id="bd975-267">Selle näite puhul sünkroonitakse rakendusse Finance and Operations toote välja **Kasutatud kogus** väärtus **6** ja teenuse välja **Eeldatav kogus** väärtus **2h**.</span><span class="sxs-lookup"><span data-stu-id="bd975-267">In this example, the product's **Used Qty** value of **6** and the service's **Estimated Qty** value of **2h** are synchronized to Finance and Operations.</span></span>

4. <span data-ttu-id="bd975-268">Hooldustehnik lõpetab töökäsu ja registreerib kasutatud ajaks 1,5 tundi.</span><span class="sxs-lookup"><span data-stu-id="bd975-268">The service technician completes the work order and registers used time of 1.5 hours.</span></span>

    <span data-ttu-id="bd975-269">**Süsteemi oleku** väärtus on **Avatud – lõpule viidud**.</span><span class="sxs-lookup"><span data-stu-id="bd975-269">The **System Status** value is **Open – Completed**.</span></span>

    - <span data-ttu-id="bd975-270">**Tooterida:** Eeldatav kogus = 5ühikut, Kasutatud kogus = 6ühikut, Rea olek = Kasutatud, Eraldatud = Jah</span><span class="sxs-lookup"><span data-stu-id="bd975-270">**Product line:** Estimated Qty = 5ea, Used Qty = 6ea, Line Status = Used, Allocated = Yes</span></span>
    - <span data-ttu-id="bd975-271">**Teenusrida:** Eeldatav kogus = 2h, Kasutatud kogus = 1,5h, Rea olek = Kasutatud</span><span class="sxs-lookup"><span data-stu-id="bd975-271">**Service line:** Estimated Qty = 2h, Used Qty = 1.5h, Line Status = Used</span></span>

    <span data-ttu-id="bd975-272">Selle näite puhul sünkroonitakse rakendusse Finance and Operations toote välja **Kasutatud kogus** väärtus **6** ja teenuse välja **Kasutatud kogus** väärtus **1,5 h**.</span><span class="sxs-lookup"><span data-stu-id="bd975-272">In this example, the product's **Used Qty** value of **6** and the service's **Used Qty** of **1.5h** are synchronized to Finance and Operations.</span></span>

## <a name="sales-order-origin-and-status"></a><span data-ttu-id="bd975-273">Müügitellimuse päritolu ja olek</span><span class="sxs-lookup"><span data-stu-id="bd975-273">Sales order origin and status</span></span>

### <a name="sales-origin"></a><span data-ttu-id="bd975-274">Müügi allikas</span><span class="sxs-lookup"><span data-stu-id="bd975-274">Sales origin</span></span>

<span data-ttu-id="bd975-275">Töökäskudest pärinevate müügitellimuste jälgimiseks rakenduses Finance and Operations saate luua müügiallika, kus suvandi **Päritolu tüübi määramine** väärtuseks on määratud **Jah** ja väljaks **Müügi päritolu tüüp** on seatud **Töökäsu integratsioon**.</span><span class="sxs-lookup"><span data-stu-id="bd975-275">To keep track of sales orders in Finance and Operations that originate from work orders, you can create a sales origin where the **Origin type assignment** option is set to **Yes** and the **Sales origin type** field is set to **Work order integration**.</span></span>

<span data-ttu-id="bd975-276">Vaikimisi valib vastendamine müügiallika jaoks kõigi töökäskudest loodud müügitellimuste puhul müügi päritolu tüübiks **Töökäsu integratsioon**.</span><span class="sxs-lookup"><span data-stu-id="bd975-276">By default, the mapping selects the sales origin for the **Work order integration** sales origin type for all sales orders that are created from work orders.</span></span> <span data-ttu-id="bd975-277">See käitumine võib olla kasulik, kui töötate müügitellimusega rakenduses Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="bd975-277">This behavior can be useful when you work with the sales order in Finance and Operations.</span></span> <span data-ttu-id="bd975-278">Peaksite veenduma, et töökäskudest pärinevaid müügitellimusi ei sünkroonita rakendusse Field Service tagasi töökäskudena.</span><span class="sxs-lookup"><span data-stu-id="bd975-278">You must make sure that sales orders that originate from work orders aren't synchronized back to Field Service as work orders.</span></span>

<span data-ttu-id="bd975-279">Üksikasju õige müügi päritolu seadistamiseks rakenduses Finance and Operations vaadake selle teema jaotisest Eeltingimused ja vastendamise seadistamine.</span><span class="sxs-lookup"><span data-stu-id="bd975-279">For details about how to create the correct sales origin setup in Finance and Operations, see the "Preconditions and mapping setup" section of this topic.</span></span>

### <a name="status"></a><span data-ttu-id="bd975-280">Olek</span><span class="sxs-lookup"><span data-stu-id="bd975-280">Status</span></span>

<span data-ttu-id="bd975-281">Kui müügitellimus pärineb töökäsust, kuvatakse müügitellimuse päises vahekaardil **Seadistus** väli **Välise töö tellimuse olek**.</span><span class="sxs-lookup"><span data-stu-id="bd975-281">When the sales order originates from a work order, the **External work order status** field appears on the **Setup** tab on the sales order header.</span></span> <span data-ttu-id="bd975-282">Sellel väljal kuvatakse süsteemi olek töökäsust rakenduses Field Service, et aidata jälgida sünkroonitud müügitellimuste töökäsu olekut rakenduses Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="bd975-282">This field shows the system status from the work order in Field Service, to help track the synchronized work order status of sales orders in the Finance and Operations.</span></span> <span data-ttu-id="bd975-283">See väli aitab ka rakenduse Finance and Operations kasutajal määrata, millal müügitellimus tuleks lähetada või arveldada.</span><span class="sxs-lookup"><span data-stu-id="bd975-283">This field can also help the user of Finance and Operations determine when the sales order should be shipped or invoiced.</span></span>

<span data-ttu-id="bd975-284">Väljal **Välise töö tellimuse olek** võivad olla järgmised väärtused.</span><span class="sxs-lookup"><span data-stu-id="bd975-284">The **External work order status** field can have the following values:</span></span>

- <span data-ttu-id="bd975-285">Avatud – ajastatud</span><span class="sxs-lookup"><span data-stu-id="bd975-285">Open - Scheduled</span></span>
- <span data-ttu-id="bd975-286">Avatud – pooleli</span><span class="sxs-lookup"><span data-stu-id="bd975-286">Open - In Progress</span></span>
- <span data-ttu-id="bd975-287">Avatud – lõpule viidud</span><span class="sxs-lookup"><span data-stu-id="bd975-287">Open - Completed</span></span>
- <span data-ttu-id="bd975-288">Suletud – sisestatud</span><span class="sxs-lookup"><span data-stu-id="bd975-288">Closed - Posted</span></span>

## <a name="field-service-crm-solution"></a><span data-ttu-id="bd975-289">Rakenduse Field Service CRM lahendus</span><span class="sxs-lookup"><span data-stu-id="bd975-289">Field Service CRM solution</span></span>

<span data-ttu-id="bd975-290">Rakenduste Field Service ja Finance and Operations vahelise integratsiooni toetamiseks on vajalikud rakenduse Field Service CRM lahenduse lisafunktsioonid.</span><span class="sxs-lookup"><span data-stu-id="bd975-290">To support the integration between Field Service and Finance and Operations, additional functionality from the Field Service CRM solution is required.</span></span> <span data-ttu-id="bd975-291">Lahendus sisaldab järgmisi muudatusi.</span><span class="sxs-lookup"><span data-stu-id="bd975-291">The solution includes the following changes.</span></span>

### <a name="work-order-entity"></a><span data-ttu-id="bd975-292">Töökäsu olem</span><span class="sxs-lookup"><span data-stu-id="bd975-292">Work Order entity</span></span>

<span data-ttu-id="bd975-293">**Töökäsu** olemile on lisatud väli **Sisaldab ainult väliselt hallatavaid tooteid**, mis ilmub lehel.</span><span class="sxs-lookup"><span data-stu-id="bd975-293">The **Has Externally Maintained Products Only** field has been added to the **Work Order** entity and appears on the page.</span></span> <span data-ttu-id="bd975-294">Seda kasutatakse, et jälgida pidevalt, kas töökäsk sisaldab ainult väliselt hallatavaid tooteid.</span><span class="sxs-lookup"><span data-stu-id="bd975-294">It's used to consistently track whether a work order consists entirely of externally maintained products.</span></span> <span data-ttu-id="bd975-295">Töökäsk sisaldab ainult väliselt hallatavaid tooteid, kui kõiki seotud tooteid hallatakse rakenduses Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="bd975-295">A work order consists entirely of externally maintained products when all the related products are maintained in Finance and Operations.</span></span> <span data-ttu-id="bd975-296">See väli aitab tagada, et kasutaja ei püüaks sünkroonida töökäske, mis hõlmavad rakenduse Finance and Operations jaoks tundmatuid tooteid.</span><span class="sxs-lookup"><span data-stu-id="bd975-296">This field helps guarantee that users don't synchronize work orders that have products that are unknown to Finance and Operations.</span></span>

### <a name="work-order-product-entity"></a><span data-ttu-id="bd975-297">Töökäsu tooteüksus</span><span class="sxs-lookup"><span data-stu-id="bd975-297">Work Order Product entity</span></span>

- <span data-ttu-id="bd975-298">**Töökäsu tooteüksusele** on lisatud väli **Tellimus sisaldab ainult väliselt hallatavaid tooteid**, mis ilmub lehel.</span><span class="sxs-lookup"><span data-stu-id="bd975-298">The **Order Has Externally Maintained Products Only** field has been added to the **Work Order Product** entity and appears on the page.</span></span> <span data-ttu-id="bd975-299">Seda kasutatakse, et jälgida pidevalt, kas töökäsu toodet hallatakse rakenduses Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="bd975-299">It's used to consistently track whether the work order product is maintained in Finance and Operations.</span></span> <span data-ttu-id="bd975-300">See väli aitab tagada, et kasutaja ei püüaks sünkroonida töökäsu tooteid, mis hõlmavad rakenduse Finance and Operations jaoks tundmatuid tooteid.</span><span class="sxs-lookup"><span data-stu-id="bd975-300">This field helps guarantee that users don't synchronize work order products that are unknown to Finance and Operations.</span></span>
- <span data-ttu-id="bd975-301">**Töökäsu tooteüksusele** on lisatud väli **Päise süsteemi olek**, mis ilmub lehel.</span><span class="sxs-lookup"><span data-stu-id="bd975-301">The **Header System Status** field has been added to the **Work Order Product** entity and appears on the page.</span></span> <span data-ttu-id="bd975-302">Seda kasutatakse, et jälgida pidevalt töökäsu süsteemi olekut ja see aitab tagada, et töökäsu toodete sünkroonimisel rakendusse Finance and Operations kasutatakse õiget filtreerimist.</span><span class="sxs-lookup"><span data-stu-id="bd975-302">It's used to consistently track the system status of the work order and helps guarantee correct filtering when work order products are synchronized to Finance and Operations.</span></span> <span data-ttu-id="bd975-303">Kui filtrid on integratsiooni ülesannete jaoks määratud, kasutatakse eeldatavate või kasutatud väärtuste sünkroonimisvajaduse määramiseks välja **Päise süsteemi olek** teave.</span><span class="sxs-lookup"><span data-stu-id="bd975-303">When filters are set on the integration tasks, **Header System Status** information is also used to determine whether the estimated or used values should be synchronized.</span></span>
- <span data-ttu-id="bd975-304">Väljal **Arveldatud ühikusumma** kuvatakse tegeliku kasutatud ühiku arveldatud summa.</span><span class="sxs-lookup"><span data-stu-id="bd975-304">The **Invoiced Unit Amount** field shows the amount that is invoiced per actual unit that is used.</span></span> <span data-ttu-id="bd975-305">Väärtus arvutatakse selliselt, et välja **Kogusumma** väärtus jagatakse välja **Tegelik kogus** väärtusega.</span><span class="sxs-lookup"><span data-stu-id="bd975-305">The value is calculated as the **Total Amount** value divided by the **Actual Quantity** value.</span></span> <span data-ttu-id="bd975-306">Välja kasutatakse integratsiooniks süsteemidega, mis ei toeta eri väärtusi kasutatud koguse ja arveldatud koguse jaoks.</span><span class="sxs-lookup"><span data-stu-id="bd975-306">The field is used for integration to systems that don't support different values for the used quantity and the billed quantity.</span></span> <span data-ttu-id="bd975-307">Seda välja ei kuvata kasutajaliideses (UI).</span><span class="sxs-lookup"><span data-stu-id="bd975-307">This field doesn't appear in the user interface (UI).</span></span> 
- <span data-ttu-id="bd975-308">Välja **Arveldatud allahindluse summa** arvutatakse selliselt, et välja **Allahindluse summa** väärtusele liidetakse välja **Arveldatud ühikusumma** arvutuse ümardatud väärtus.</span><span class="sxs-lookup"><span data-stu-id="bd975-308">The **Invoiced Discount Amount** field is calculated as the **Discount Amount** value plus the rounding from the calculation of the **Invoiced Unit Amount** value.</span></span> <span data-ttu-id="bd975-309">Seda välja kasutatakse integratsiooniks ja ei kuvata kasutajaliideses.</span><span class="sxs-lookup"><span data-stu-id="bd975-309">This field is used for integration and doesn't appear in the UI.</span></span>
- <span data-ttu-id="bd975-310">Väljal **Kümnendkogus** säilitatakse välja **Kogus** väärtus kümnendarvuna.</span><span class="sxs-lookup"><span data-stu-id="bd975-310">The **Decimal Quantity** field stores the value from the **Quantity** field as a decimal number.</span></span> <span data-ttu-id="bd975-311">Seda välja kasutatakse integratsiooniks ja ei kuvata kasutajaliideses.</span><span class="sxs-lookup"><span data-stu-id="bd975-311">This field is used for integration and doesn't appear in the UI.</span></span> 
- <span data-ttu-id="bd975-312">Välja **Kasutatud** väärtus lähtestatakse väärtuseni **0** (null), kui töökäsu toote välja **Rea olek** väärtus **Kasutatud** muudetakse väärtuseks **Eeldatav**.</span><span class="sxs-lookup"><span data-stu-id="bd975-312">The value in **Used** fields is reset to **0** (zero) if the **Line Status** value of the work order product is changed from **Used** to **Estimated**.</span></span> <span data-ttu-id="bd975-313">See muudatus aitab ennetada olukordi, kus ekslikult sisestatud kasutatud kogust kasutatakse sünkroonimiseks, kui välja **Rea olek** väärtus on **Eeldatav** ja suvandi **Eraldatud** väärtuseks on määratud **Ei**.</span><span class="sxs-lookup"><span data-stu-id="bd975-313">This change helps prevent situations where a used quantity that is mistakenly entered is used for synchronization when the **Line Status** value is **Estimated** and the **Allocated** option is set to **No**.</span></span>

### <a name="work-order-service-entity"></a><span data-ttu-id="bd975-314">Töökäsu teenusüksus</span><span class="sxs-lookup"><span data-stu-id="bd975-314">Work Order Service entity</span></span>

- <span data-ttu-id="bd975-315">**Töökäsu teenusüksusele** on lisatud väli **Tellimus sisaldab ainult väliselt hallatavaid tooteid**, mis ilmub lehel.</span><span class="sxs-lookup"><span data-stu-id="bd975-315">The **Order Has Externally Maintained Products Only** field has been added to the **Work Order Service** entity and appears on the page.</span></span> <span data-ttu-id="bd975-316">Seda kasutatakse, et jälgida pidevalt, kas töökäsu teenust hallatakse rakenduses Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="bd975-316">It's used to consistently track whether the work order service is maintained in Finance and Operations.</span></span> <span data-ttu-id="bd975-317">See väli aitab tagada, et kasutaja ei püüaks sünkroonida töökäsu teenuseid, mis hõlmavad rakenduse Finance and Operations jaoks tundmatuid teenuseid.</span><span class="sxs-lookup"><span data-stu-id="bd975-317">This field helps guarantee that users don't synchronize work order services that are unknown to Finance and Operations.</span></span>
- <span data-ttu-id="bd975-318">**Töökäsu teenusüksusele** on lisatud väli **Päise süsteemi olek**, mis ilmub lehel.</span><span class="sxs-lookup"><span data-stu-id="bd975-318">The **Header System Status** field has been added to the **Work Order Service** entity and appears on the page.</span></span> <span data-ttu-id="bd975-319">Seda kasutatakse, et jälgida pidevalt töökäsu süsteemi olekut, ja see aitab tagada, et töökäsu teenuste sünkroonimisel rakendusse Finance and Operations kasutatakse õiget filtreerimist.</span><span class="sxs-lookup"><span data-stu-id="bd975-319">It's used to consistently track the system status of the work order and helps guarantee correct filtering when work order services are synchronized to Finance and Operations.</span></span> <span data-ttu-id="bd975-320">Kui filtrid on integratsiooni ülesannete jaoks määratud, kasutatakse eeldatavate või kasutatud väärtuste sünkroonimisvajaduse määramiseks välja **Päise süsteemi olek** teave.</span><span class="sxs-lookup"><span data-stu-id="bd975-320">When filters are set on the integration tasks, **Header System Status** information is also used to determine whether the estimated or used values should be synchronized.</span></span>
- <span data-ttu-id="bd975-321">Väljal **Kestus tundides** säilitatakse välja **Kestus** väärtus pärast minutitest tundideks teisendamist.</span><span class="sxs-lookup"><span data-stu-id="bd975-321">The **Duration In Hours** field stores the value from the **Duration** field after that value is converted from minutes to hours.</span></span> <span data-ttu-id="bd975-322">Seda välja kasutatakse integratsiooniks ja ei kuvata kasutajaliideses.</span><span class="sxs-lookup"><span data-stu-id="bd975-322">This field is used for integration and doesn't appear in the UI.</span></span>
- <span data-ttu-id="bd975-323">Väljal **Eeldatav kestus tundides** säilitatakse välja **Eeldatav kestus** väärtus pärast minutitest tundideks teisendamist.</span><span class="sxs-lookup"><span data-stu-id="bd975-323">The **Estimated Duration In Hours** field stores the value from the **Estimated Duration** field after that value is converted from minutes to hours.</span></span> <span data-ttu-id="bd975-324">Seda välja kasutatakse integratsiooniks ja ei kuvata kasutajaliideses.</span><span class="sxs-lookup"><span data-stu-id="bd975-324">This field is used for integration and doesn't appear in the UI.</span></span>
- <span data-ttu-id="bd975-325">Väljal **Arveldatud ühikusumma** säilitatakse tegeliku kasutatud ühiku arveldatud summa.</span><span class="sxs-lookup"><span data-stu-id="bd975-325">The **Invoiced Unit Amount** field stores the amount that is invoiced per actual unit that is used.</span></span> <span data-ttu-id="bd975-326">Väärtus arvutatakse selliselt, et välja **Kogusumma** väärtus jagatakse välja **Tegelik kogus** väärtusega.</span><span class="sxs-lookup"><span data-stu-id="bd975-326">The value is calculated as the **Total Amount** value divided by the **Actual Quantity** value.</span></span> <span data-ttu-id="bd975-327">Seda välja kasutatakse integratsiooniks süsteemidega, mis ei toeta eri väärtusi kasutatud koguse ja arveldatud koguse jaoks.</span><span class="sxs-lookup"><span data-stu-id="bd975-327">This field is used for integration to systems that don't support different values for the used quantity and the billed quantity.</span></span> <span data-ttu-id="bd975-328">Välja ei kuvata kasutajaliideses.</span><span class="sxs-lookup"><span data-stu-id="bd975-328">The field doesn't appear in the UI.</span></span>
- <span data-ttu-id="bd975-329">Välja **Arveldatud allahindluse summa** arvutatakse selliselt, et välja **Allahindluse summa** väärtusele liidetakse välja **Arveldatud ühikusumma** arvutuse ümardatud väärtus.</span><span class="sxs-lookup"><span data-stu-id="bd975-329">The **Invoiced Discount Amount** field is calculated as the **Discount Amount** value plus the rounding from the calculation of the **Invoiced Unit Amount** value.</span></span> <span data-ttu-id="bd975-330">Seda välja kasutatakse integratsiooniks ja ei kuvata kasutajaliideses.</span><span class="sxs-lookup"><span data-stu-id="bd975-330">This field is used for integration and doesn't appear in the UI.</span></span>
- <span data-ttu-id="bd975-331">Väli **Väline reatellimus** on arvutatud reatellimuse negatiivne number, mida saab kasutada välissüsteemides, kus töökäsu toote- ja teenusread on ühendatud.</span><span class="sxs-lookup"><span data-stu-id="bd975-331">The **External Line Order** field is a calculated negative line order number that can be used in external systems where work order product and service lines are combined.</span></span> <span data-ttu-id="bd975-332">See väli võimaldab sisestatud töökäsu toodetele positiivseid reanumbreid ja töökäsu teenustele negatiivseid reanumbreid lisada.</span><span class="sxs-lookup"><span data-stu-id="bd975-332">This field enables work order products that are inserted to have positive line numbers and work order services to have negative line numbers.</span></span> <span data-ttu-id="bd975-333">Selle välja väärtuse arvutamiseks korrutatakse välja **Rea tellimuse** -1-ga.</span><span class="sxs-lookup"><span data-stu-id="bd975-333">The value of this this field is calculated as the **Line Order** value multiplied by -1.</span></span> <span data-ttu-id="bd975-334">Seda välja ei kuvata kasutajaliideses.</span><span class="sxs-lookup"><span data-stu-id="bd975-334">This field doesn't appear in the UI.</span></span>
- <span data-ttu-id="bd975-335">Välja **Kasutatud** väärtus lähtestatakse väärtuseni **0** (null), kui töökäsu teenuse välja **Rea olek** väärtus **Kasutatud** muudetakse mingil põhjusel väärtuseks **Eeldatav**.</span><span class="sxs-lookup"><span data-stu-id="bd975-335">The value in **Used** fields is reset to **0** (zero) if the **Line Status** value of the work order service is changed from **Used** to **Estimated** for some reason.</span></span> <span data-ttu-id="bd975-336">See muudatus aitab ennetada olukordi, kus ekslikult sisestatud kasutatud kogust kasutatakse sünkroonimiseks, kui välja **Rea olek** väärtus on **Eeldatav** ja suvandi **Päise süsteemi olek** väärtuseks on määratud **Suletud – sisestatud**.</span><span class="sxs-lookup"><span data-stu-id="bd975-336">This change helps prevent situations where a used quantity that is mistakenly entered is used for synchronization when the **Line Status** value is **Estimated** and the **Header System Status** value is **Closed – Posted**.</span></span>

## <a name="preconditions-and-mapping-setup"></a><span data-ttu-id="bd975-337">Eeltingimused ja vastendamise seadistamine</span><span class="sxs-lookup"><span data-stu-id="bd975-337">Preconditions and mapping setup</span></span>

<span data-ttu-id="bd975-338">Enne töökäskude sünkroonimist on oluline värskendada süsteemides järgmisi sätteid.</span><span class="sxs-lookup"><span data-stu-id="bd975-338">Before you synchronize work orders, it's important that you update the following settings in the systems.</span></span>

### <a name="setup-in-field-service"></a><span data-ttu-id="bd975-339">Rakenduse Field Service seadistus</span><span class="sxs-lookup"><span data-stu-id="bd975-339">Setup in Field Service</span></span>

- <span data-ttu-id="bd975-340">Veenduge, et numbriseeria, mida kasutatakse rakenduses Field Service töökäskude jaoks, ei kattuks numbriseeriaga, mida kasutatakse müügitellimuste jaoks rakenduses Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="bd975-340">Make sure that the number series that is used for work orders in Field Service doesn't overlap the number sequence that is used for sales orders in Finance and Operations.</span></span> <span data-ttu-id="bd975-341">Muidu võidakse olemasolevaid müügitellimusi rakenduses Field Service või Finance and Operations valesti värskendada.</span><span class="sxs-lookup"><span data-stu-id="bd975-341">Otherwise, existing sales orders can be incorrectly updated in Field Service or Finance and Operations.</span></span>
- <span data-ttu-id="bd975-342">Väli **Töökäsu arve loomine** väärtuseks peab olema seatud **Mitte kunagi**, sest arveldamiseks kasutatakse rakendust Finance and Operations.</span><span class="sxs-lookup"><span data-stu-id="bd975-342">The **Work Order Invoice Creation** field must be set to **Never**, because the invoicing will be done from Finance and Operations.</span></span> <span data-ttu-id="bd975-343">Avage **Field Service** \> **Sätted** \> **Haldus** \> **Field Service’i sätted** ja veenduge, et välja **Töökäsu arve loomine** väärtuseks oleks seatud **Mitte kunagi**.</span><span class="sxs-lookup"><span data-stu-id="bd975-343">Go to **Field Service** \> **Settings** \> **Administration** \> **Field Service Settings**, and make sure that the **Work Order Invoice Creation** field is set to **Never**.</span></span>

### <a name="setup-in-finance-and-operations"></a><span data-ttu-id="bd975-344">Seadistus rakenduses Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="bd975-344">Setup in Finance and Operations</span></span>

<span data-ttu-id="bd975-345">Töökäsu integratsiooni puhul on vajalik seadistada müügiallikas.</span><span class="sxs-lookup"><span data-stu-id="bd975-345">Work order integration requires that you set up the sales origin.</span></span> <span data-ttu-id="bd975-346">Müügiallikat kasutatakse, et eristada müügitellimusi rakendusest Finance and Operations, mis on loodud rakenduse Field Service töökäskudest.</span><span class="sxs-lookup"><span data-stu-id="bd975-346">The sales origin is used to distinguish sales orders in Finance and Operations that were created from work orders in Field Service.</span></span> <span data-ttu-id="bd975-347">Kui müügitellimuse müügiallika tüübiks on **Töökäsu integratsioon**, kuvatakse müügitellimuse päises väli **Välise töö tellimuse olek**.</span><span class="sxs-lookup"><span data-stu-id="bd975-347">When a sales order has a sales origin of the **Work order integration** type, the **External work order status** field appears on the sales order header.</span></span> <span data-ttu-id="bd975-348">Lisaks aitab müügiallikas tagada, et rakenduse Field Service töökäskudest loodud müügitellimused filtreeritakse välja müügitellimuse sünkroonimisel rakendusest Finance and Operations rakendusse Field Service.</span><span class="sxs-lookup"><span data-stu-id="bd975-348">Additionally, the sales origin helps guarantee that sales orders that were created from work orders in Field Service are filtered out during sales order synchronization from Finance and Operations to Field Service.</span></span>

1. <span data-ttu-id="bd975-349">Avage **Müük ja turundus** \> **Seadistus** \> **Müügitellimused** \> **Müügiallikas**.</span><span class="sxs-lookup"><span data-stu-id="bd975-349">Go to **Sales and marketing** \> **Setup** \> **Sales orders** \> **Sales origin**.</span></span>
2. <span data-ttu-id="bd975-350">Uue müügiallika loomiseks valige **Uus**.</span><span class="sxs-lookup"><span data-stu-id="bd975-350">Select **New** to create a new sales origin.</span></span>
3. <span data-ttu-id="bd975-351">Sisestage väljal **Müügiallikas** müügiallika nimi, näiteks **WorkOrder**.</span><span class="sxs-lookup"><span data-stu-id="bd975-351">In the **Sales origin** field, enter a name for the sales origin, such as **WorkOrder**.</span></span>
4. <span data-ttu-id="bd975-352">Sisestage väljale **Kirjeldus** kirjeldus, näiteks **Field Service’i töökäsk**.</span><span class="sxs-lookup"><span data-stu-id="bd975-352">In the **Description** field, enter a description, such as **Field Service Work Order**.</span></span>
5. <span data-ttu-id="bd975-353">Valige märkeruut **Päritolu tüübi määramine**.</span><span class="sxs-lookup"><span data-stu-id="bd975-353">Select the **Origin type assignment** check box.</span></span>
6. <span data-ttu-id="bd975-354">Seadke välja **Müügi päritolu tüüp** väärtuseks **Töökäsu integratsioon**.</span><span class="sxs-lookup"><span data-stu-id="bd975-354">Set the **Sales origin type** field to **Work order integration**.</span></span>
7. <span data-ttu-id="bd975-355">Valige **Salvesta**.</span><span class="sxs-lookup"><span data-stu-id="bd975-355">Select **Save**.</span></span>


### <a name="setup-in-data-integration"></a><span data-ttu-id="bd975-356">Seadistus andmete integratsioonis</span><span class="sxs-lookup"><span data-stu-id="bd975-356">Setup in Data integration</span></span>

<span data-ttu-id="bd975-357">Veenduge, et üksuse **msdyn_workorders** jaoks oleks olemas **integreerimisvõti**.</span><span class="sxs-lookup"><span data-stu-id="bd975-357">Ensure the **Integration key** exist for **msdyn_workorders**</span></span>
1. <span data-ttu-id="bd975-358">Avage andmete integratsioon</span><span class="sxs-lookup"><span data-stu-id="bd975-358">Go to Data Integration</span></span>
2. <span data-ttu-id="bd975-359">Valige vahekaart **Ühenduskomplekt**</span><span class="sxs-lookup"><span data-stu-id="bd975-359">Select **Connection Set** tab</span></span>
3. <span data-ttu-id="bd975-360">Valige töökäsu sünkroonimiseks kasutatud ühenduskomplekt</span><span class="sxs-lookup"><span data-stu-id="bd975-360">Select the Connection set used for Work order synchronization</span></span>
4. <span data-ttu-id="bd975-361">Valige vahekaart **Integreerimisvõti**</span><span class="sxs-lookup"><span data-stu-id="bd975-361">Select **Integration key** tab</span></span>
5. <span data-ttu-id="bd975-362">Leidke msdyn_workorders ja kontrollige, kas võti **msdyn_name (töökäsu kood)** on lisatud.</span><span class="sxs-lookup"><span data-stu-id="bd975-362">Find msdyn_workorders and check that the key **msdyn_name (Work Order Number)** is added.</span></span> <span data-ttu-id="bd975-363">Kui seda ei kuvata, klõpsake selle lisamiseks lehe ülaosas valikut **Lisa võti** ja **Salvesta**</span><span class="sxs-lookup"><span data-stu-id="bd975-363">If it is not shown, add it by click **Add key** and click **Save** in the top of the page</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="bd975-364">Malli vastendamine andmete integratsioonis</span><span class="sxs-lookup"><span data-stu-id="bd975-364">Template mapping in Data integration</span></span>

<span data-ttu-id="bd975-365">Järgmistel joonistel on näidatud malli vastendamine andmete integratsioonis.</span><span class="sxs-lookup"><span data-stu-id="bd975-365">The following illustrations show the template mapping in Data integration.</span></span>

### <a name="work-orders-to-sales-orders-field-service-to-fin-and-ops-workorderheader"></a><span data-ttu-id="bd975-366">Töökäsud müügitellimusteks (Field Service'ist Fin and Opsi): WorkOrderHeader</span><span class="sxs-lookup"><span data-stu-id="bd975-366">Work orders to Sales orders (Field Service to Fin and Ops): WorkOrderHeader</span></span>

<span data-ttu-id="bd975-367">Filter: (msdyn_systemstatus ne 690970005) ja (msdyn_systemstatus ne 690970000) ja (msdynce_hasexternallymaintainedproductsonly eq true)</span><span class="sxs-lookup"><span data-stu-id="bd975-367">Filter: (msdyn_systemstatus ne 690970005) and (msdyn_systemstatus ne 690970000) and (msdynce_hasexternallymaintainedproductsonly eq true)</span></span>

<span data-ttu-id="bd975-368">[![Malli vastendamine andmete integratsioonis](./media/FSWorkOrder1.png )](./media/FSWorkOrder1.png)</span><span class="sxs-lookup"><span data-stu-id="bd975-368">[![Template mapping in Data integration](./media/FSWorkOrder1.png )](./media/FSWorkOrder1.png)</span></span>

### <a name="work-orders-to-sales-orders-field-service-to-fin-and-ops-workorderservicelineestimate"></a><span data-ttu-id="bd975-369">Töökäsud müügitellimusteks (Field Service'ist Fin and Opsi): WorkOrderServiceLineEstimate</span><span class="sxs-lookup"><span data-stu-id="bd975-369">Work orders to Sales orders (Field Service to Fin and Ops): WorkOrderServiceLineEstimate</span></span>

<span data-ttu-id="bd975-370">Filter: (msdynce_headersystemstatus ne 690970005) ja (msdynce_headersystemstatus ne 690970000) ja (msdynce_orderhasexternalmaintainedproductsonly eq true) ja (msdyn_linestatus eq 690970000) ja (msdynce_headersystemstatus ne 690970004)</span><span class="sxs-lookup"><span data-stu-id="bd975-370">Filter: (msdynce_headersystemstatus ne 690970005) and (msdynce_headersystemstatus ne 690970000) and (msdynce_orderhasexternalmaintainedproductsonly eq true) and (msdyn_linestatus eq 690970000) and (msdynce_headersystemstatus ne 690970004)</span></span>

<span data-ttu-id="bd975-371">[![Malli vastendamine andmete integratsioonis](./media/FSWorkOrder2.png )](./media/FSWorkOrder2.png)</span><span class="sxs-lookup"><span data-stu-id="bd975-371">[![Template mapping in Data integration](./media/FSWorkOrder2.png )](./media/FSWorkOrder2.png)</span></span>

### <a name="work-orders-to-sales-orders-field-service-to-fin-and-ops-workorderservicelineused"></a><span data-ttu-id="bd975-372">Töökäsud müügitellimusteks (Field Service'ist Fin and Opsi): WorkOrderServiceLineUsed</span><span class="sxs-lookup"><span data-stu-id="bd975-372">Work orders to Sales orders (Field Service to Fin and Ops): WorkOrderServiceLineUsed</span></span>

<span data-ttu-id="bd975-373">Filter: (msdynce_headersystemstatus ne 690970005) ja (msdynce_headersystemstatus ne 690970000) ja (msdynce_orderhasexternalmaintainedproductsonly eq true) ja ((msdyn_linestatus eq 690970001) või (msdynce_headersystemstatus eq 690970004))</span><span class="sxs-lookup"><span data-stu-id="bd975-373">Filter: (msdynce_headersystemstatus ne 690970005) and (msdynce_headersystemstatus ne 690970000) and (msdynce_orderhasexternalmaintainedproductsonly eq true) and ((msdyn_linestatus eq 690970001) or (msdynce_headersystemstatus eq 690970004))</span></span>

<span data-ttu-id="bd975-374">[![Malli vastendamine andmete integratsioonis](./media/FSWorkOrder3.png )](./media/FSWorkOrder3.png)</span><span class="sxs-lookup"><span data-stu-id="bd975-374">[![Template mapping in Data integration](./media/FSWorkOrder3.png )](./media/FSWorkOrder3.png)</span></span>

### <a name="work-orders-to-sales-orders-field-service-to-fin-and-ops-workorderproductlineestimate"></a><span data-ttu-id="bd975-375">Töökäsud müügitellimusteks (Field Service'ist Fin and Opsi): WorkOrderProductLineEstimate</span><span class="sxs-lookup"><span data-stu-id="bd975-375">Work orders to Sales orders (Field Service to Fin and Ops): WorkOrderProductLineEstimate</span></span>

<span data-ttu-id="bd975-376">Filter: (msdynce_headersystemstatus ne 690970005) ja (msdynce_headersystemstatus ne 690970000) ja (msdynce_orderhasexternalmaintainedproductsonly eq true) ja (msdyn_linestatus eq 690970000) ja (msdynce_headersystemstatus ne 690970004) ja (msdyn_allocated eq true)</span><span class="sxs-lookup"><span data-stu-id="bd975-376">Filter: (msdynce_headersystemstatus ne 690970005) and (msdynce_headersystemstatus ne 690970000) and (msdynce_orderhasexternalmaintainedproductsonly eq true) and (msdyn_linestatus eq 690970000) and (msdynce_headersystemstatus ne 690970004) and (msdyn_allocated eq true)</span></span>

<span data-ttu-id="bd975-377">[![Malli vastendamine andmete integratsioonis](./media/FSWorkOrder4.png )](./media/FSWorkOrder4.png)</span><span class="sxs-lookup"><span data-stu-id="bd975-377">[![Template mapping in Data integration](./media/FSWorkOrder4.png )](./media/FSWorkOrder4.png)</span></span>

### <a name="work-orders-to-sales-orders-field-service-to-fin-and-ops-workorderproductlineused"></a><span data-ttu-id="bd975-378">Töökäsud müügitellimusteks (Field Service'ist Fin and Opsi): WorkOrderProductLineUsed</span><span class="sxs-lookup"><span data-stu-id="bd975-378">Work orders to Sales orders (Field Service to Fin and Ops): WorkOrderProductLineUsed</span></span>

<span data-ttu-id="bd975-379">Filter: (msdynce_headersystemstatus ne 690970005) ja (msdynce_headersystemstatus ne 690970000) ja (msdynce_orderhasexternalmaintainedproductsonly eq true) ja ((msdyn_linestatus eq 690970001) või (msdynce_headersystemstatus eq 690970004) või (msdyn_allocated ne true))</span><span class="sxs-lookup"><span data-stu-id="bd975-379">Filter: (msdynce_headersystemstatus ne 690970005) and (msdynce_headersystemstatus ne 690970000) and (msdynce_orderhasexternalmaintainedproductsonly eq true) and ((msdyn_linestatus eq 690970001) or (msdynce_headersystemstatus eq 690970004) or (msdyn_allocated ne true))</span></span>

<span data-ttu-id="bd975-380">[![Malli vastendamine andmete integratsioonis](./media/FSWorkOrder5.png )](./media/FSWorkOrder5.png)</span><span class="sxs-lookup"><span data-stu-id="bd975-380">[![Template mapping in Data integration](./media/FSWorkOrder5.png )](./media/FSWorkOrder5.png)</span></span>
