---
title: Müügitellimuste vahetu sünkroonimine rakenduse Sales ja rakenduse Supply Chain Management vahel
description: Selles teemas käsitletakse malle ja aluseks olevaid ülesandeid, mida kasutatakse müügitellimuste sünkroonimise käivitamiseks rakenduste Dynamics 365 Sales ja Dynamics 365 Supply Chain Management vahel.
author: ChristianRytt
manager: tfehr
ms.date: 05/09/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: ''
audience: Application User, IT Pro
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.custom: ''
ms.assetid: ''
ms.search.region: global
ms.search.industry: ''
ms.author: crytt
ms.dyn365.ops.version: July 2017 update
ms.search.validFrom: 2017-07-8
ms.openlocfilehash: 3eaa25f0befcff448250ba2cce8e568fa4a4c707
ms.sourcegitcommit: 4f9912439ff78acf0c754d5bff972c4b85763093
ms.translationtype: HT
ms.contentlocale: et-EE
ms.lasthandoff: 04/02/2020
ms.locfileid: "3212959"
---
# <a name="synchronization-of-sales-orders-directly-between-sales-and-supply-chain-management"></a><span data-ttu-id="0734a-103">Müügitellimuste vahetu sünkroonimine rakenduse Sales ja rakenduse Supply Chain Management vahel</span><span class="sxs-lookup"><span data-stu-id="0734a-103">Synchronization of sales orders directly between Sales and Supply Chain Management</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="0734a-104">Selles teemas käsitletakse malle ja aluseks olevaid ülesandeid, mida kasutatakse müügitellimuste sünkroonimise käivitamiseks rakenduste Dynamics 365 Sales ja Dynamics 365 Supply Chain Management vahel.</span><span class="sxs-lookup"><span data-stu-id="0734a-104">The topic discusses the templates and underlying tasks that are used to run synchronization of sales orders directly between Dynamics 365 Sales and Dynamics 365 Supply Chain Management.</span></span>

## <a name="data-flow-in-prospect-to-cash"></a><span data-ttu-id="0734a-105">Andmevoog lahenduses Potentsiaalne klient sularahaks</span><span class="sxs-lookup"><span data-stu-id="0734a-105">Data flow in Prospect to cash</span></span>

<span data-ttu-id="0734a-106">Lahendus Potentsiaalne klient sularahaks kasutab andmete integreerimise funktsiooni andmete sünkroonimiseks rakenduste Supply Chain Management ja Sales vahel.</span><span class="sxs-lookup"><span data-stu-id="0734a-106">The Prospect to cash solution uses the Data integration feature to synchronize data across instances of Supply Chain Management and Sales.</span></span> <span data-ttu-id="0734a-107">Andmeintegratsiooni funktsiooniga saadaolevad Prospect to cash mallid võimaldavad andmevahetust kontode, kontaktide, toodete, müügihindade, müügitellimuste ja müügiarvete kohta Supply Chain Managementi ja Salesi vahel.</span><span class="sxs-lookup"><span data-stu-id="0734a-107">The Prospect to cash templates that are available with the Data integration feature enable the flow of data for accounts, contacts, products, sales quotations, sales orders, and sales invoices between Supply Chain Management and Sales.</span></span> <span data-ttu-id="0734a-108">Järgmine illustratsioon näitab, kuidas sünkroonitakse andmeid rakenduste Supply Chain Management ja Sales vahel.</span><span class="sxs-lookup"><span data-stu-id="0734a-108">The following illustration shows how the data is synchronized between Supply Chain Management and Sales.</span></span>

<span data-ttu-id="0734a-109">[![Andmevoog lahenduses Potentsiaalne klient sularahaks](./media/prospect-to-cash-data-flow.png)](./media/prospect-to-cash-data-flow.png)</span><span class="sxs-lookup"><span data-stu-id="0734a-109">[![Data flow in Prospect to cash](./media/prospect-to-cash-data-flow.png)](./media/prospect-to-cash-data-flow.png)</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="0734a-110">Mallid ja ülesanded</span><span class="sxs-lookup"><span data-stu-id="0734a-110">Templates and tasks</span></span>

<span data-ttu-id="0734a-111">Saadaolevatele mallidele juurdepääsemiseks avage [Power Apps administreerimiskeskus](https://preview.admin.powerapps.com/dataintegration).</span><span class="sxs-lookup"><span data-stu-id="0734a-111">To access the available templates, open [Power Apps Admin Center](https://preview.admin.powerapps.com/dataintegration).</span></span> <span data-ttu-id="0734a-112">Valige **Projektid** ja seejärel paremas ülanurgas **Uus projekt**, et valida avalikud mallid.</span><span class="sxs-lookup"><span data-stu-id="0734a-112">Select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="0734a-113">Müügitellimuste sünkroonimiseks rakenduste Sales ja Supply Chain Management vahel kasutatakse järgmisi malle ja aluseks olevaid ülesandeid.</span><span class="sxs-lookup"><span data-stu-id="0734a-113">The following templates and underlying tasks are used to run synchronization of sales orders directly between Sales and Supply Chain Management.</span></span>

- <span data-ttu-id="0734a-114">**Mallide nimed andmete integratsioonis.**</span><span class="sxs-lookup"><span data-stu-id="0734a-114">**Names of the templates in Data integration:**</span></span> 

    - <span data-ttu-id="0734a-115">Müügitellimused (rakendusest Sales rakendusse Supply Chain Management) – otse</span><span class="sxs-lookup"><span data-stu-id="0734a-115">Sales Orders (Sales to Supply Chain Management) - Direct</span></span>
    - <span data-ttu-id="0734a-116">Müügitellimused (Supply Chain Managementist Salesi) – otse</span><span class="sxs-lookup"><span data-stu-id="0734a-116">Sales Orders (Supply Chain Management to Sales) - Direct</span></span>

- <span data-ttu-id="0734a-117">**Ülesannete nimed andmete integratsiooni projektis.**</span><span class="sxs-lookup"><span data-stu-id="0734a-117">**Names of the tasks in the Data integration project:**</span></span>

    - <span data-ttu-id="0734a-118">OrderHeader</span><span class="sxs-lookup"><span data-stu-id="0734a-118">OrderHeader</span></span>
    - <span data-ttu-id="0734a-119">OrderLine</span><span class="sxs-lookup"><span data-stu-id="0734a-119">OrderLine</span></span>

<span data-ttu-id="0734a-120">Enne müügiarvete päiste ja ridade sünkroonimist on nõutavad järgmised sünkroonimisülesanded.</span><span class="sxs-lookup"><span data-stu-id="0734a-120">The following synchronization tasks are required before synchronization of sales invoice headers and lines can occur:</span></span>

- <span data-ttu-id="0734a-121">Tooted (rakendusest Supply Chain Management rakendusse Sales) - otse</span><span class="sxs-lookup"><span data-stu-id="0734a-121">Products (Supply Chain Management to Sales) - Direct</span></span>
- <span data-ttu-id="0734a-122">Kontod (rakendusest Sales rakendusse Supply Chain Management) - otse (kui kasutatakse)</span><span class="sxs-lookup"><span data-stu-id="0734a-122">Accounts (Sales to Supply Chain Management) - Direct (if used)</span></span>
- <span data-ttu-id="0734a-123">Kontaktid klientidesse (Salesist Supply Chain Managementi) - otse (kui kasutatakse)</span><span class="sxs-lookup"><span data-stu-id="0734a-123">Contacts to Customers (Sales to Supply Chain Management) - Direct (if used)</span></span>

## <a name="entity-set"></a><span data-ttu-id="0734a-124">Üksuste komplekt</span><span class="sxs-lookup"><span data-stu-id="0734a-124">Entity set</span></span>

| <span data-ttu-id="0734a-125">Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="0734a-125">Supply Chain Management</span></span>  | <span data-ttu-id="0734a-126">Müük</span><span class="sxs-lookup"><span data-stu-id="0734a-126">Sales</span></span>             |
|-------------------------|-------------------|
| <span data-ttu-id="0734a-127">CDS-i müügitellimuse päised</span><span class="sxs-lookup"><span data-stu-id="0734a-127">CDS sales order headers</span></span> | <span data-ttu-id="0734a-128">SalesOrders</span><span class="sxs-lookup"><span data-stu-id="0734a-128">SalesOrders</span></span>       |
| <span data-ttu-id="0734a-129">CDS-i müügitellimuse read</span><span class="sxs-lookup"><span data-stu-id="0734a-129">CDS sales order lines</span></span>   | <span data-ttu-id="0734a-130">SalesOrderDetails</span><span class="sxs-lookup"><span data-stu-id="0734a-130">SalesOrderDetails</span></span> |

## <a name="entity-flow"></a><span data-ttu-id="0734a-131">Üksuse voog</span><span class="sxs-lookup"><span data-stu-id="0734a-131">Entity flow</span></span>

<span data-ttu-id="0734a-132">Müügitellimused luuakse rakenduses Sales ja sünkroonitakse rakendusega Supply Chain Management, kui mallil **Müügitellimused (rakendusest Sales rakendusse Supply Chain Management) – otse** põhinevas projektis käivitatakse käsk **Käita projekti**.</span><span class="sxs-lookup"><span data-stu-id="0734a-132">Sales orders are created in Sales and synchronized to Supply Chain Management when **Run project** is triggered for a project based on the **Sales Orders (Sales to Supply Chain Management) - Direct** template.</span></span> <span data-ttu-id="0734a-133">Saate rakenduses Sales müügitellimusi aktiveerida ja sünkroonida ainult juhul, kui jaotis **Tellimuse tooted** hõlmab ainult väliselt hallatavaid tooteid.</span><span class="sxs-lookup"><span data-stu-id="0734a-133">You can only activate and synchronize orders from Sales if all **Order Products** consist of products that are externally maintained.</span></span> <span data-ttu-id="0734a-134">Seetõttu ei saa seal olla sissekirjutatud tooteid.</span><span class="sxs-lookup"><span data-stu-id="0734a-134">Therefore, there can be no write-in products.</span></span> <span data-ttu-id="0734a-135">Pärast tellimuse aktiveerimist on müügitellimus kasutajaliideses kirjutuskaitstud.</span><span class="sxs-lookup"><span data-stu-id="0734a-135">After the order is activated, the sales order becomes read-only in the user interface (UI).</span></span> <span data-ttu-id="0734a-136">Sel ajal tehakse värskendused rakendusest Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="0734a-136">At that point, the updates are made from Supply Chain Management.</span></span> <span data-ttu-id="0734a-137">Kui müügitellimuse olek on **Kinnitatud**, saab mallil **Müügitellimused (rakendusest Supply Chain Management rakendusse Sales) – otse** põhinevat projekti kasutada värskenduste või täitmisoleku sünkroonimiseks rakendusest Supply Chain Management rakendusse Sales.</span><span class="sxs-lookup"><span data-stu-id="0734a-137">After the sales order has a status of **Confirmed**, the a project based on the **Sales Orders (Supply Chain Management to Sales) - Direct** template can be used to synchronize updates or fulfillment status from Supply Chain Management to Sales.</span></span>

<span data-ttu-id="0734a-138">Te ei pea rakenduses Sales tellimusi looma.</span><span class="sxs-lookup"><span data-stu-id="0734a-138">You don't have to create orders in Sales.</span></span> <span data-ttu-id="0734a-139">Võite selle asemel luua uued müügitellimused rakenduses Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="0734a-139">You can create new sales orders in Supply Chain Management instead.</span></span> <span data-ttu-id="0734a-140">Kui müügitellimuse olek on **Kinnitatud**, sünkroonitakse see rakendusega Sales eelmises lõigus kirjeldatud moel.</span><span class="sxs-lookup"><span data-stu-id="0734a-140">After a sales order has a status of **Confirmed**, it's synchronized to Sales as described in the previous paragraph.</span></span>

<span data-ttu-id="0734a-141">Malli filtrid aitavad rakenduses Supply Chain Management tagada ainult asjakohaste müügitellimuste kaasamise sünkroonimisse.</span><span class="sxs-lookup"><span data-stu-id="0734a-141">In Supply Chain Management, filters in the template help guarantee that only the relevant sales orders are included in the synchronization:</span></span>

- <span data-ttu-id="0734a-142">Müügitellimuse puhul peavad nii müügitellimuse esitanud klient kui ka arvelduse klient pärinema rakendusest Sales, et nad lisataks sünkroonimisse.</span><span class="sxs-lookup"><span data-stu-id="0734a-142">On the sales order, both the ordering customer and the invoicing customer have to originate from Sales to be included in the synchronization.</span></span> <span data-ttu-id="0734a-143">Rakenduses Supply Chain Management kasutatakse välju **OrderingCustomerIsExternallyMaintained** ja **InvoiceCustomerIsExternallyMaintained** andmeüksustes müügitellimuste filtreerimiseks.</span><span class="sxs-lookup"><span data-stu-id="0734a-143">In Supply Chain Management, the **OrderingCustomerIsExternallyMaintained** and **InvoiceCustomerIsExternallyMaintained** fields are used to filter sales orders from the data entities.</span></span>
- <span data-ttu-id="0734a-144">Rakenduses Supply Chain Management olev müügitellimus tuleb kinnitada.</span><span class="sxs-lookup"><span data-stu-id="0734a-144">The sales order in Supply Chain Management must be confirmed.</span></span> <span data-ttu-id="0734a-145">Rakendusega Sales sünkroonitakse ainult kõrgema töötlemisolekuga kinnitatud müügitellimused, nt olekuga **Saadetud** või **Arveldatud**.</span><span class="sxs-lookup"><span data-stu-id="0734a-145">Only confirmed sales orders or sales orders that have a higher processing status, such as **Shipped** or **Invoiced**, are synchronized to Sales.</span></span>
- <span data-ttu-id="0734a-146">Pärast müügitellimuse loomist või muutmist tuleb käitada pakett-töö **Müügi kogusummade arvutamine** rakenduses Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="0734a-146">After a sales order is created or modified, the **Calculate sales totals** batch job in Supply Chain Management must be run.</span></span> <span data-ttu-id="0734a-147">Rakendusega Sales sünkroonitakse vaid need müügitellimused, mille müügi kogusummad on arvutatud.</span><span class="sxs-lookup"><span data-stu-id="0734a-147">Only sales orders where sales totals are calculated will be synchronized to Sales.</span></span>

## <a name="freight-tax"></a><span data-ttu-id="0734a-148">Transpordimaks</span><span class="sxs-lookup"><span data-stu-id="0734a-148">Freight tax</span></span>

<span data-ttu-id="0734a-149">Rakendus Sales ei toeta maksu päise tasandil, kuna maksud talletatakse rea tasemel.</span><span class="sxs-lookup"><span data-stu-id="0734a-149">Sales doesn't support tax at the header level, because tax is stored at the line level.</span></span> <span data-ttu-id="0734a-150">Selleks et toetada rakendusest Supply Chain Management pärit maksu (nt transpordimaks) päise tasemel, sünkroonib süsteem rakendusega Sales sissekirjutatud tootena, mille nimetus on **Transpordimaks** ja mis sisaldab maksusummat rakendusest Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="0734a-150">To support tax at the header level from Supply Chain Management, such as tax on freight, the system synchronizes tax to Sales as a write-in product that is named **Freight Tax**, and that has the tax amount from Supply Chain Management.</span></span> <span data-ttu-id="0734a-151">Nii saab standardset hinnakalkulatsiooni rakenduses Sales kasutada summade arvutamiseks isegi siis, kui rakenduses Supply Chain Management on maks päise tasandil.</span><span class="sxs-lookup"><span data-stu-id="0734a-151">In this way, the standard price calculation in Sales can be used for totals, even when there is tax at the header level from Supply Chain Management.</span></span>

## <a name="discount-calculation-and-rounding"></a><span data-ttu-id="0734a-152">Allahindluse arvutamine ja ümardamine</span><span class="sxs-lookup"><span data-stu-id="0734a-152">Discount calculation and rounding</span></span>

<span data-ttu-id="0734a-153">Rakenduse Sales allahindluse arvutamise mudel erineb rakenduse Supply Chain Management allahindluse arvutamise mudelist.</span><span class="sxs-lookup"><span data-stu-id="0734a-153">The discount calculation model in Sales differs from the discount calculation model in Supply Chain Management.</span></span> <span data-ttu-id="0734a-154">Rakenduses Supply Chain Management võib müügirea lõplik allahindluse summa olla allahindluse summade ja allahindluse protsentide kombinatsiooni tulemus.</span><span class="sxs-lookup"><span data-stu-id="0734a-154">In Supply Chain Management, the final discount amount on a sales line can be the result of a combination of discount amounts and discount percentages.</span></span> <span data-ttu-id="0734a-155">Kui lõplik allahindluse summa jagatakse real oleva kogusega, võib ilmneda ümardamine.</span><span class="sxs-lookup"><span data-stu-id="0734a-155">If this final discount amount is divided by the quantity on the line, rounding can occur.</span></span> <span data-ttu-id="0734a-156">Ümardamist ei võeta aga arvesse, kui ümardatav ühikupõhise allahindluse summa sünkroonitakse rakendusega Sales.</span><span class="sxs-lookup"><span data-stu-id="0734a-156">However, this rounding isn't considered if a rounded per-unit discount amount is synchronized to Sales.</span></span> <span data-ttu-id="0734a-157">Selleks et rakenduse Supply Chain Management müügirea kogu allahindluse summa rakendusega Sales õigesti sünkroonida, tuleb kogusumma sünkroonida rea kogusega jagamata.</span><span class="sxs-lookup"><span data-stu-id="0734a-157">To help guarantee that the full discount amount from a sales line in Supply Chain Management is correctly synchronized to Sales, the full amount must be synchronized without being divided by the line quantity.</span></span> <span data-ttu-id="0734a-158">Seetõttu peate rakenduses Sales määratlema suvandi **Allahindluse arvutamise meetod** väärtuseks **Rea kaup**.</span><span class="sxs-lookup"><span data-stu-id="0734a-158">Therefore, you must define the **Discount calculation method** as **Line item** in Sales.</span></span>

<span data-ttu-id="0734a-159">Kui müügitellimus sünkroonitakse rakendusest Sales rakendusega Supply Chain Management, kasutatakse terve rea allahindluse summat.</span><span class="sxs-lookup"><span data-stu-id="0734a-159">When a sales order line is synchronized from Sales to Supply Chain Management, the full line discount amount is used.</span></span> <span data-ttu-id="0734a-160">Kuna rakenduses Supply Chain Management pole ühtegi välja, millele saab salvestada rea kogu allahindluse summa, jagatakse summa kogusega ja salvestatakse väljale **Rea allahindlus**.</span><span class="sxs-lookup"><span data-stu-id="0734a-160">Because Supply Chain Management has no field that can store the full discount amount for a line, the amount is divided by the quantity and stored in the **Line discount** field.</span></span> <span data-ttu-id="0734a-161">Selles jaotises esinev ümardamine talletatakse müügirea väljale **Müügitasud**.</span><span class="sxs-lookup"><span data-stu-id="0734a-161">Any rounding that occurs in this division is stored in the **Sales charges** field on the sales line.</span></span>

### <a name="example"></a><span data-ttu-id="0734a-162">Näide</span><span class="sxs-lookup"><span data-stu-id="0734a-162">Example</span></span>

<span data-ttu-id="0734a-163">**Sünkroonimine Salesist Supply Chain Managementi**</span><span class="sxs-lookup"><span data-stu-id="0734a-163">**Synchronization from Sales to Supply Chain Management**</span></span>

- <span data-ttu-id="0734a-164">**Sales:** kogus = 3, allahindlus rea kohta = 10.00 USA dollarit</span><span class="sxs-lookup"><span data-stu-id="0734a-164">**Sales:** Quantity = 3, per-line discount = $10.00</span></span>
- <span data-ttu-id="0734a-165">**Supply Chain Management:** kogus = 3, rea allahindluse summa = $3.33, müügisumma =-$0.01</span><span class="sxs-lookup"><span data-stu-id="0734a-165">**Supply Chain Management:** Quantity = 3, line discount amount = $3.33, sales charge = -$0.01</span></span> 

<span data-ttu-id="0734a-166">**Sünkroonimine rakendusest Supply Chain Management rakendusse Sales**</span><span class="sxs-lookup"><span data-stu-id="0734a-166">**Synchronization from Supply Chain Management to Sales**</span></span>

- <span data-ttu-id="0734a-167">**Supply Chain Management:** kogus = 3, rea allahindluse summa = $3.33, müügisumma =-$0.01</span><span class="sxs-lookup"><span data-stu-id="0734a-167">**Supply Chain Management:** Quantity = 3, line discount amount = $3.33, sales charge = -$0.01</span></span>
- <span data-ttu-id="0734a-168">**Sales:** kogus = 3, allahindlus rea kohta = (3 × 3.33) + 0.01 = 10.00 USA dollarit</span><span class="sxs-lookup"><span data-stu-id="0734a-168">**Sales:** Quantity = 3, per-line discount = (3 × $3.33) + $0.01 = $10.00</span></span>

## <a name="prospect-to-cash-solution-for-sales"></a><span data-ttu-id="0734a-169">Lahendus Potentsiaalne klient sularahaks rakendusele Sales</span><span class="sxs-lookup"><span data-stu-id="0734a-169">Prospect to cash solution for Sales</span></span>

<span data-ttu-id="0734a-170">Üksusele **Tellimus** lisati uued väljad ja need kuvatakse järgmisel lehel.</span><span class="sxs-lookup"><span data-stu-id="0734a-170">New fields have been added to the **Order** entity and appear on the page:</span></span>

- <span data-ttu-id="0734a-171">**Hallatakse väliselt**: seadke see valik väärtusele **Jah**, kui tellimus tuleb rakendusest Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="0734a-171">**Is Maintained Externally** – Set this option to **Yes** when the order is coming from Supply Chain Management.</span></span>
- <span data-ttu-id="0734a-172">**Töötlemise olek**: sellel väljal kuvatakse tellimuse töötlemise olek rakenduses Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="0734a-172">**Processing status** – This field shows the processing status of the order in Supply Chain Management.</span></span> <span data-ttu-id="0734a-173">Saadaval on järgmised väärtused:</span><span class="sxs-lookup"><span data-stu-id="0734a-173">The following values are available:</span></span>

    - <span data-ttu-id="0734a-174">**Mustand**: vaikeolek rakenduses Sales tellimuse loomisel.</span><span class="sxs-lookup"><span data-stu-id="0734a-174">**Draft** – The initial status when an order is created in Sales.</span></span> <span data-ttu-id="0734a-175">Rakenduses Sales saab muuta ainult selle töötlemisolekuga tellimusi.</span><span class="sxs-lookup"><span data-stu-id="0734a-175">In Sales, only orders with this processing status can be edited.</span></span>
    - <span data-ttu-id="0734a-176">**Aktiivne**: olek pärast rakenduses Sales tellimuse aktiveerimist nupuga **Aktiveeri**.</span><span class="sxs-lookup"><span data-stu-id="0734a-176">**Active** – The status after the order is activated in Sales by using the **Activate** button.</span></span>
    - <span data-ttu-id="0734a-177">**Kinnitatud**</span><span class="sxs-lookup"><span data-stu-id="0734a-177">**Confirmed**</span></span>
    - <span data-ttu-id="0734a-178">**Saateleht**</span><span class="sxs-lookup"><span data-stu-id="0734a-178">**Packing Slip**</span></span>
    - <span data-ttu-id="0734a-179">**Arveldatud**</span><span class="sxs-lookup"><span data-stu-id="0734a-179">**Invoiced**</span></span>
    - <span data-ttu-id="0734a-180">**Komplekteeritud**</span><span class="sxs-lookup"><span data-stu-id="0734a-180">**Picked**</span></span>
    - <span data-ttu-id="0734a-181">**Osaliselt komplekteeritud**</span><span class="sxs-lookup"><span data-stu-id="0734a-181">**Partially Picked**</span></span>
    - <span data-ttu-id="0734a-182">**Osaliselt pakitud**</span><span class="sxs-lookup"><span data-stu-id="0734a-182">**Partially Packed**</span></span>
    - <span data-ttu-id="0734a-183">**Välja saadetud**</span><span class="sxs-lookup"><span data-stu-id="0734a-183">**Shipped**</span></span>
    - <span data-ttu-id="0734a-184">**Osaliselt tarnitud**</span><span class="sxs-lookup"><span data-stu-id="0734a-184">**Partially Shipped**</span></span>
    - <span data-ttu-id="0734a-185">**Osaliselt arvele kantud**</span><span class="sxs-lookup"><span data-stu-id="0734a-185">**Partially Invoiced**</span></span>
    - <span data-ttu-id="0734a-186">**Tühistatud**</span><span class="sxs-lookup"><span data-stu-id="0734a-186">**Cancelled**</span></span>

<span data-ttu-id="0734a-187">Sätet **Sisaldab ainult väliselt hallatavaid tooteid** kasutatakse tellimuse aktiveerimise ajal, et jälgida järjepidevalt, kas müügitellimus sisaldab ainult väliselt hallatavaid tooteid.</span><span class="sxs-lookup"><span data-stu-id="0734a-187">The **Has Externally Maintained Products Only** setting is used during order activation to consistently track whether a sales order consists entirely of externally maintained products.</span></span> <span data-ttu-id="0734a-188">Kui müügitellimus sisaldab ainult väliselt hallatavaid tooteid, hallatakse neid rakenduses Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="0734a-188">If a sales order consists entirely of externally maintained products, the products are maintained in Supply Chain Management.</span></span> <span data-ttu-id="0734a-189">See säte aitab tagada, et te ei aktiveeriks ega püüaks sünkroonida müügitellimuse ridu, mis hõlmavad rakenduse Supply Chain Management jaoks tundmatuid tooteid.</span><span class="sxs-lookup"><span data-stu-id="0734a-189">This setting helps guarantee that you don't activate and try to synchronize sales order lines that have products that are unknown to Supply Chain Management.</span></span>

<span data-ttu-id="0734a-190">Nupud **Arve koostamine**, **Tellimuse tühistamine**, **Ümberarvutamine**, **Toodete toomine** ja **Aadressi otsimine** lehel **Müügitellimus** on väliselt hallatavate tellimuste puhul peidetud, kuna arved luuakse rakenduses Supply Chain Management ja sünkroonitakse rakendusega Sales.</span><span class="sxs-lookup"><span data-stu-id="0734a-190">The **Create Invoice**, **Cancel Order**, **Recalculate**, **Get Products**, and **Lookup Address** buttons on the **Sales order** page are hidden for externally maintained orders, because invoices will be created in Supply Chain Management and synchronized to Sales.</span></span> <span data-ttu-id="0734a-191">Neid tellimusi ei saa muuta, kuna müügitellimuse teave sünkroonitakse pärast aktiveerimist rakendusest Supply Chain Management.</span><span class="sxs-lookup"><span data-stu-id="0734a-191">These orders can't be edited, because sales order information will be synchronized from Supply Chain Management after activation.</span></span>

<span data-ttu-id="0734a-192">Müügitellimuse olek on ka edaspidi **Aktiivne**, et rakendusest Supply Chain Management pärit muudatused saaksid liikuda rakenduses Sales olevasse müügitellimusse.</span><span class="sxs-lookup"><span data-stu-id="0734a-192">The sales order status will remain **Active** to help guarantee that changes from Supply Chain Management can flow to the sales order in Sales.</span></span> <span data-ttu-id="0734a-193">Määrake selle käitumise juhtimiseks andmeintegratsiooni projektis vaikeväärtuse **Olekukood \[[Olek]\]** väärtuseks **Aktiivne**.</span><span class="sxs-lookup"><span data-stu-id="0734a-193">To control this behavior, set the default **Statecode \[Status\]** value to **Active** in the Data integration project.</span></span>

## <a name="preconditions-and-mapping-setup"></a><span data-ttu-id="0734a-194">Eeltingimused ja vastendamise seadistamine</span><span class="sxs-lookup"><span data-stu-id="0734a-194">Preconditions and mapping setup</span></span>

<span data-ttu-id="0734a-195">Enne müügitellimuste sünkroonimist on oluline värskendada süsteemides järgmisi sätteid.</span><span class="sxs-lookup"><span data-stu-id="0734a-195">Before you synchronize sales orders, it's important that you update the following settings in the systems.</span></span>

### <a name="setup-in-sales"></a><span data-ttu-id="0734a-196">Seadistus rakenduses Sales</span><span class="sxs-lookup"><span data-stu-id="0734a-196">Setup in Sales</span></span>

- <span data-ttu-id="0734a-197">Veenduge, et load oleks seadistatud töörühma jaoks, kuhu rakenduses Sales häälestatud ühendusest pärit kasutaja on määratud.</span><span class="sxs-lookup"><span data-stu-id="0734a-197">Make sure that permissions are set up for the team that the user from your Sales connection set is assigned to.</span></span> <span data-ttu-id="0734a-198">Demoandmete kasutamisel on kasutajal tavaliselt administraatori juurdepääs, kuid töörühmal mitte.</span><span class="sxs-lookup"><span data-stu-id="0734a-198">If you're using demo data, the user usually has admin access, but the team doesn't have admin access.</span></span> <span data-ttu-id="0734a-199">Kui töörühmal ei ole administraatorijuurdepääsu, ilmub andmete integratsioonis projekti käivitamisel veateade, mis annab teada, et peamine töörühm puudub.</span><span class="sxs-lookup"><span data-stu-id="0734a-199">If the team doesn't have admin access, when you run the project from Data integration, you will receive an error message that states that the Principal team is missing.</span></span>

    <span data-ttu-id="0734a-200">Valige jaotisest **Sätted** &gt; **Turve** &gt; **Töörühmad** asjakohane töörühm, valige käsk **Halda rolle** ja valige soovitud lubadega roll, näiteks **Süsteemiadministraator**.</span><span class="sxs-lookup"><span data-stu-id="0734a-200">Go to **Settings** &gt; **Security** &gt; **Teams**, select the relevant team, select **Manage Roles**, and select a role that has the desired permissions, such as **System Administrator**.</span></span>

- <span data-ttu-id="0734a-201">Et tagada allahindluste õige arvutamine rakendustes Sales ja Supply Chain Management tuleb väli **Allahindluse arvutamise meetod** seada väärtusele **Rea kaup**.</span><span class="sxs-lookup"><span data-stu-id="0734a-201">To ensure correct calculation of discounts in both Sales and Supply Chain Management **Discount calculation method** must be set to **Line item**.</span></span>
- <span data-ttu-id="0734a-202">Avage jaotis **Sätted** &gt; **Administreerimine** &gt; **Süsteemisätted** &gt; **Sales** ja veenduge, et kasutusel oleks järgmised sätted.</span><span class="sxs-lookup"><span data-stu-id="0734a-202">Go to **Settings** &gt; **Administration** &gt; **System settings** &gt; **Sales**, and make sure that the following settings are used:</span></span>

    - <span data-ttu-id="0734a-203">Suvand **Kasuta süsteemi hinna arvutamise süsteemi** on seatud väärtusele **Jah**.</span><span class="sxs-lookup"><span data-stu-id="0734a-203">The **Use system prizing calculation system** option is set to **Yes**.</span></span>
    - <span data-ttu-id="0734a-204">Väli **Allahindluse arvutamise meetod** on seatud väärtusele **Rea kaup**.</span><span class="sxs-lookup"><span data-stu-id="0734a-204">The **Discount calculation method** field is set to **Line item**.</span></span>

### <a name="setup-in-supply-chain-management"></a><span data-ttu-id="0734a-205">Seadistamine rakenduses Supply Chain Management</span><span class="sxs-lookup"><span data-stu-id="0734a-205">Setup in Supply Chain Management</span></span>

- <span data-ttu-id="0734a-206">Avage jaotis **Müük ja turundus** &gt; **Perioodilised ülesanded** &gt; **Müügi kogusummade arvutamine** ja seadistage töö pakett-tööna.</span><span class="sxs-lookup"><span data-stu-id="0734a-206">Go to **Sales and marketing** &gt; **Periodic tasks** &gt; **Calculate sales totals**, and set the job to run as a batch job.</span></span> <span data-ttu-id="0734a-207">Valige suvandi **Müügitellimuste kogusummade arvutamine** väärtuseks **Jah**.</span><span class="sxs-lookup"><span data-stu-id="0734a-207">Set the **Calculate totals for sales orders** option to **Yes**.</span></span> <span data-ttu-id="0734a-208">See toiming on oluline, kuna Salesiga sünkroonitakse ainult need müügitellimused, mille müügi kogusummad on arvutatud.</span><span class="sxs-lookup"><span data-stu-id="0734a-208">This step is important, because only sales orders where sales totals are calculated will be synchronized to Sales.</span></span> <span data-ttu-id="0734a-209">Pakett-töö sagedus tuleks sobitada müügitellimuse sünkroonimise sagedusega.</span><span class="sxs-lookup"><span data-stu-id="0734a-209">The frequency of the batch job should be aligned with the frequency of sales order synchronization.</span></span>

<span data-ttu-id="0734a-210">Kui kasutate ka töötellimuse integratsiooni, peate seadistama müügiallika.</span><span class="sxs-lookup"><span data-stu-id="0734a-210">If you also use work order integration, you need to set up the sales origin.</span></span> <span data-ttu-id="0734a-211">Müügiallikat kasutatakse, et eristada müügitellimusi rakendusest Supply Chain Management, mis on loodud rakenduse Field Service töökäskudest.</span><span class="sxs-lookup"><span data-stu-id="0734a-211">The sales origin is used to distinguish sales orders in Supply Chain Management that were created from work orders in Field Service.</span></span> <span data-ttu-id="0734a-212">Kui müügitellimuse müügiallika tüübiks on **Töökäsu integratsioon**, kuvatakse müügitellimuse päises väli **Välise töö tellimuse olek**.</span><span class="sxs-lookup"><span data-stu-id="0734a-212">When a sales order has a sales origin of the **Work order integration** type, the **External work order status** field appears on the sales order header.</span></span> <span data-ttu-id="0734a-213">Lisaks aitab müügiallikas tagada, et rakenduse Field Service töökäskudest loodud müügitellimused filtreeritakse välja müügitellimuse sünkroonimisel rakendusest Supply Chain Management rakendusse Field Service.</span><span class="sxs-lookup"><span data-stu-id="0734a-213">Additionally, the sales origin ensures that sales orders that were created from work orders in Field Service are filtered out during sales order synchronization from Supply Chain Management to Field Service.</span></span>

1. <span data-ttu-id="0734a-214">Avage **Müük ja turundus** \> **Seadistus** \> **Müügitellimused** \> **Müügiallikas**.</span><span class="sxs-lookup"><span data-stu-id="0734a-214">Go to **Sales and marketing** \> **Setup** \> **Sales orders** \> **Sales origin**.</span></span>
2. <span data-ttu-id="0734a-215">Uue müügiallika loomiseks valige **Uus**.</span><span class="sxs-lookup"><span data-stu-id="0734a-215">Select **New** to create a new sales origin.</span></span>
3. <span data-ttu-id="0734a-216">Sisestage väljal **Müügiallikas** müügiallika nimi, näiteks **Müügitellimus**.</span><span class="sxs-lookup"><span data-stu-id="0734a-216">In the **Sales origin** field, enter a name for the sales origin, such as **SalesOrder**.</span></span>
4. <span data-ttu-id="0734a-217">Sisestage väljale **Kirjeldus** kirjeldus, näiteks **Müügitellimus müügist**.</span><span class="sxs-lookup"><span data-stu-id="0734a-217">In the **Description** field, enter a description, such as **Sales Order from Sales**.</span></span>
5. <span data-ttu-id="0734a-218">Valige märkeruut **Päritolu tüübi määramine**.</span><span class="sxs-lookup"><span data-stu-id="0734a-218">Select the **Origin type assignment** check box.</span></span>
6. <span data-ttu-id="0734a-219">Seadke välja **Müügi päritolu tüüp** väärtuseks **Müügitellimuse integratsioon**.</span><span class="sxs-lookup"><span data-stu-id="0734a-219">Set the **Sales origin type** field to **Sales order integration**.</span></span>
7. <span data-ttu-id="0734a-220">Valige käsk **Salvesta**.</span><span class="sxs-lookup"><span data-stu-id="0734a-220">Select **Save**.</span></span>

### <a name="setup-in-the-sales-orders-sales-to-supply-chain-management---direct-data-integration-project"></a><span data-ttu-id="0734a-221">Seadistamine müügitellimustes (rakendusest Sales rakendusse Supply Chain Management) – andmete integratsiooni otseprojekt</span><span class="sxs-lookup"><span data-stu-id="0734a-221">Setup in the Sales Orders (Sales to Supply Chain Management) - Direct Data integration project</span></span>

- <span data-ttu-id="0734a-222">Veenduge, et atribuutide **Shipto\_country** – **DeliveryAddressCountryRegionISOCode** vahel oleks olemas nõutav vastendamine.</span><span class="sxs-lookup"><span data-stu-id="0734a-222">Make sure that the required mapping exists for **Shipto\_country** to **DeliveryAddressCountryRegionISOCode**.</span></span> <span data-ttu-id="0734a-223">Väärtuste kaardil võite määrata vaikesätteks tühja väärtuse, et te ei peaks riigisiseste tellimuste puhul riiki sisestama.</span><span class="sxs-lookup"><span data-stu-id="0734a-223">You can make blank a default value in the value map to avoid having to type country for national orders.</span></span> <span data-ttu-id="0734a-224">Valige vasakul säte „Tühi” ja paremal pool soovitud riik või regioon.</span><span class="sxs-lookup"><span data-stu-id="0734a-224">Set the left side to 'Blank', and set the right side to the desired country or region.</span></span>

    <span data-ttu-id="0734a-225">Malli väärtus on väärtuste kaart, kus on vastendatud mitu riiki või regiooni ja mille puhul „Tühi” = Ameerika Ühendriigid.</span><span class="sxs-lookup"><span data-stu-id="0734a-225">The template value is a value map where several countries or regions are mapped, and where 'Blank' = US.</span></span>

### <a name="setup-in-the-sales-orders-supply-chain-management-to-sales---direct-data-integration-project"></a><span data-ttu-id="0734a-226">Seadistamine müügitellimustes (rakendusest Supply Chain Management rakendusse Sales) – andmete integratsiooni otseprojekt</span><span class="sxs-lookup"><span data-stu-id="0734a-226">Setup in the Sales Orders (Supply Chain Management to Sales) - Direct Data integration project</span></span>

#### <a name="salesheader-task"></a><span data-ttu-id="0734a-227">Ülesanne SalesHeader</span><span class="sxs-lookup"><span data-stu-id="0734a-227">SalesHeader task</span></span>

- <span data-ttu-id="0734a-228">Hinnakiri on vajalik tellimuste koostamiseks rakenduses Sales.</span><span class="sxs-lookup"><span data-stu-id="0734a-228">A price list is required in order to create orders in Sales.</span></span> <span data-ttu-id="0734a-229">Värskendage üksuse **pricelevelid.name \[Hinnakirja nimi\]** väärtuskaarti hinnakirja alusel, mida kasutatakse rakenduses Sales valuuta kohta.</span><span class="sxs-lookup"><span data-stu-id="0734a-229">Update the value map for **pricelevelid.name \[Price List Name\]** to the price list that is used in Sales per currency.</span></span> <span data-ttu-id="0734a-230">Saate ühe valuuta puhul kasutada vaikehinnakirja.</span><span class="sxs-lookup"><span data-stu-id="0734a-230">You can use the default price list for a single currency.</span></span> <span data-ttu-id="0734a-231">Kui teil on mitmes valuutas hinnakirju, saate kasutada väärtuskaarti.</span><span class="sxs-lookup"><span data-stu-id="0734a-231">Alternatively, if you have price lists in multiple currencies, you can use a value map.</span></span>

    <span data-ttu-id="0734a-232">Üksuse **pricelevelid.name \[Hinnakirja nimi\]** malli vaikeväärtus on **USA CRM-i teenus (näidis)**.</span><span class="sxs-lookup"><span data-stu-id="0734a-232">The default template value for **pricelevelid.name \[Price List Name\]** is **CRM Service USA (sample)**.</span></span>

#### <a name="salesline-task"></a><span data-ttu-id="0734a-233">Ülesanne SalesLine</span><span class="sxs-lookup"><span data-stu-id="0734a-233">SalesLine task</span></span>

- <span data-ttu-id="0734a-234">Veenduge, et üksuse **SalesUnitSymbol** nõutav väärtuskaart oleks rakenduses Supply Chain Management olemas.</span><span class="sxs-lookup"><span data-stu-id="0734a-234">Make sure that the required value map for **SalesUnitSymbol** in Supply Chain Management exists.</span></span>
- <span data-ttu-id="0734a-235">Veenduge, et rakenduses Sales oleks nõutud ühikud määratletud.</span><span class="sxs-lookup"><span data-stu-id="0734a-235">Make sure that the required units are defined in Sales.</span></span>

    <span data-ttu-id="0734a-236">Üksuste **SalesUnitSymbol** ja **oumid.name** jaoks on määratletud väärtuskaardiga malli väärtus.</span><span class="sxs-lookup"><span data-stu-id="0734a-236">A template value that has a value map is defined for **SalesUnitSymbol** to **oumid.name**.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="0734a-237">Malli vastendamine andmete integratsioonis</span><span class="sxs-lookup"><span data-stu-id="0734a-237">Template mapping in Data integration</span></span>

> [!NOTE]
> <span data-ttu-id="0734a-238">Väljad **Maksetingimused**, **Veosetingimused**, **Tarnetingimused**, **Saatmisviis** ja **Tarneviis** ei ole vaikevastenduste osa.</span><span class="sxs-lookup"><span data-stu-id="0734a-238">The **Payment terms**, **Freight terms**, **Delivery terms**, **Shipping method**, and **Delivery mode** fields aren't part of the default mappings.</span></span> <span data-ttu-id="0734a-239">Nende väljade vastendamiseks peate seadistama väärtuskaardi, mis on kohane neis organisatsioonides olevatele andmetele, mille vahel üksust sünkroonitakse.</span><span class="sxs-lookup"><span data-stu-id="0734a-239">To map these fields, you must set up a value mapping that is specific to the data in the organizations that the entity is synchronized between.</span></span>

<span data-ttu-id="0734a-240">Järgmisel joonisel on toodud näide malli vastendusest andmete integratsioonis.</span><span class="sxs-lookup"><span data-stu-id="0734a-240">The following illustrations show an example of a template mapping in Data integration.</span></span>

> [!NOTE]
> <span data-ttu-id="0734a-241">Vastendamine näitab, millise välja teave sünkroonitakse rakendusest Sales rakendusse Supply Chain Management või vastupidi.</span><span class="sxs-lookup"><span data-stu-id="0734a-241">The mapping shows which field information will be synchronized from Sales to Supply Chain Management, or from Supply Chain Management to Sales.</span></span>

### <a name="sales-orders-supply-chain-management-to-sales---direct-orderheader"></a><span data-ttu-id="0734a-242">Müügitellimused (Supply Chain Managementist Salesi) – otse: OrderHeader</span><span class="sxs-lookup"><span data-stu-id="0734a-242">Sales Orders (Supply Chain Management to Sales) - Direct: OrderHeader</span></span>

<span data-ttu-id="0734a-243">[![Malli vastendamine andmete integratsioonis](./media/sales-order-direct-template-mapping-data-integrator-1.png)](./media/sales-order-direct-template-mapping-data-integrator-1.png)</span><span class="sxs-lookup"><span data-stu-id="0734a-243">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-1.png)](./media/sales-order-direct-template-mapping-data-integrator-1.png)</span></span>

### <a name="sales-orders-supply-chain-management-to-sales---direct-orderline"></a><span data-ttu-id="0734a-244">Müügitellimused (Supply Chain Managementist Salesi) - otse: OrderLine</span><span class="sxs-lookup"><span data-stu-id="0734a-244">Sales Orders (Supply Chain Management to Sales) - Direct: OrderLine</span></span>

<span data-ttu-id="0734a-245">[![Malli vastendamine andmete integratsioonis](./media/sales-order-direct-template-mapping-data-integrator-2.png)](./media/sales-order-direct-template-mapping-data-integrator-2.png)</span><span class="sxs-lookup"><span data-stu-id="0734a-245">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-2.png)](./media/sales-order-direct-template-mapping-data-integrator-2.png)</span></span>

### <a name="sales-orders-sales-to-supply-chain-management---direct-orderheader"></a><span data-ttu-id="0734a-246">Müügitellimused (Salesist Supply Chain Managementi) – otse: OrderHeader</span><span class="sxs-lookup"><span data-stu-id="0734a-246">Sales Orders (Sales to Supply Chain Management) - Direct: OrderHeader</span></span>

<span data-ttu-id="0734a-247">[![Malli vastendamine andmete integratsioonis](./media/sales-order-direct-template-mapping-data-integrator-3.png)](./media/sales-order-direct-template-mapping-data-integrator-3.png)</span><span class="sxs-lookup"><span data-stu-id="0734a-247">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-3.png)](./media/sales-order-direct-template-mapping-data-integrator-3.png)</span></span>

### <a name="sales-orders-sales-to-supply-chain-management---direct-orderline"></a><span data-ttu-id="0734a-248">Müügitellimused (Salesist Supply Chain Managementi) – otse: OrderLine</span><span class="sxs-lookup"><span data-stu-id="0734a-248">Sales Orders (Sales to Supply Chain Management) - Direct: OrderLine</span></span>

<span data-ttu-id="0734a-249">[![Malli vastendamine andmete integratsioonis](./media/sales-order-direct-template-mapping-data-integrator-4.png)](./media/sales-order-direct-template-mapping-data-integrator-4.png)</span><span class="sxs-lookup"><span data-stu-id="0734a-249">[![Template mapping in Data integration](./media/sales-order-direct-template-mapping-data-integrator-4.png)](./media/sales-order-direct-template-mapping-data-integrator-4.png)</span></span>

## <a name="related-topics"></a><span data-ttu-id="0734a-250">Seotud dokumendid</span><span class="sxs-lookup"><span data-stu-id="0734a-250">Related topics</span></span>

[<span data-ttu-id="0734a-251">Potentsiaalne klient sularahaks</span><span class="sxs-lookup"><span data-stu-id="0734a-251">Prospect to cash</span></span>](prospect-to-cash.md)
