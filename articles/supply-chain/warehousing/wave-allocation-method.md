---
title: Vooeraldus
description: See teema kirjeldab, kuidas seadistada vooeralduse samme, k.a paralleeltöötluse lubamine.
author: Mirzaab
ms.date: 03/08/2021
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: kamaybac
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: mirzaab
ms.search.validFrom: 2021-03-08
ms.dyn365.ops.version: Release 10.0.18
ms.openlocfilehash: feee33a7d4ea3f0d9c4d671210293a28aac14f61
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: et-EE
ms.lasthandoff: 04/01/2021
ms.locfileid: "5823163"
---
# <a name="wave-allocation"></a><span data-ttu-id="70e26-103">Vooeraldus</span><span class="sxs-lookup"><span data-stu-id="70e26-103">Wave allocation</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="70e26-104">Voo töötlemine võib olla aeganõudev ning suurem osa töötlemisajast kulub eraldamise sammus ja töö loomise etapis.</span><span class="sxs-lookup"><span data-stu-id="70e26-104">Wave processing can be time consuming, and most of the processing time is spent in the allocation step and in the work creation step.</span></span>

<span data-ttu-id="70e26-105">Nüüd on võimalik käivitada kõik need sammud paralleelselt, mis võib parandada voo töötluse jõudlust ja võimaldada suurema voogude läbilaske samas laos.</span><span class="sxs-lookup"><span data-stu-id="70e26-105">It is now possible to run each of these steps in parallel, which can improve the performance of the wave processing, and allow for a larger throughput of waves in the same warehouse.</span></span> <span data-ttu-id="70e26-106">See teema kirjeldab, kuidas seadistada voo eraldusviisi paralleelselt käitamiseks.</span><span class="sxs-lookup"><span data-stu-id="70e26-106">This topic explains how to set up the wave allocation method to run in parallel.</span></span> <span data-ttu-id="70e26-107">Lisateavet selle kohta, kuidas seadistada töö loomine paralleelselt käivituma, vaadake teemast [Planeeritud töö loomine voo ajal](configure-wave-schedule-work-creation.md).</span><span class="sxs-lookup"><span data-stu-id="70e26-107">For more information about how to set up work creation to run in parallel, see [Schedule work creation during wave](configure-wave-schedule-work-creation.md).</span></span>

<span data-ttu-id="70e26-108">Varem oli võimalik eraldada korraga ainult üks voog laos.</span><span class="sxs-lookup"><span data-stu-id="70e26-108">Previously it was only possible to allocate one wave at a warehouse at a time.</span></span> <span data-ttu-id="70e26-109">See piirang on eemaldatud ja asendatud uue piiranguga, mis lukustab ainult selle üksuse ja mõõtmed, mis asuvad reserveerimishierarhias asukohast kõrgemal.</span><span class="sxs-lookup"><span data-stu-id="70e26-109">This constraint has been removed and replaced by a new constraint that only locks the item and dimensions that are above location in the reservation hierarchy.</span></span> <span data-ttu-id="70e26-110">Asukohast ülalpool asuvates dimensioonides on alati tootedimensioonid.</span><span class="sxs-lookup"><span data-stu-id="70e26-110">Dimensions above the location always include product dimensions.</span></span> <span data-ttu-id="70e26-111">Näiteks kui kaup on konfigureeritud *värvi* abil, saab igat varianti (*punase*, *sinise* ja *kollase*) töödelda paralleelselt.</span><span class="sxs-lookup"><span data-stu-id="70e26-111">For example, if an item is configured using *Color*, then variants for *Red*, *Blue*, and *Yellow* could each be processed in parallel.</span></span>

<span data-ttu-id="70e26-112">See tähendab, et kui sama voog, millel on samad mõõtmed asukoha kohal, eraldatakse ühe voo poolt, peavad teised vood ootama sama elemendi ja mõõtmete lukustumist.</span><span class="sxs-lookup"><span data-stu-id="70e26-112">This means that if the same item with the same dimensions above the location is being allocated by one wave, other waves will have to wait to acquire a lock on the same item and dimensions.</span></span> <span data-ttu-id="70e26-113">Kui lukustada õigeaegselt ei saa, ilmneb tõrge ja voo töötlemine nurjub.</span><span class="sxs-lookup"><span data-stu-id="70e26-113">If the lock can't be acquired in a timely manner, an error will occur and the wave processing will fail.</span></span>

<span data-ttu-id="70e26-114">Paralleeltöötluse kasutamiseks tuleb voog käivitada partiina.</span><span class="sxs-lookup"><span data-stu-id="70e26-114">In order to utilize parallel processing, the wave must run in batch.</span></span>

## <a name="performance-improvements"></a><span data-ttu-id="70e26-115">Jõudluse parendused</span><span class="sxs-lookup"><span data-stu-id="70e26-115">Performance improvements</span></span>

<span data-ttu-id="70e26-116">Paralleeltöötluse jõudluse eeliseid saab jagada kahte kategooriasse.</span><span class="sxs-lookup"><span data-stu-id="70e26-116">Performance benefits of parallel processing fall in two categories:</span></span>

- <span data-ttu-id="70e26-117">**Täiustatud läbilask** – voogude läbilaskevõime parandab tavaliselt isegi siis, kui paralleeltöötlust ei konfigureerita, eriti stsenaariumite puhul, kus kaubad voogudes ei kattu.</span><span class="sxs-lookup"><span data-stu-id="70e26-117">**Improved throughput** - The throughput of waves will typically improve even if parallel processing isn't configured, especially for scenarios where there is no overlap of items within the waves.</span></span>
- <span data-ttu-id="70e26-118">**Ühe voo eralduse parandamine** – kliendi andmete testimine on pärast paralleeleraldusse lülitumist kuvanud 50% jõudluse kasvu.</span><span class="sxs-lookup"><span data-stu-id="70e26-118">**Improvement of the allocation for a single wave** - Testing on customer data has shown a near 50% performance improvement after switching to parallel allocation.</span></span> <span data-ttu-id="70e26-119">Paralleelne töötlemine toimub asukoha kohal asuvate üksuste ja mõõtmete kohta, nii et täiustused sõltuvad sellest, kui palju erinevaid elemente voog sisaldab, olemasolevast infrastruktuurist ja eraldamise kestusest versus töö loomise kestus.</span><span class="sxs-lookup"><span data-stu-id="70e26-119">The parallel processing is done per items and dimensions above the location, so the improvements depend on how many different items a wave contains, the infrastructure available, and the duration of the allocation versus the duration of the work creation.</span></span>

## <a name="configure-parallel-allocation"></a><span data-ttu-id="70e26-120">Paralleeleralduse konfigureerimine</span><span class="sxs-lookup"><span data-stu-id="70e26-120">Configure parallel allocation</span></span>

### <a name="warehouse-management-parameters"></a><span data-ttu-id="70e26-121">Laohalduse parameetrid</span><span class="sxs-lookup"><span data-stu-id="70e26-121">Warehouse management parameters</span></span>

<span data-ttu-id="70e26-122">Paralleelse eraldamistöötluse kasutamiseks minge **Laohaldus > Häälestus > Laohalduse parameetrid**, avage vahekaart **Voo töötlemine** ja seadistage järgmiselt.</span><span class="sxs-lookup"><span data-stu-id="70e26-122">To use parallel allocation processing, go to **Warehouse management > Setup > Warehouse management parameters**, open the **Wave processing** tab, and make the following settings:</span></span>

- <span data-ttu-id="70e26-123">**Voo töötlemise partiigrupp** – valige partiigrupp, mida voogude esmane töötlemine peaks kasutama.</span><span class="sxs-lookup"><span data-stu-id="70e26-123">**Wave processing batch group** - Select the batch group that the initial processing of the waves should use.</span></span> <span data-ttu-id="70e26-124">Järgnevat eraldamise töötlemist saab teha erinevate partiigruppide abil.</span><span class="sxs-lookup"><span data-stu-id="70e26-124">The subsequent processing of allocation can be done using different batch groups.</span></span>
- <span data-ttu-id="70e26-125">**Voogude töötlemine partiina** – paralleeltöötluse kasutamiseks määrake selle väärtuseks *Jah*.</span><span class="sxs-lookup"><span data-stu-id="70e26-125">**Process waves in batch** - Set this to *Yes* to use parallel processing.</span></span>
- <span data-ttu-id="70e26-126">**Lukustuse ooteaeg (ms)** - sisestage aeg (millisekundites), mille jooksul ootab eraldamise etapp süsteemiressurssi, mille on lukustanud muu eraldamise etapp.</span><span class="sxs-lookup"><span data-stu-id="70e26-126">**Wait for lock (ms)** - Enter the time, in milliseconds, that an allocation step will wait for a system resource that is locked by another allocation step.</span></span> <span data-ttu-id="70e26-127">Kui aeg ületatakse, siis voogu ei töödelda ja kuvatakse tõrketeade.</span><span class="sxs-lookup"><span data-stu-id="70e26-127">When this time is exceeded, the wave is not processed and an error message is displayed.</span></span> <span data-ttu-id="70e26-128">Soovitame teil lubada vähemalt mõned sekundid ühe loogilise üksuse eraldamise lõpetamiseks.</span><span class="sxs-lookup"><span data-stu-id="70e26-128">We recommend that you allow at least a few seconds to allow for allocation of one logical unit to finish.</span></span>

<span data-ttu-id="70e26-129">Teavet nende ja muude voo töötlemise valikute kohta lehel **Laohalduse parameetrid** vt [Voo töötlemise laoparameetrid](wave-warehouse-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="70e26-129">For information about these and other wave processing options on the **Warehouse management parameters** page, see [Warehouse parameters for wave processing](wave-warehouse-parameters.md).</span></span>

## <a name="wave-process-methods"></a><span data-ttu-id="70e26-130">Voo töötlemise meetodid</span><span class="sxs-lookup"><span data-stu-id="70e26-130">Wave process methods</span></span>

<span data-ttu-id="70e26-131">Paralleeltöötluse seadistamiseks toimige järgmiselt.</span><span class="sxs-lookup"><span data-stu-id="70e26-131">To set up parallel processing:</span></span>

1. <span data-ttu-id="70e26-132">Avage jaotis **Laohaldus > Seadistus > Vood > Voo protsessi meetodid**.</span><span class="sxs-lookup"><span data-stu-id="70e26-132">Go to **Warehouse Management > Setup > Waves > Wave process methods**.</span></span>
1. <span data-ttu-id="70e26-133">Valige ruudustiku `allocateWave` meetod.</span><span class="sxs-lookup"><span data-stu-id="70e26-133">Select the `allocateWave` method in the grid.</span></span>
1. <span data-ttu-id="70e26-134">Valige toimingupaanilt suvand **Ülesande konfiguratsioon**.</span><span class="sxs-lookup"><span data-stu-id="70e26-134">On the Action Pane, select **Task configuration**.</span></span>
1. <span data-ttu-id="70e26-135">Avaneb leht **Voo sisestamismeetodi ülesande konfiguratsioon**.</span><span class="sxs-lookup"><span data-stu-id="70e26-135">The **Wave post method task configuration** page opens.</span></span> <span data-ttu-id="70e26-136">See ruudustik loetleb iga lao, kus te `allocateWave` meetodi konfigureerinud olete.</span><span class="sxs-lookup"><span data-stu-id="70e26-136">This grid lists each warehouse where you have configured the `allocateWave` method.</span></span> <span data-ttu-id="70e26-137">Paralleeltöötlust kasutatakse ainult loetletud ladudes.</span><span class="sxs-lookup"><span data-stu-id="70e26-137">Parallel processing will only be used for warehouses that are listed.</span></span> <span data-ttu-id="70e26-138">Vastavalt vajadusele saate toimingupaani nuppe kasutada ladude lisamiseks või nende eemaldamiseks.</span><span class="sxs-lookup"><span data-stu-id="70e26-138">Use the Action Pane buttons to add or remove warehouses from the grid as needed.</span></span> 
1. <span data-ttu-id="70e26-139">Iga lao jaoks seadistage järgnev.</span><span class="sxs-lookup"><span data-stu-id="70e26-139">For each warehouse, make the following settings:</span></span>
    - <span data-ttu-id="70e26-140">**Partiiülesannete maksimaalne arv** – määrake partiiülesannete arv, mida peaks valitud lao puhul eraldamisel kasutada.</span><span class="sxs-lookup"><span data-stu-id="70e26-140">**Maximum number of batch tasks** - Specify the number of batch tasks that should be used for the allocation for the selected warehouse.</span></span> <span data-ttu-id="70e26-141">Partiiülesannete optimaalne arv sõltub saadaolevast infrastruktuurist ja sellest, milliseid muid partiitöid serveris töödeldakse.</span><span class="sxs-lookup"><span data-stu-id="70e26-141">The optimal number of batch tasks depends on the infrastructure available and what other batch jobs are being processed on the server.</span></span> <span data-ttu-id="70e26-142">Katsed nelja põhikeskkonnaga, mida voo töötlemiseks tehti, näitavad, et kaheksa ülesande kasutamine on andnud hea tulemuse.</span><span class="sxs-lookup"><span data-stu-id="70e26-142">Tests done on a four core environment that was dedicated to wave processing showed that using eight tasks produced good results.</span></span>
    - <span data-ttu-id="70e26-143">**Voo töötlemise partiigrupp** – eri ladude puhul saab kasutada kindlaid partiigruppe, et lubada eraldamistöötlust lao laiendamiseks.</span><span class="sxs-lookup"><span data-stu-id="70e26-143">**Wave processing batch group** - Specific batch groups can be used for different warehouses to allow the allocation processing to scale out per warehouse.</span></span>

## <a name="enable-or-disable-parallelization-across-all-legal-entities"></a><span data-ttu-id="70e26-144">Paralleelsuse lubamine või keelamine kõigi juriidiliste isikute lõikes</span><span class="sxs-lookup"><span data-stu-id="70e26-144">Enable or disable parallelization across all legal entities</span></span>

<span data-ttu-id="70e26-145">Soovitame seadistada meetodi `allocateWave` käivituma paralleelselt kõigi juriidiliste isikute vahel, sest see aitab parandada voo töötluse jõudlust.</span><span class="sxs-lookup"><span data-stu-id="70e26-145">We recommend that you set the `allocateWave` method to run in parallel across all legal entities because this helps to improve the performance of the wave processing.</span></span> <span data-ttu-id="70e26-146">Alates Supply Chain Managementi versioonist 10.0.17 lubatakse funktsiooni *Voo eraldamise meetodi voo paralleeliseerimine* jaoks vaikimisi kõigi uute ja uuendatud installide puhul ning seda ei saa enam välja lülitada.</span><span class="sxs-lookup"><span data-stu-id="70e26-146">Starting in Supply Chain Management version 10.0.17, the *Wave parallelization for Allocate Wave method* feature is enabled by default for all new and updated installations, and can't be turned off again.</span></span> <span data-ttu-id="70e26-147">Pärast selle funktsiooni lubamist leiab aset järgmine.</span><span class="sxs-lookup"><span data-stu-id="70e26-147">After enabling this feature, the following occurs:</span></span>

- <span data-ttu-id="70e26-148">`allocateWave` meetodit värskendatakse, et kaasata ülesande konfiguratsiooni säte, mis võimaldab teil kasutada lehte **Vooprotsessi meetodid**, et määrata üheaegselt käitatud ülesannete arv, mis on võrdne paralleelprotsesside arvuga.</span><span class="sxs-lookup"><span data-stu-id="70e26-148">The `allocateWave` method is updated to include a task configuration setting that lets you use the **Wave process methods** page to define the number of tasks that will run simultaneously, equivalent to the number of parallel processes.</span></span> <span data-ttu-id="70e26-149">Seetõttu vähendatakse voo eraldamise sammus kasutatud aega (mis on tavaliselt 30% kuni 60% kogu töötlemisajast) ülesannete arvuga ligikaudselt võrdse teguri võrra.</span><span class="sxs-lookup"><span data-stu-id="70e26-149">As a result, the time used on the allocate-wave step (which is typically 30% to 60% of the total processing time) is reduced by a factor roughly equivalent to the number of tasks.</span></span> <span data-ttu-id="70e26-150">Võimalik on valida ka, milline partii määratakse nende ülesannete töötlemiseks.</span><span class="sxs-lookup"><span data-stu-id="70e26-150">It's also possible to select which batch will be assigned to process these tasks.</span></span> <span data-ttu-id="70e26-151">Oluline on märkida, et kõik teie juriidilised isikud konfigureeritakse töötlema voogusid pakktöötluseks.</span><span class="sxs-lookup"><span data-stu-id="70e26-151">It's important to note that all of your legal entities will be configured to process waves in batch.</span></span> <span data-ttu-id="70e26-152">Ladude puhul, mis on juba konfigureeritud töötlema laineid partiitöötlusena ja ladude puhul, mis on juba konfigureeritud kasutama meetodit `allocateWave` paralleelselt, säilitatakse olemasolev konfiguratsioon.</span><span class="sxs-lookup"><span data-stu-id="70e26-152">For the warehouses that are already configured to process waves in batch, and for the warehouses that are already configured to use the `allocateWave` method in parallel, the existing configuration will be kept.</span></span>
- <span data-ttu-id="70e26-153">Vaikimisi konfigureeritakse kõik uued juriidilised isikud töötlema voogusid partiitöötlusena.</span><span class="sxs-lookup"><span data-stu-id="70e26-153">By default, all the new legal entities are configured to process waves in batch.</span></span> <span data-ttu-id="70e26-154">Kõigil uutel **laohaldusprotsesside** suvandiga lubatud ladudel on meetod `allocateWave` konfigureeritud käivituma vaikimisi paralleelselt.</span><span class="sxs-lookup"><span data-stu-id="70e26-154">All new warehouses with the **Warehouse management processes** option enabled will have the `allocateWave` method configured to run in parallel by default.</span></span>
- <span data-ttu-id="70e26-155">Lehel **Laohalduse parameetrid** on **partiitööna töötlemiseks salvestatud** väärtuseks seatud *Jah* ja **lukustuse ooteaja (ms)** väärtuseks on seatud vaikimisi 15 sekundit.</span><span class="sxs-lookup"><span data-stu-id="70e26-155">On the **Warehouse management parameters** page, **Process saves in batch** is set to *Yes* and  **Wait for lock (ms)** set to a default 15 seconds.</span></span> <span data-ttu-id="70e26-156">See tähendab, et kõik vood käivitatakse partiitöötlusega.</span><span class="sxs-lookup"><span data-stu-id="70e26-156">This means that all waves will be executed in batch.</span></span> <span data-ttu-id="70e26-157">Kui voog töötab, omandab see lukustuse kauba ja mõõtude kohta eraldamise etapis.</span><span class="sxs-lookup"><span data-stu-id="70e26-157">When a wave is running, it acquires a lock on the item and dimensions above location during the allocation step.</span></span> <span data-ttu-id="70e26-158">Kui järgnev voogtöötlemise ülesanne püüab omandada identsele kirjele sama lukku, on see blokeeritud, kuni praegune protsess pole lõppenud.</span><span class="sxs-lookup"><span data-stu-id="70e26-158">When another wave processing task tries to acquire the same lock for the identical record, it is blocked until the current process is finished.</span></span> <span data-ttu-id="70e26-159">**Lukustuse ooteaja (ms)** sätted loovad maksimumaja, mida süsteem ootab enne luku vabastamist.</span><span class="sxs-lookup"><span data-stu-id="70e26-159">The **Wait for lock (ms)** settings establishes the maximum time the system will wait before the lock is released.</span></span>

<span data-ttu-id="70e26-160">Paralleelse eraldamise töötlemine nõuab voo töötlemist partii kaupa.</span><span class="sxs-lookup"><span data-stu-id="70e26-160">Parallel allocation processing requires wave processing to run in batch.</span></span> <span data-ttu-id="70e26-161">Seega vähendate voo töötlemise jõudlust, kui lülitate välja sätte **Töötluse salvestamine partiina**, eriti kui voo töötlemine kasutab paralleelprotsessi, mille määras ülesande konfiguratsioon asjakohaste voomeetodite jaoks.</span><span class="sxs-lookup"><span data-stu-id="70e26-161">Therefore, you will reduce your wave processing performance if you turn off the **Process saves in batch** setting, especially if wave processing is using a parallel process as defined by the task configuration for the relevant wave methods.</span></span>

<span data-ttu-id="70e26-162">Vajadusel saate tagasi võtta kõik vaikimisi tehtud sätted, kui funktsioon *Voo paralleeliseerimine voo eraldamise meetodi jaoks* on teie eksemplari jaoks automaatselt lubatud.</span><span class="sxs-lookup"><span data-stu-id="70e26-162">If necessary, you can undo each of the settings made by default when the *Wave parallelization for Allocate Wave method* feature is automatically enabled for your instance.</span></span> <span data-ttu-id="70e26-163">Selleks tehke järgmist.</span><span class="sxs-lookup"><span data-stu-id="70e26-163">To do this:</span></span>

- <span data-ttu-id="70e26-164">Avage **Laohaldus \> Seadistus \> Laohalduse parameetrid**.</span><span class="sxs-lookup"><span data-stu-id="70e26-164">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="70e26-165">Vahekaardil **Voo töötlemine** rakendatakse soovituslikud väärtused suvanditele **Voogude töötlemine pariina** ja **Lukustuse ooteaeg (ms)**.</span><span class="sxs-lookup"><span data-stu-id="70e26-165">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="70e26-166">Avage jaotis **Laohaldus \> Seadistus \> Vood \> Voo protsessi meetodid**.</span><span class="sxs-lookup"><span data-stu-id="70e26-166">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="70e26-167">Valige `allocateWave` meetod.</span><span class="sxs-lookup"><span data-stu-id="70e26-167">Select the `allocateWave` method.</span></span> <span data-ttu-id="70e26-168">Tegumiribal valige **Toimingu konfiguratsioon**, et avada lehekülg, mis loetleb iga lao, kus meetod on seadistatud paralleelseks.</span><span class="sxs-lookup"><span data-stu-id="70e26-168">On the Action Pane, select **Task configuration** to open a page that lists each warehouse where the method is set to run in parallel.</span></span> <span data-ttu-id="70e26-169">Vajadusel muutke või kustutage iga loetletud lao partiiülesannete arv ja määratud voo grupp.</span><span class="sxs-lookup"><span data-stu-id="70e26-169">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="70e26-170">Tõrkeotsing</span><span class="sxs-lookup"><span data-stu-id="70e26-170">Troubleshooting</span></span>

### <a name="troubleshoot-using-the-infolog"></a><span data-ttu-id="70e26-171">Teabelogi tõrkeotsing</span><span class="sxs-lookup"><span data-stu-id="70e26-171">Troubleshoot using the Infolog</span></span>

<span data-ttu-id="70e26-172">Kuna kasutatakse partii raamistikku, fikseeritakse voo töötlemisel ilmnevad tõrked partiitööde teabelogide osana.</span><span class="sxs-lookup"><span data-stu-id="70e26-172">Because the batch framework is used, errors that occur during wave processing will be captured as part of the batch jobs Infologs.</span></span> <span data-ttu-id="70e26-173">Vooga seotud partiitööde lugemine.</span><span class="sxs-lookup"><span data-stu-id="70e26-173">To read the batch jobs related to a wave:</span></span>

1. <span data-ttu-id="70e26-174">Avage **Laohaldus \> Väljaminevad vood \> Saadetise vood \> Kõik vood**.</span><span class="sxs-lookup"><span data-stu-id="70e26-174">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="70e26-175">Siin saate valida voo, mida soovite uurida.</span><span class="sxs-lookup"><span data-stu-id="70e26-175">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="70e26-176">Valige toimingupaanil vahekaart **Voog** ning valige rühmas **Voog** suvand **Partiitööd**.</span><span class="sxs-lookup"><span data-stu-id="70e26-176">On the Action Pane, open the **Wave** tab and, from the **Wave** group, select **Batch jobs**.</span></span>

<span data-ttu-id="70e26-177">Voo töötlemine on enesemääratlemine, seega tuleks mis tahes töötlemise käigus tuvastatud tõrkest teatada teabelogi abil.</span><span class="sxs-lookup"><span data-stu-id="70e26-177">Wave processing is self-correcting, so any error detected during processing should be reported using the Infolog.</span></span>

<span data-ttu-id="70e26-178">Paralleeltöötlusega seotud tavaline tõrge võib olla see, et kaks voogu proovivad eraldada sama kaupa korraga ja üks ei lõpeta seda nii, et teine voog ei suuda määratud aja jooksul lukustada.</span><span class="sxs-lookup"><span data-stu-id="70e26-178">A typical error related to parallel processing could be that two waves try to allocate the same item at the same time and one does not complete so that the other wave is unable to acquire a lock within the specified time.</span></span> <span data-ttu-id="70e26-179">Kui selline olukord ilmneb, sisaldab partiitööde logi teavet, mis ütleb, et kauba lukku ei saanud hankida. Sel juhul tuleb nurjunud voogu uuesti töödelda.</span><span class="sxs-lookup"><span data-stu-id="70e26-179">If this situation occurs, the batch jobs log will contain information stating that the lock for the item could not be acquired, in which case the wave that failed must be processed again.</span></span>

<span data-ttu-id="70e26-180">Kuna töötlemine toimub paralleelselt, tuleb andmeid töötlemise oleku jälgimiseks säilitada erinevates tabelites.</span><span class="sxs-lookup"><span data-stu-id="70e26-180">Because the processing is happening in parallel, data must be maintained in different tables to track the state of the processing.</span></span> <span data-ttu-id="70e26-181">See tähendab, et partiitööde logid võivad sisaldada vigu, nagu duplikaatvõtme tõrked.</span><span class="sxs-lookup"><span data-stu-id="70e26-181">This means that the logs for the batch jobs might contain errors such as duplicate key errors.</span></span>

<span data-ttu-id="70e26-182">Partiiülesannete tõrked on ka partiitööde logi osa.</span><span class="sxs-lookup"><span data-stu-id="70e26-182">The errors from the batch tasks are also part of the batch jobs log.</span></span> <span data-ttu-id="70e26-183">Kõige olulisem teave on tavaliselt allosas.</span><span class="sxs-lookup"><span data-stu-id="70e26-183">The most important information is typically at the bottom.</span></span>

<span data-ttu-id="70e26-184">Harvadel juhtudel, nt SQL-i ühenduse katkemisel, võib voo töötlemine lõppeda vastuolus olekus, kus partiitöö töötab, kuid töötlemine on peatatud.</span><span class="sxs-lookup"><span data-stu-id="70e26-184">In rare cases, for example if the SQL connection ended, it is possible for the wave processing to end in an inconsistent state where the batch job appears to be running but the processing is stopped.</span></span> <span data-ttu-id="70e26-185">Voog ei saa sellist tõrkeid käsitseda, seega püütakse järgmise voo käitamisel nurjunud voogusid puhastada.</span><span class="sxs-lookup"><span data-stu-id="70e26-185">The wave can't handle errors like this, so an attempt to clean up failed waves is done when the next wave runs.</span></span> <span data-ttu-id="70e26-186">Teise võimalusena, kui praegune voog on vastuolus olekus, tehke järgmist.</span><span class="sxs-lookup"><span data-stu-id="70e26-186">Alternatively, if the current wave is in an inconsistent state, perform the following steps:</span></span>

1. <span data-ttu-id="70e26-187">Avage **Laohaldus \> Väljaminevad vood \> Saadetise vood \> Kõik vood**.</span><span class="sxs-lookup"><span data-stu-id="70e26-187">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="70e26-188">Valige puhastatav voog.</span><span class="sxs-lookup"><span data-stu-id="70e26-188">Select the wave you need to clean up.</span></span>
1. <span data-ttu-id="70e26-189">Valige toimingupaanil vahekaart **Voog** ning valige rühmas **Voog** suvand **Vooandmete puhastamine**.</span><span class="sxs-lookup"><span data-stu-id="70e26-189">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Cleanup wave data**.</span></span>

### <a name="troubleshoot-using-the-wave-progress-log"></a><span data-ttu-id="70e26-190">Voo protsessi logi tõrkeotsing</span><span class="sxs-lookup"><span data-stu-id="70e26-190">Troubleshoot using the wave progress log</span></span>

<span data-ttu-id="70e26-191">Kui suvand **Loo voo edenemise logi** on lehel **Laohalduse parameetrid** lubatud, luuakse logikirje iga kord, kui kauba jaoks eraldamine toimub ja selle dimensioonid algavad ja lõpevad.</span><span class="sxs-lookup"><span data-stu-id="70e26-191">If the **Create wave progress log** option is enabled on the **Warehouse management parameters** page, then a log record is created every time allocation for an item and its dimensions begins and ends.</span></span> <span data-ttu-id="70e26-192">Lubage see logi ainult siis, kui vajate seda nt algsel testimisel või tõrkeotsingul.</span><span class="sxs-lookup"><span data-stu-id="70e26-192">You should only enable this log when you need it, for example, during initial testing or for troubleshooting.</span></span> <span data-ttu-id="70e26-193">Kui see suvand on lubatud, saate logi vaadata järgmiste sammude abil.</span><span class="sxs-lookup"><span data-stu-id="70e26-193">When this option is enabled, you can view the log by taking the following steps:</span></span>

1. <span data-ttu-id="70e26-194">Avage **Laohaldus \> Väljaminevad vood \> Saadetise vood \> Kõik vood**.</span><span class="sxs-lookup"><span data-stu-id="70e26-194">Go to **Warehouse management \> Outbound waves \> Shipment waves \> All waves**.</span></span>
1. <span data-ttu-id="70e26-195">Siin saate valida voo, mida soovite uurida.</span><span class="sxs-lookup"><span data-stu-id="70e26-195">Select the wave you want to inspect.</span></span>
1. <span data-ttu-id="70e26-196">Avage tegumiriba vahekaart **Voog** ja grupis **Voog** valik **Progress**.</span><span class="sxs-lookup"><span data-stu-id="70e26-196">On the Action Pane, open the **Wave** tab and, in the **Wave** group, select **Progress**.</span></span>
