---
title: Voo ajal töö loomise plaanimine
description: Selles teemas kirjeldatakse, kuidas häälestada ja kasutada töö loomise plaanimise voo töötlemismeetodit.
author: perlynne
ms.date: 01/14/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: WHSPostMethod, WHSWavePostMethodTaskConfig, WHSWaveTemplateTable, WHSParameters, WHSWaveTableListPage, WHSWorkTableListPage, WHSWorkTable, BatchJobEnhanced, WHSPlannedWorkOrder
audience: Application User
ms.reviewer: ''
ms.search.scope: Core, Operations
ms.search.region: Global
ms.author: kamaybac
ms.search.validFrom: 2021-01-14
ms.dyn365.ops.version: 10.0.17
ms.openlocfilehash: e4258c03b12a80a5bd81328ae7418835d68f82e7
ms.sourcegitcommit: 0e8db169c3f90bd750826af76709ef5d621fd377
ms.translationtype: HT
ms.contentlocale: et-EE
ms.lasthandoff: 04/01/2021
ms.locfileid: "5835698"
---
# <a name="schedule-work-creation-during-wave"></a><span data-ttu-id="9caba-103">Voo ajal töö loomise plaanimine</span><span class="sxs-lookup"><span data-stu-id="9caba-103">Schedule work creation during wave</span></span>

[!include [banner](../../includes/banner.md)]

<span data-ttu-id="9caba-104">Kasutage funktsiooni *Töö loomise plaanimine* osana oma voo loomisprotsessist, et aidata suurendada voo töötlemise läbilasku, võimaldades süsteemil luua tööd paralleeltöötlust kasutades.</span><span class="sxs-lookup"><span data-stu-id="9caba-104">Use the *Schedule work creation* feature as part of your waving process to help increase wave processing throughput by having the system create work using parallel processing.</span></span>

<span data-ttu-id="9caba-105">Kui see funktsioon on lubatud, luuakse plaanitud töö automaatselt, mida süsteem lõpuks töötleb, et luua tegelik töö.</span><span class="sxs-lookup"><span data-stu-id="9caba-105">When the functionality is enabled, planned work will automatically get created, which the system will eventually process to create actual work.</span></span> <span data-ttu-id="9caba-106">Kui voo laadimise ridade arv saavutab ettemääratud läviväärtuse, loob süsteem tegeliku töö palju kiiremini, rakendades paralleelset asünkroonset töötlemist.</span><span class="sxs-lookup"><span data-stu-id="9caba-106">If the number of wave load lines reaches a predetermined threshold, the system will create actual work more quickly by applying parallel, asynchronous processing.</span></span>

## <a name="turn-on-the-scheduled-work-creation-features-in-feature-management"></a><span data-ttu-id="9caba-107">Lülitage funktsioonihalduses sisse planeeritud töö loomise funktsioonid.</span><span class="sxs-lookup"><span data-stu-id="9caba-107">Turn on the scheduled work creation features in feature management</span></span>

<span data-ttu-id="9caba-108">Selles teemas kirjeldatud funktsioonide kasutamiseks tuleb need teie süsteemi jaoks sisse lülitada.</span><span class="sxs-lookup"><span data-stu-id="9caba-108">To use the features described in this topic, they must be turned on for your system.</span></span> <span data-ttu-id="9caba-109">Kasutage [Funktsioonide halduse](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) tööruumi, et lülitada sisse järgmised funktsioonid järgmises järjekorras:</span><span class="sxs-lookup"><span data-stu-id="9caba-109">Use [Feature management](../../fin-ops-core/fin-ops/get-started/feature-management/feature-management-overview.md) workspace to turn on the following features in the following order:</span></span>

1. <span data-ttu-id="9caba-110">**Üleorganisatsioonilise töö blokeerimine** - vajalik plaanitud töö loomise nii käsitsi kui ka automaatseks konfigureerimiseks.</span><span class="sxs-lookup"><span data-stu-id="9caba-110">**Organization-wide work blocking** - Required for both manual and automatic configuration of scheduled work creation.</span></span>
1. <span data-ttu-id="9caba-111">**Planeeritud töö loomine** - vajalik plaanitud töö loomise nii käsitsi kui ka automaatseks konfigureerimiseks.</span><span class="sxs-lookup"><span data-stu-id="9caba-111">**Schedule work creation** - Required for both manual and automatic configuration of scheduled work creation.</span></span>
1. <span data-ttu-id="9caba-112">**Üleorganisatsioonilise "planeeritud töö loomise" voo meetod** - vajalik plaanitud töö loomise nii käsitsi kui ka automaatseks konfigureerimiseks.</span><span class="sxs-lookup"><span data-stu-id="9caba-112">**Organization-wide "Schedule work creation" wave method** - Required for automatic configuration of scheduled work creation.</span></span> <span data-ttu-id="9caba-113">Kui kasutate ainult käsitsi konfigureerimist, siis seda funktsiooni ei vaja.</span><span class="sxs-lookup"><span data-stu-id="9caba-113">You don't need this feature if you will only use manual configuration.</span></span>

<a name="Auto-enable-schedule-work-creation"></a>

## <a name="automatically-configure-scheduled-work-creation"></a><span data-ttu-id="9caba-114">Konfigureeri automaatselt planeeritud töö loomist</span><span class="sxs-lookup"><span data-stu-id="9caba-114">Automatically configure scheduled work creation</span></span>

<span data-ttu-id="9caba-115">Kui lubate *Üleorganisatsiooniline "Töö loomise plaanimise" voomeetodi* funktsiooni, leiab süsteem automaatselt järgmise:</span><span class="sxs-lookup"><span data-stu-id="9caba-115">If you enable the *Organization-wide "Schedule work creation" wave method* feature, the following automatically occurs on your system:</span></span>

- <span data-ttu-id="9caba-116">*Plaanitud töö loomise* voomeetod (`WHSScheduleWorkCreationWaveStepMethod`) lisatakse paralleelselt kõigi juriidiliste isikute lõikes.</span><span class="sxs-lookup"><span data-stu-id="9caba-116">The *Schedule work creation* wave method (`WHSScheduleWorkCreationWaveStepMethod`) is added and configured to run in parallel across all legal entities.</span></span>
- <span data-ttu-id="9caba-117">Voo mallid kõigilt juriidilistelt isikutelt, kelle **voo malli tüüp** on määratud olekule *Lähetamine* ja **Malli olek** on määratud olekusse *Kehtiv*, on *töö loomise* meetod asendatud *paneeritud töö loomise* meetodiga.</span><span class="sxs-lookup"><span data-stu-id="9caba-117">Wave templates from all legal entities that have **Wave template type** set to *Shipping* and **Template status** set to *Valid* will have the *Create work* method replaced by the *Schedule work creation* method.</span></span> <span data-ttu-id="9caba-118">Kuid voomalle juriidilistelt isikutelt, kus *töö loomise* meetod on lubatud korrata, ei muudeta.</span><span class="sxs-lookup"><span data-stu-id="9caba-118">However, wave templates from legal entities where the *Create work* method is allowed to be repeatable will not be modified.</span></span>
- <span data-ttu-id="9caba-119">*Töö loomise plaani* meetodi ülesande konfiguratsioonid luuakse kõigi juriidiliste isikute kõigi ladude jaoks, kelle puhul on lubatud **kasutada laohaldusprotsesse**.</span><span class="sxs-lookup"><span data-stu-id="9caba-119">Task configurations for the *Schedule work creation* method will be created for all warehouses from all legal entities that have **Use warehouse management processes** enabled.</span></span> <span data-ttu-id="9caba-120">See tähendab, et *Töö plaani loomise* meetod käivitatakse nüüd vaikimisi paralleelselt.</span><span class="sxs-lookup"><span data-stu-id="9caba-120">This means that the *Schedule work creation* method will now run in parallel by default.</span></span> <span data-ttu-id="9caba-121">Olemasolevad laod, mille puhul muudate funktsiooni **Kasuta laohaldusprotsesse** väljalt *Ei* *Jah*, käitatakse seda meetodit vaikimisi paralleelselt.</span><span class="sxs-lookup"><span data-stu-id="9caba-121">Existing warehouses for which you change **Use warehouse management processes** from *No* to *Yes* will also run this method in parallel by default.</span></span>
- <span data-ttu-id="9caba-122">Kõik juriidilised isikud töötlevad voogusid partiides ja **Oota lukustus (ms)** seatakse vaikeväärtuseks *60 000* ms, kui selleks oli eelnevalt seatud *0* ms.</span><span class="sxs-lookup"><span data-stu-id="9caba-122">All legal entities will process waves in batches and **Wait for lock (ms)** will be set to a default value of *60,000* ms if it was previously set to *0* ms.</span></span>
- <span data-ttu-id="9caba-123">Kõigil uutel teie loodud voomallidel on *töö loomise plaani* voomeetod *töö loomise* meetodi asemel.</span><span class="sxs-lookup"><span data-stu-id="9caba-123">All the new wave templates that you create will have the *Schedule work creation* wave method instead of the *Create Work* method.</span></span>

<span data-ttu-id="9caba-124">Olemasolevaid ülesande ja voo töötlemise konfiguratsioone säilitatakse ka kõigi juriidiliste isikute puhul, kes on juba konfigureeritud töötlema laineid partiides, ja kõigi ladude puhul, mis on juba konfigureeritud kasutama *töö loomise plaani* meetodit paralleelselt.</span><span class="sxs-lookup"><span data-stu-id="9caba-124">The existing task and wave processing configurations will also be kept for all legal entities that are already configured to process waves in batches, and for all warehouses that are already configured to use the *Schedule work creation* method in parallel.</span></span>

<span data-ttu-id="9caba-125">Vajadusel saate käsitsi ennistada kõiki või kõiki automaatselt tehtud sätteid, kui lubate kogu *üleorganisatsioonilise töö loomise plaani voo meetodi* funktsiooni, toimides järgmiselt:</span><span class="sxs-lookup"><span data-stu-id="9caba-125">If necessary, you can manually revert any or all of the settings made automatically when you enabled the *Organization-wide Schedule work creation wave method* feature by doing the following:</span></span>

- <span data-ttu-id="9caba-126">Voomallideks avage **Laohaldus \> Seadistus \> Vood \> Voomallid**.</span><span class="sxs-lookup"><span data-stu-id="9caba-126">For wave templates, go to **Warehouse management \> Setup \> Waves \> Wave templates**.</span></span> <span data-ttu-id="9caba-127">Asendab *töö loomise plaani* meetodi *töö loomise* meetodiga.</span><span class="sxs-lookup"><span data-stu-id="9caba-127">Replace *Schedule work creation* method with *Create work*.</span></span>
- <span data-ttu-id="9caba-128">Laohalduse parameetriteks minge **Laohaldus \> Seadistus \> Laohalduse parameetrid**.</span><span class="sxs-lookup"><span data-stu-id="9caba-128">For warehouse parameters, go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span> <span data-ttu-id="9caba-129">Vahekaardil **Voo töötlemine** rakendatakse soovituslikud väärtused suvanditele **Voogude töötlemine pariina** ja **Lukustuse ooteaeg (ms)**.</span><span class="sxs-lookup"><span data-stu-id="9caba-129">On the **Wave processing** tab, apply your preferred values for **Process waves in batch** and **Wait for lock (ms)**.</span></span>
- <span data-ttu-id="9caba-130">Voomeetoditeks avage jaotis **Laohaldus \> Seadistus \> Vood \> Voo protsessi meetodid**.</span><span class="sxs-lookup"><span data-stu-id="9caba-130">For the wave methods, go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span> <span data-ttu-id="9caba-131">Valige `WHSScheduleWorkCreationWaveStepMethod` ja valige tegumipaanilt **Ülesande konfiguratsioon**.</span><span class="sxs-lookup"><span data-stu-id="9caba-131">Select `WHSScheduleWorkCreationWaveStepMethod` and, on the Action Pane, select **Task configuration**.</span></span> <span data-ttu-id="9caba-132">Vajadusel muutke või kustutage iga loetletud lao partiiülesannete arv ja määratud voo grupp.</span><span class="sxs-lookup"><span data-stu-id="9caba-132">Modify or delete the number of batch tasks and the assigned wave group for each listed warehouse as needed.</span></span>

## <a name="manually-configure-scheduled-work-creation"></a><span data-ttu-id="9caba-133">Konfigureeri käsitsi planeeritud töö loomist</span><span class="sxs-lookup"><span data-stu-id="9caba-133">Manually configure scheduled work creation</span></span>

<span data-ttu-id="9caba-134">Kui te ei aktiveerinud [*üleorganisatsioonilist "töö loomise plaani" voomeetodi* funktsiooni](#Auto-enable-schedule-work-creation), saate kasutada selles jaotises antud protseduure planeeritud töö loomise käsitsi konfigureerimiseks vastavalt vajadusele.</span><span class="sxs-lookup"><span data-stu-id="9caba-134">If you didn't enable the [*Organization-wide "Schedule work creation" wave method* feature](#Auto-enable-schedule-work-creation), then you can use the procedures provided in this section to manually configure scheduled work creation as needed.</span></span>

### <a name="manually-enable-batch-processing-of-waves"></a><span data-ttu-id="9caba-135">Voogude pakett-töötluse käsitsi lubamine</span><span class="sxs-lookup"><span data-stu-id="9caba-135">Manually enable batch processing of waves</span></span>

<span data-ttu-id="9caba-136">Laotöö loomiseks paralleelse asünkroonse meetodi kasutamiseks peab teie voo protsess olema käivitatud partiina.</span><span class="sxs-lookup"><span data-stu-id="9caba-136">To take advantage of a parallel asynchronous method to create warehouse work, your wave process must be running in batch.</span></span> <span data-ttu-id="9caba-137">Selle häälestamiseks tehke järgmist.</span><span class="sxs-lookup"><span data-stu-id="9caba-137">To set this up:</span></span>

1. <span data-ttu-id="9caba-138">Avage  **Laohaldus\>Seadistus \> Laohalduse parameetrid**.</span><span class="sxs-lookup"><span data-stu-id="9caba-138">Go to **Warehouse management \> Setup \> Warehouse management parameters**.</span></span>
1. <span data-ttu-id="9caba-139">Vahekaardil **Üldine** määrake suvand **Töötle vooge pakett-töötlusega** valikule *Jah*.</span><span class="sxs-lookup"><span data-stu-id="9caba-139">On the **General** tab, set **Process waves in batch** to *Yes*.</span></span> <span data-ttu-id="9caba-140">Soovi korral saate valida ka sihtotstarbelise **voo töötlemise pakett-tööde grupi**, et vältida pakett-töötluse järjekorra käitamist teiste protsessidega samal ajal.</span><span class="sxs-lookup"><span data-stu-id="9caba-140">Optionally, you can also select a dedicated **Wave processing batch group** to prevent your batch queue processing from running at the same time as other processes.</span></span>
1. <span data-ttu-id="9caba-141">Määrake syvandi **Oota lukustust (ms)** aeg, mis kohaldub, kui süsteem töötleb mitut voogu samal ajal.</span><span class="sxs-lookup"><span data-stu-id="9caba-141">Set the **Wait for lock (ms) time**, which applies when the system is processing several waves at the same time.</span></span> <span data-ttu-id="9caba-142">Enamike suuremate laine loomisprotsesside puhul soovitame väärtus *60 000*.</span><span class="sxs-lookup"><span data-stu-id="9caba-142">For most larger waving processes, we recommend a value of *60000*.</span></span>

### <a name="manually-enable-the-new-wave-step-method-for-existing-wave-templates"></a><span data-ttu-id="9caba-143">Olemasolevate voomallide uue voo etapi meetodi käsitsi lubamine</span><span class="sxs-lookup"><span data-stu-id="9caba-143">Manually enable the new wave step method for existing wave templates</span></span>

<span data-ttu-id="9caba-144">Alustage uue voo etapi meetodi loomisega ja selle lubamisega paralleelse asünkroonse ülesande töötlemiseks.</span><span class="sxs-lookup"><span data-stu-id="9caba-144">Start by creating the new wave step method and enabling it for parallel asynchronous task processing.</span></span>

1. <span data-ttu-id="9caba-145">Avage jaotis  **Laohaldus \>Seadistus \> Vood \> Voo töötlemise meetodid**.</span><span class="sxs-lookup"><span data-stu-id="9caba-145">Go to **Warehouse management \> Setup \> Waves \> Wave process methods**.</span></span>
1. <span data-ttu-id="9caba-146">Valige  **Meetodite uuesti loomine** ja pange tähele, et *WHSScheduleWorkCreationWaveStepMethod* on lisatud voo töötlemise meetodite loendisse, mida saate oma saatmise voomallides kasutada.</span><span class="sxs-lookup"><span data-stu-id="9caba-146">Select  **Regenerate method** and note that *WHSScheduleWorkCreationWaveStepMethod* has been added to the list of wave process methods you can use in your shipping wave templates.</span></span>
1. <span data-ttu-id="9caba-147">Valige kirje **meetodi nimega** *WHSScheduleWorkCreationWaveStepMethod* ja valige suvand **Ülesande konfiguratsioon**.</span><span class="sxs-lookup"><span data-stu-id="9caba-147">Select the record with the **Method name** *WHSScheduleWorkCreationWaveStepMethod* and select **Task configuration**.</span></span>
1. <span data-ttu-id="9caba-148">Ruudustikku uue rea loomiseks valige tegevuspaanil **Uus** ja kasutage järgmisi sätteid.</span><span class="sxs-lookup"><span data-stu-id="9caba-148">To add a new row to the grid, select **New** on the Action Pane and use the following settings:</span></span>

    - <span data-ttu-id="9caba-149">**Ladu** – valige ladu, mida töö loomise töötlemise plaanimiseks kasutate.</span><span class="sxs-lookup"><span data-stu-id="9caba-149">**Warehouse** - Select the warehouse you will use to schedule work creation processing.</span></span>
    - <span data-ttu-id="9caba-150">**Pakett-tööde maksimaalne arv** – määrake pakett-tööde maksimaalne arv.</span><span class="sxs-lookup"><span data-stu-id="9caba-150">**Maximum number of batch tasks** - Specify a maximum number of batch tasks.</span></span> <span data-ttu-id="9caba-151">Enamasti peaks see väärtus olema vahemikus 8–16, kuid soovitame katsetada teie stsenaariumitel põhineva optimaalse seadistusega.</span><span class="sxs-lookup"><span data-stu-id="9caba-151">In most cases, this value should be in the range from 8-16, however we recommend that you experiment with the optimal setting based on your scenarios.</span></span>
    - <span data-ttu-id="9caba-152">**Voo töötlemise partii rühm** – valige oma partii järjekorra töötlemise optimeerimiseks sihtotstarbeline voo töötlemise partii grupp.</span><span class="sxs-lookup"><span data-stu-id="9caba-152">**Wave processing batch group** - Select a dedicated wave processing batch group to optimize your batch queue processing.</span></span>

<span data-ttu-id="9caba-153">Nüüd olete valmis värskendama olemasolevat voomalli (või looma uue), et kasutada voo töötlemismeetodit *Töö loomise plaanimine*.</span><span class="sxs-lookup"><span data-stu-id="9caba-153">Now you are ready to update an existing wave template (or create a new one) to use the *Schedule work creation* wave processing method.</span></span>

1. <span data-ttu-id="9caba-154">Avage **Laohaldus\>Seadistus \> Vood \> Voomallid**.</span><span class="sxs-lookup"><span data-stu-id="9caba-154">Go to **Warehouse management \> Setup \> Waves \> Wave templates**.</span></span>
1. <span data-ttu-id="9caba-155">Valige toimingupaanil nupp **Redigeeri**.</span><span class="sxs-lookup"><span data-stu-id="9caba-155">Select **Edit** on the Action Pane.</span></span>
1. <span data-ttu-id="9caba-156">Valige loendipaanil voomall, mida soovite värskendada (kui testite demoandmeid kasutades, võite kasutada *24 saadetise vaikemalli*).</span><span class="sxs-lookup"><span data-stu-id="9caba-156">In the list pane, select the wave template you would like to update (if you are testing using demo data, then you could use *24 Shipping default*).</span></span>
1. <span data-ttu-id="9caba-157">Laiendage kiirkaarti **Meetodid** ja valige rida **nimega** *Töö loomise plaanimine* ruudustikus **Ülejäänud meetodid**.</span><span class="sxs-lookup"><span data-stu-id="9caba-157">Expand the **Methods** FastTab and select the row with the **Name** *Schedule work creation* in the **Remaining methods** grid.</span></span>
1. <span data-ttu-id="9caba-158">Valige nool, mis osutab veerule **Valitud meetodid**, et teisaldada valitud rida sellesse veergu.</span><span class="sxs-lookup"><span data-stu-id="9caba-158">Select the arrow pointing to the **Selected methods** column to move the selected row to that column.</span></span> <span data-ttu-id="9caba-159">(Teil saab olla korraga ainult üks valitud meetod, mis kasuab kas suvandit `WHSScheduleWorkCreationWaveStepMethod` või `createWork`, seega olemasolev rida **meetodi nimega** `createWork` teisaldatakse automaatselt ruudustikku **Ülejäänud meetodid**.)</span><span class="sxs-lookup"><span data-stu-id="9caba-159">(You can only have one selected method at a time that uses either `WHSScheduleWorkCreationWaveStepMethod` or `createWork`, so the existing row with **Method name** `createWork` is automatically moved to the **Remaining methods** grid.)</span></span>

## <a name="set-wave-task-processing-threshold-data"></a><span data-ttu-id="9caba-160">Voo ülesande töötlemise lävendi andmete määramine</span><span class="sxs-lookup"><span data-stu-id="9caba-160">Set wave task processing threshold data</span></span>

<span data-ttu-id="9caba-161">Voo töötlemise esimest korda käitamisel kasutades mis tahes ülesandepõhist töötlemist loob süsteem vaikimisi voo ülesande töötlemise lävendi andmed.</span><span class="sxs-lookup"><span data-stu-id="9caba-161">The system will create default wave task processing threshold data the first time a wave process runs using any task-based processing.</span></span> <span data-ttu-id="9caba-162">Andmeid kasutatakse voo töötluse asünkroonse ja ülesandepõhise töötluse juhtimiseks, mis võimaldab sellel töödelda ja luua tööd paralleelselt.</span><span class="sxs-lookup"><span data-stu-id="9caba-162">The data is used to control when wave processing will run asynchronously and be task-based, which enables it to process and create work in parallel.</span></span>

<span data-ttu-id="9caba-163">Vaikeandmed kasutavad algselt koormusridade minimaalse arvu läviväärtusena väärtust 15 (`MINIMUMWAVELOADLINES`).</span><span class="sxs-lookup"><span data-stu-id="9caba-163">The default data will initially use a threshold value of 15 for the minimum number of load lines (`MINIMUMWAVELOADLINES`).</span></span> <span data-ttu-id="9caba-164">See tähendab, et kui süsteem töötleb voogu enam kui 15 koormusreaga, kasutab see asünkroonset ülesande töötlemist.</span><span class="sxs-lookup"><span data-stu-id="9caba-164">This means that when the system processes a wave with more than 15 loads lines, it will use asynchronous task processing.</span></span> <span data-ttu-id="9caba-165">Neid andmeid saate katsekeskkonnas `WHSWaveTaskProcessingThresholdParameters` tabelisse käsitsi sisestada/värskendada.</span><span class="sxs-lookup"><span data-stu-id="9caba-165">You can manually insert/update this data in the `WHSWaveTaskProcessingThresholdParameters` table in your test environments.</span></span> <span data-ttu-id="9caba-166">Kui peate seda sätet tootmiskeskkonnas muutma, peate uuendamiseks ühendust võtma Microsoft Support'ga.</span><span class="sxs-lookup"><span data-stu-id="9caba-166">If you need to change this setting in a production environment, you must contact Microsoft Support to request the update.</span></span>

## <a name="work-with-the-scheduled-work-creation"></a><span data-ttu-id="9caba-167">Plaanitud töö loomine</span><span class="sxs-lookup"><span data-stu-id="9caba-167">Work with the scheduled work creation</span></span>

<span data-ttu-id="9caba-168">Lisateavet plaanitud töö loomise kohta vt [Voo loomine ja töötlemine](wave-processing.md).</span><span class="sxs-lookup"><span data-stu-id="9caba-168">For details about how to work with scheduled work creation, see [Wave creation and processing](wave-processing.md).</span></span> 


[!INCLUDE[footer-include](../../includes/footer-banner.md)]
