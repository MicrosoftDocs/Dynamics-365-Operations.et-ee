---
title: Väljavõtte sisestamise funktsiooni täiustused
description: Selles teemas kirjeldatakse väljavõtte sisestamise täiustusi.
author: josaw1
manager: AnnBe
ms.date: 05/14/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations, Retail
ms.search.region: Global
ms.search.industry: retail
ms.author: anpurush
ms.search.validFrom: 2018-04-30
ms.dyn365.ops.version: AX 7.0.0, Retail July 2017 update
ms.openlocfilehash: 02880edda6c34c24f8dad8cc8cbeafe215f46896
ms.sourcegitcommit: 9d4c7edd0ae2053c37c7d81cdd180b16bf3a9d3b
ms.translationtype: HT
ms.contentlocale: et-EE
ms.lasthandoff: 05/14/2019
ms.locfileid: "1541287"
---
# <a name="improvements-to-statement-posting-functionality"></a><span data-ttu-id="a45b9-103">Väljavõtte sisestamise funktsiooni täiustused</span><span class="sxs-lookup"><span data-stu-id="a45b9-103">Improvements to statement posting functionality</span></span>

[!include[banner](includes/banner.md)]

<span data-ttu-id="a45b9-104">Selles teemas kirjeldatakse väljavõtte sisestamise esimest täiustuste kogumit.</span><span class="sxs-lookup"><span data-stu-id="a45b9-104">This topic describes the first set of improvements that have been made to the statement posting feature.</span></span> <span data-ttu-id="a45b9-105">Need täiustused on saadaval rakenduses Microsoft Dynamics 365 for Finance and Operations7.3.2.</span><span class="sxs-lookup"><span data-stu-id="a45b9-105">These improvements are available in Microsoft Dynamics 365 for Finance and Operations 7.3.2.</span></span>

## <a name="activation"></a><span data-ttu-id="a45b9-106">Aktiveerimine</span><span class="sxs-lookup"><span data-stu-id="a45b9-106">Activation</span></span>

<span data-ttu-id="a45b9-107">Vaikimisi on juurutamisel rakendus Finance and Operations 7.3.2 seadistatud kasutama väljavõtte sisestamise pärandfunktsiooni.</span><span class="sxs-lookup"><span data-stu-id="a45b9-107">By default, during deployment of Finance and Operations 7.3.2, the program is set up to use the legacy feature for statement postings.</span></span> <span data-ttu-id="a45b9-108">Täiustatud väljavõtte sisestamise funktsiooni lubamiseks peate sisse lülitama selle konfiguratsioonivõtme.</span><span class="sxs-lookup"><span data-stu-id="a45b9-108">To enable the improved statement posting feature, you must turn on the configuration key for it.</span></span>

- <span data-ttu-id="a45b9-109">Avage **Süsteemihaldus** \> **Seadistamine** \> **Litsentsi konfiguratsioon** ja seejärel tühjendage sõlmes **Jaemüük** märkeruut **Jaemüügi väljavõtted (pärand)** ja valige märkeruut **Jaemüügi väljavõtted**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-109">Go to **System administration** \> **Setup** \> **License configuration**, and then, under the **Retail** node, clear the **Retail statements (legacy)** check box, and select the **Retail statements** check box.</span></span>

<span data-ttu-id="a45b9-110">Kui sisse on lülitatud uus konfiguratsioonivõti **Jaemüügi väljavõtted**, on saadaval uus menüükäsk nimega **Jaemüügi väljavõtted**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-110">When the new **Retail statements** configuration key is turned on, a new menu item that is named **Retail statements** is available.</span></span> <span data-ttu-id="a45b9-111">Selle menüükäsuga saab väljavõtteid käsitsi luua, arvutada ja sisestada.</span><span class="sxs-lookup"><span data-stu-id="a45b9-111">This menu item lets you manually create, calculate, and post statements.</span></span> <span data-ttu-id="a45b9-112">Selle menüükäsu kaudu on saadaval ka kõik väljavõtted, mis põhjustavad pakettsisestuse protsessi kasutamisel tõrke.</span><span class="sxs-lookup"><span data-stu-id="a45b9-112">Any statement that causes an error when the batch posting process is used will also be available through this menu item.</span></span> <span data-ttu-id="a45b9-113">(Kui sisse on lülitatud konfiguratsioonivõti **Jaemüügi väljavõtted (pärand)**, on saadaval menüükäsk nimega **Avatud väljavõtted**.)</span><span class="sxs-lookup"><span data-stu-id="a45b9-113">(When the **Retail statements (legacy)** configuration key is turned on, the menu item is named **Open statements**.)</span></span>

<span data-ttu-id="a45b9-114">Rakenduses Finance and Operations on järgmised nende konfiguratsioonivõtmetega seotud kontrolltoimingud.</span><span class="sxs-lookup"><span data-stu-id="a45b9-114">Finance and Operations includes the following validations that are related to these configuration keys:</span></span>

- <span data-ttu-id="a45b9-115">Mõlemat konfiguratsioonivõtit ei saa korraga sisse lülitada.</span><span class="sxs-lookup"><span data-stu-id="a45b9-115">Both configuration keys can't be turned on at the same time.</span></span>
- <span data-ttu-id="a45b9-116">Konkreetse väljavõtte elutsükli jooksul (loomine, arvutamine, sisestamine jne) tehtavate kõikide toimingute jaoks tuleb kasutada sama konfiguratsioonivõtit.</span><span class="sxs-lookup"><span data-stu-id="a45b9-116">The same configuration keys must be used for all the operations that are performed on a given statement during its lifecycle (Create, Calculate, Clear, Post, and so on).</span></span> <span data-ttu-id="a45b9-117">Näiteks ei saa luua ja arvutada väljavõtet, kui konfiguratsioonivõti **Jaemüügi väljavõte (pärand)** on sisse lülitatud, ja üritada sama väljavõtet sisestada konfiguratsioonivõtmega **Jaemüügi väljavõte**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-117">For example, you can't create and calculate a statement while the **Retail statement (legacy)** configuration key is turned on, and then try to post the same statement while the **Retail statement** configuration key is turned on.</span></span>

> [!NOTE]
> <span data-ttu-id="a45b9-118">Soovitame kasutada konfiguratsioonivõtit **Jaemüügi väljavõtted** väljavõtte sisestamise täiustatud funktsiooni jaoks, kui teil pole just mõjuvat põhjust kasutada konfiguratsioonivõtit **Jaemüügi väljavõtted (pärand)**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-118">We recommend that you use the **Retail statements** configuration key for the improved statement posting feature, unless you have compelling reasons to use the **Retail statements (legacy)** configuration key instead.</span></span> <span data-ttu-id="a45b9-119">Microsoft investeerib ka edaspidi uude ja täiustatud väljavõtte sisestamise funktsiooni ning on oluline, et te esimesel võimalusel sellele üle läheksite, et sellest kasu saada.</span><span class="sxs-lookup"><span data-stu-id="a45b9-119">Microsoft will continue to invest in the new and improved statement posting feature, and it's important that you switch to it at the earliest opportunity to benefit from it.</span></span> <span data-ttu-id="a45b9-120">Väljavõtte sisestamise pärandfunktsioon on aegunud alates väljaandest 8.0.</span><span class="sxs-lookup"><span data-stu-id="a45b9-120">The legacy statement posting feature is deprecated starting in 8.0 release.</span></span>

## <a name="setup"></a><span data-ttu-id="a45b9-121">Seadistamine</span><span class="sxs-lookup"><span data-stu-id="a45b9-121">Setup</span></span>

<span data-ttu-id="a45b9-122">Väljavõtte sisestamise funktsiooni täiustuste osana on lehe **Jaemüügi parameetrid** vahekaardi **Sisestamine** kiirkaardile **Väljavõte** lisatud kolm uut parameetrid.</span><span class="sxs-lookup"><span data-stu-id="a45b9-122">As part of the improvements to the statement posting feature, three new parameters have been introduced on the **Statement** FastTab on the **Posting** tab of the **Retail parameters** page:</span></span>

- <span data-ttu-id="a45b9-123">**Väljavõtte tühjendamise keelamine** – see suvand kehtib ainult väljavõtte sisestamise pärandfunktsioonile.</span><span class="sxs-lookup"><span data-stu-id="a45b9-123">**Disable clear statement** – This option is applicable only for the legacy statement posting feature.</span></span> <span data-ttu-id="a45b9-124">Soovitame selle suvandi seada valikule **Ei**, et kasutajad ei saaks tühjendada väljavõtteid, mille sisestamine on pooleli.</span><span class="sxs-lookup"><span data-stu-id="a45b9-124">We recommend that you set this option to **No** to prevent users from clearing statements that are in a semi-posted state.</span></span> <span data-ttu-id="a45b9-125">Kui tühjendatakse väljavõtteid, mille sisestamine on pooleli, muutuvad andmed vigaseks</span><span class="sxs-lookup"><span data-stu-id="a45b9-125">If statements that are in a semi-posted state are cleared, data becomes corrupted.</span></span> <span data-ttu-id="a45b9-126">Seadke see suvand valikule **Jah** ainult erandolukorras.</span><span class="sxs-lookup"><span data-stu-id="a45b9-126">You should set this option to **Yes** only in exceptional circumstances.</span></span>
- <span data-ttu-id="a45b9-127">**Varude reserveerimine arvutamisel** – soovitame kasutada pakett-tööd **Varude sisestamine** varude reserveerimiseks ja seada selle suvandi valikule **Ei**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-127">**Reserve inventory during calculation** – We recommend that you use the **Post inventory** batch job for inventory reservation, and that you set this option to **No**.</span></span> <span data-ttu-id="a45b9-128">Kui see suvand on seatud valikule **Ei**, ei ürita väljavõtte sisestamise täiustatud funktsioon luua varude reserveerimise kirjeid arvutamise ajal (kui kirjeid pole juba loodud pakett-töö **Varude sisestamine** ajal).</span><span class="sxs-lookup"><span data-stu-id="a45b9-128">When this option is set to **No**, the improved statement posting feature doesn't try to create inventory reservation entries at the time of calculation (if entries weren't already created through the **Post inventory** batch job).</span></span> <span data-ttu-id="a45b9-129">Selle asemel loob funktsioon varude reserveerimise kirjed ainult sisestamise ajal.</span><span class="sxs-lookup"><span data-stu-id="a45b9-129">Instead, the feature creates inventory reservation entries only at the time of posting.</span></span> <span data-ttu-id="a45b9-130">See rakendus on kujundusealane valik ja selle tegemisel lähtuti sellest, et ajavahe arvutamise ja sisestamise protsessi vahel on enamasti väike.</span><span class="sxs-lookup"><span data-stu-id="a45b9-130">This implementation was a design choice and was based on the fact that the time window between the calculation process and the posting process is typically small.</span></span> <span data-ttu-id="a45b9-131">Kui aga soovite reserveerida varusid arvutamise ajal, võite suvandi seada valikule **Jah**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-131">However, if you want to reserve inventory at the time of calculation, you can set this option to **Yes**.</span></span>

    <span data-ttu-id="a45b9-132">Väljavõtte sisestamise pärandfunktsioon reserveerib varud väljavõtte arvutamise protsessi ajal (kui reserveerimist pole juba tehtud pakett-töö **Varude sisestamine** kaudu), olenemata selle suvandi sättest.</span><span class="sxs-lookup"><span data-stu-id="a45b9-132">The legacy statement posting feature always reserves inventory during the statement calculation process (if reservation wasn't already done through the **Post inventory** batch job), regardless of the setting of this option.</span></span>

- <span data-ttu-id="a45b9-133">**Inventuuri keelamine on nõutav** – kui see suvand on seatud valikule **Jah**, jätkub väljavõtte sisestamise protsess, isegi kui väljavõttel oleva loendatud summa ja kandesumma vaheline erinevus jääb väljapoole läve, mis on määratud jaekaupluste kiirkaardil **Statement**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-133">**Disable counting required** – When this option is set to **Yes**, the posting process for a statement continues, even if the difference between the counted amount and the transaction amount on the statement is outside the threshold that is defined on the **Statement** FastTab for Retail stores.</span></span>

<span data-ttu-id="a45b9-134">Lisaks on kiirkaardil **Pakktöötlus** vahekaardil **Sisestamine** lehel **Jaemüügi parameetrid** kasutusele võetud järgmised parameetrid.</span><span class="sxs-lookup"><span data-stu-id="a45b9-134">Additionally, the following parameters have been introduced on the **Batch processing** FastTab on the **Posting** tab of the **Retail parameters** page:</span></span> 

- <span data-ttu-id="a45b9-135">**Paralleelselt sisestatavate väljavõtete maksimumarv** – see väli määratleb mitme väljavõtte sisestamiseks kasutatavate pakett-ülesannete arvu.</span><span class="sxs-lookup"><span data-stu-id="a45b9-135">**Maximum number of parallel statement posting** - This field defines the number of batch tasks that will be used to post multiple statements.</span></span> 
- <span data-ttu-id="a45b9-136">**Lõimede maksimumarv tellimuse töötlemisel väljavõtte kohta** – see väli näitab maksimaalset lõimede arvu, mida kasutatakse väljavõtte sisestamisel pakett-töös, et luua ja arveldada müügitellimusi ühe väljavõtte jaoks.</span><span class="sxs-lookup"><span data-stu-id="a45b9-136">**Max thread for order processing per statement** - This field represents the maximum number of threads used by the statement posting batch job to create and invoice sales orders for a single statement.</span></span> <span data-ttu-id="a45b9-137">Väljavõtete sisestamise protsessi kasutatav lõimede koguarv arvutatakse selle parameetri väärtuse alusel, mis korrutatakse parameetri **Paralleelselt sisestatavate väljavõtete maksimumarv** väärtusega.</span><span class="sxs-lookup"><span data-stu-id="a45b9-137">The total number of threads that will be used by the statement posting process will be computed based on the value in this parameter multiplied by the value in the **Maximum number of parallel statement posting** parameter.</span></span> <span data-ttu-id="a45b9-138">Selle parameetri väärtuse liiga kõrgeks määramine võib negatiivselt mõjutada väljavõtte sisestamise protsessi jõudlust.</span><span class="sxs-lookup"><span data-stu-id="a45b9-138">Setting the value of this parameter too high can negatively impact the performance of the statement posting process.</span></span>
- <span data-ttu-id="a45b9-139">**Kogumisse kaasatud kanderidade maksimumarv** – see väli määrab kanderidade arvu, mis kaasatakse ühte kandekogumisse enne uue loomist.</span><span class="sxs-lookup"><span data-stu-id="a45b9-139">**Max transaction lines included in aggregation** - This field defines the number of transaction lines that will be included in a single aggregated transaction before a new one is created.</span></span> <span data-ttu-id="a45b9-140">Koondatud kanded luuakse erinevate koondamiskriteeriumide alusel, nagu näiteks klient, ärikuupäev või finantsdimensioonid.</span><span class="sxs-lookup"><span data-stu-id="a45b9-140">Aggregated transactions are created based on different aggregation criteria such as customer, business date, or financial dimensions.</span></span> <span data-ttu-id="a45b9-141">Oluline on märkida, et ühest jaemüügi kandest pärinevaid ridu ei tükeldata erinevate koondatud kannete vahel.</span><span class="sxs-lookup"><span data-stu-id="a45b9-141">It is important to note that the lines from a single retail transaction will not be split across different aggregated transactions.</span></span> <span data-ttu-id="a45b9-142">See tähendab võimalust, et koondatud kandes on ridade arv veidi suurem või väiksem, põhinedes sellistel teguritel nagu eristavate toodete arv.</span><span class="sxs-lookup"><span data-stu-id="a45b9-142">This means that there is a possibility that the number of lines in a aggregated transaction is slightly higher or lower based on factors such as number of distinct products.</span></span>
- <span data-ttu-id="a45b9-143">**Maksimaalne lõimede arv kaupluse kannete kinnitamiseks** – see väli määratleb nende lõimede arvu, mida kasutatakse jaemüügi kannete kontrollimiseks.</span><span class="sxs-lookup"><span data-stu-id="a45b9-143">**Maximum number of threads to validate store transactions** - This field defines the number of threads that will be used to validate retail transactions.</span></span> <span data-ttu-id="a45b9-144">Jaemüügi kannete kinnitamine on nõutud etapp, mis peab toimuma enne kannete sisestamist väljavõtetesse.</span><span class="sxs-lookup"><span data-stu-id="a45b9-144">Validating retail transactions is a required step that needs to occur before the transactions can be pulled into the statements.</span></span> <span data-ttu-id="a45b9-145">Peate ka määratlema **Kingekaardi toode** kiirkaardil **Kinkekaart** vahekaardil **Sisestamine** lehel **Jaemüügi parameetrid**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-145">You also need to define a **Gift card product** on the **Gift card** FastTab on the **Posting** tab of the **Retail parameters** page.</span></span> <span data-ttu-id="a45b9-146">See tuleb määrata isegi siis, kui organisatsioon ei kasuta kinkekaarte.</span><span class="sxs-lookup"><span data-stu-id="a45b9-146">This needs to defined even if gift cards are not used by the organization.</span></span>

> [!NOTE]
> <span data-ttu-id="a45b9-147">Kõik väljavõtte sisestamisega seotud ning jaekaupluste lehel ja lehel **Jaemüügi parameetrid** määratud sätted ja parameetrid kehtivad väljavõtte sisestamise täiustatud funktsioonile.</span><span class="sxs-lookup"><span data-stu-id="a45b9-147">All settings and parameters that are related to statement postings, and that are defined on Retail stores and on the **Retail parameters** page, are applicable to the improved statement posting feature.</span></span>

## <a name="processing"></a><span data-ttu-id="a45b9-148">Teostamine</span><span class="sxs-lookup"><span data-stu-id="a45b9-148">Processing</span></span>

<span data-ttu-id="a45b9-149">Väljavõtteid saab arvutada ja sisestada partiina, kasutades menüükäske **Väljavõtete arvutamine partiina** ja **Väljavõtete sisestamine partiina**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-149">Statements can be calculated and posted in batch using the menu items **Calculate statements in batch** and **Post statements in batch**.</span></span> <span data-ttu-id="a45b9-150">Väljavõtteid on võimalik ka arvutada ja sisestada, kasutades menüükäsku **Jaemüügi väljavõtted**, mida väljavõtte sisestamise täiustatud funktsioon pakub.</span><span class="sxs-lookup"><span data-stu-id="a45b9-150">Alternatively, statements can be manually calculated and posted by using the **Retail statements** menu item that the improved statement posting feature provides.</span></span>

<span data-ttu-id="a45b9-151">Väljavõtte partiina arvutamise ja sisestamise protsess ja etapid on samad kui väljavõtte sisestamise pärandfunktsioonis.</span><span class="sxs-lookup"><span data-stu-id="a45b9-151">The process and steps for calculating and posting statements in a batch are the same as they were in the legacy statement posting feature.</span></span> <span data-ttu-id="a45b9-152">Kuid olulisi täiustusi on tehtud väljavõtete tuuma tagavaratöötlemises.</span><span class="sxs-lookup"><span data-stu-id="a45b9-152">However, significant improvements have been made in the core back-end processing of the statements.</span></span> <span data-ttu-id="a45b9-153">Need täiustused muudavad protsessi paindlikumaks ning annavad parema ülevaate olekute ja tõrgete teabest.</span><span class="sxs-lookup"><span data-stu-id="a45b9-153">These improvements make the process more resilient, and provide for better visibility into the states and error information.</span></span> <span data-ttu-id="a45b9-154">Seetõttu võivad kasutajad tegeleda tõrgete juurpõhjusega ja seejärel jätkata sisestamise protsessi, ilma et andmeid rikutaks ja vaja oleks andmete parandamist.</span><span class="sxs-lookup"><span data-stu-id="a45b9-154">Therefore, users can address the root cause of errors and then continue the posting process without causing data corruption and without causing data fixes to be required.</span></span>

<span data-ttu-id="a45b9-155">Järgmistes jaotistes kirjeldatakse väljavõtte sisestamise funktsiooni olulisemaid täiustusi jaemüügi väljavõtete ja sisestatud väljavõtete kasutajaliideses.</span><span class="sxs-lookup"><span data-stu-id="a45b9-155">The following sections describe some of the major improvements for the statement posting feature that appear in the user interface for retail statements and posted statements.</span></span>

### <a name="status-details"></a><span data-ttu-id="a45b9-156">Oleku üksikasjad</span><span class="sxs-lookup"><span data-stu-id="a45b9-156">Status details</span></span>

<span data-ttu-id="a45b9-157">Väljavõtte sisestusprotsessi arvutamise ja sisestamise protsessis on lisatud uus olekumudel.</span><span class="sxs-lookup"><span data-stu-id="a45b9-157">A new state model has been introduced in the statement posting routine across the calculation and posting processes.</span></span>

<span data-ttu-id="a45b9-158">Järgmises tabelis kirjeldatakse arvutamise protsessi eri olekuid ja nende järjekorda.</span><span class="sxs-lookup"><span data-stu-id="a45b9-158">The following table describes the various states and their order during the calculation process.</span></span>

| <span data-ttu-id="a45b9-159">Olekute järjekord</span><span class="sxs-lookup"><span data-stu-id="a45b9-159">State order</span></span> | <span data-ttu-id="a45b9-160">Maakond</span><span class="sxs-lookup"><span data-stu-id="a45b9-160">State</span></span>      | <span data-ttu-id="a45b9-161">Kirjeldus</span><span class="sxs-lookup"><span data-stu-id="a45b9-161">Description</span></span> |
|-------------|------------|-------------|
| <span data-ttu-id="a45b9-162">1</span><span class="sxs-lookup"><span data-stu-id="a45b9-162">1</span></span>           | <span data-ttu-id="a45b9-163">Alustatud</span><span class="sxs-lookup"><span data-stu-id="a45b9-163">Started</span></span>    | <span data-ttu-id="a45b9-164">Väljavõte on valmis ja arvutamiseks valmis.</span><span class="sxs-lookup"><span data-stu-id="a45b9-164">The statement was created and is ready to be calculated.</span></span> |
| <span data-ttu-id="a45b9-165">2</span><span class="sxs-lookup"><span data-stu-id="a45b9-165">2</span></span>           | <span data-ttu-id="a45b9-166">Märgitud</span><span class="sxs-lookup"><span data-stu-id="a45b9-166">Marked</span></span>     | <span data-ttu-id="a45b9-167">Väljavõtte ulatuses olevad kanded tuvastatakse väljavõtte parameetrite põhjal ja tähistatakse väljavõtte ID-ga.</span><span class="sxs-lookup"><span data-stu-id="a45b9-167">The transactions that are in scope for the statement are identified based on the statement parameters, and they are marked with the statement ID.</span></span> |
| <span data-ttu-id="a45b9-168">3</span><span class="sxs-lookup"><span data-stu-id="a45b9-168">3</span></span>           | <span data-ttu-id="a45b9-169">Arvutatud</span><span class="sxs-lookup"><span data-stu-id="a45b9-169">Calculated</span></span> | <span data-ttu-id="a45b9-170">Arvutatakse ja kuvatakse väljavõtte read.</span><span class="sxs-lookup"><span data-stu-id="a45b9-170">The statement lines are computed and shown.</span></span> |

<span data-ttu-id="a45b9-171">Järgmises tabelis kirjeldatakse sisestamise protsessi eri etappe ja nende järjekorda.</span><span class="sxs-lookup"><span data-stu-id="a45b9-171">The following table describes the various states and their order during the posting process.</span></span>

| <span data-ttu-id="a45b9-172">Etappide järjekord</span><span class="sxs-lookup"><span data-stu-id="a45b9-172">State order</span></span> | <span data-ttu-id="a45b9-173">Maakond</span><span class="sxs-lookup"><span data-stu-id="a45b9-173">State</span></span>                   | <span data-ttu-id="a45b9-174">Kirjeldus</span><span class="sxs-lookup"><span data-stu-id="a45b9-174">Description</span></span> |
|-------------|-------------------------|-------------|
| <span data-ttu-id="a45b9-175">1</span><span class="sxs-lookup"><span data-stu-id="a45b9-175">1</span></span>           | <span data-ttu-id="a45b9-176">Kontrollitud</span><span class="sxs-lookup"><span data-stu-id="a45b9-176">Checked</span></span>                 | <span data-ttu-id="a45b9-177">Tehtud on mitu parameetrite (nt likvideerimistasu) ning väljavõtte ja väljavõtte ridadega (nt erinevus loendatud summa ja kandesumma vahel) seotud kontrolltoimingut.</span><span class="sxs-lookup"><span data-stu-id="a45b9-177">Multiple validations are done that are related to parameters (for example, the disposition charge), and to the statement and statement lines (for example, the difference between the counted amount and the transaction amount).</span></span> |
| <span data-ttu-id="a45b9-178">2</span><span class="sxs-lookup"><span data-stu-id="a45b9-178">2</span></span>           | <span data-ttu-id="a45b9-179">Koondatud</span><span class="sxs-lookup"><span data-stu-id="a45b9-179">Aggregated</span></span>              | <span data-ttu-id="a45b9-180">Nimeliste ja nimetute klientide müügikanded koondatakse konfiguratsiooni järgi.</span><span class="sxs-lookup"><span data-stu-id="a45b9-180">Sales transactions for named and unnamed customers are aggregated based on the configuration.</span></span> <span data-ttu-id="a45b9-181">Iga koondatud kanne teisendatakse lõpuks müügitellimuseks.</span><span class="sxs-lookup"><span data-stu-id="a45b9-181">Every aggregated transaction is eventually converted to a sales order.</span></span> |
| <span data-ttu-id="a45b9-182">3</span><span class="sxs-lookup"><span data-stu-id="a45b9-182">3</span></span>           | <span data-ttu-id="a45b9-183">Klienditellimus on loodud</span><span class="sxs-lookup"><span data-stu-id="a45b9-183">Customer order created</span></span>  | <span data-ttu-id="a45b9-184">Koondatud kande põhjal luuakse süsteemis müügitellimused.</span><span class="sxs-lookup"><span data-stu-id="a45b9-184">Based on the aggregated transaction, sales orders are created in the system.</span></span> |
| <span data-ttu-id="a45b9-185">4</span><span class="sxs-lookup"><span data-stu-id="a45b9-185">4</span></span>           | <span data-ttu-id="a45b9-186">Klienditellimuse kohta on arve koostatud</span><span class="sxs-lookup"><span data-stu-id="a45b9-186">Customer order invoiced</span></span> | <span data-ttu-id="a45b9-187">Müügitellimuste kohta on arve koostatud.</span><span class="sxs-lookup"><span data-stu-id="a45b9-187">Sales orders are invoiced.</span></span> |
| <span data-ttu-id="a45b9-188">5</span><span class="sxs-lookup"><span data-stu-id="a45b9-188">5</span></span>           | <span data-ttu-id="a45b9-189">Sisestatud allahindlused</span><span class="sxs-lookup"><span data-stu-id="a45b9-189">Discounts posted</span></span>        | <span data-ttu-id="a45b9-190">Perioodiliste allahindluste töölehed sisestatakse konfiguratsiooni järgi.</span><span class="sxs-lookup"><span data-stu-id="a45b9-190">Periodic discount journals are posted based on the configuration.</span></span> |
| <span data-ttu-id="a45b9-191">6</span><span class="sxs-lookup"><span data-stu-id="a45b9-191">6</span></span>           | <span data-ttu-id="a45b9-192">Sisestatud tulu/kulu</span><span class="sxs-lookup"><span data-stu-id="a45b9-192">Income/expense posted</span></span>   | <span data-ttu-id="a45b9-193">Tulu/kulu kanded on sisestatud vautšeritena.</span><span class="sxs-lookup"><span data-stu-id="a45b9-193">Income/expense transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="a45b9-194">7</span><span class="sxs-lookup"><span data-stu-id="a45b9-194">7</span></span>           | <span data-ttu-id="a45b9-195">Seotud kanded</span><span class="sxs-lookup"><span data-stu-id="a45b9-195">Vouchers linked</span></span>         | <span data-ttu-id="a45b9-196">Luuakse maksete töölehed ja need seostatakse vastava arvega.</span><span class="sxs-lookup"><span data-stu-id="a45b9-196">Payment journals are created and linked to the corresponding invoice.</span></span> |
| <span data-ttu-id="a45b9-197">8</span><span class="sxs-lookup"><span data-stu-id="a45b9-197">8</span></span>           | <span data-ttu-id="a45b9-198">Sisestatud maksed</span><span class="sxs-lookup"><span data-stu-id="a45b9-198">Payments posted</span></span>         | <span data-ttu-id="a45b9-199">Sisestatakse maksete töölehed.</span><span class="sxs-lookup"><span data-stu-id="a45b9-199">Payment journals are posted.</span></span> |
| <span data-ttu-id="a45b9-200">9</span><span class="sxs-lookup"><span data-stu-id="a45b9-200">9</span></span>           | <span data-ttu-id="a45b9-201">Sisestatud kinkekaardid</span><span class="sxs-lookup"><span data-stu-id="a45b9-201">Gift cards posted</span></span>       | <span data-ttu-id="a45b9-202">Kinkekaardi kanded on sisestatud vautšeritena.</span><span class="sxs-lookup"><span data-stu-id="a45b9-202">Gift card transactions are posted as vouchers.</span></span> |
| <span data-ttu-id="a45b9-203">10</span><span class="sxs-lookup"><span data-stu-id="a45b9-203">10</span></span>          | <span data-ttu-id="a45b9-204">Sisestatud</span><span class="sxs-lookup"><span data-stu-id="a45b9-204">Posted</span></span>                  | <span data-ttu-id="a45b9-205">Väljavõte märgitakse sisestatuks.</span><span class="sxs-lookup"><span data-stu-id="a45b9-205">The statement is marked as posted.</span></span> |

<span data-ttu-id="a45b9-206">Iga eelolevas tabelis olev etapp on oma olemuselt sõltumatu ja etappide vahele on ehitatud hierarhiline sõltuvus.</span><span class="sxs-lookup"><span data-stu-id="a45b9-206">Every state in the preceding tables is independent in nature, and a hierarchical dependency is built between the states.</span></span> <span data-ttu-id="a45b9-207">See sõltuvus liigub ülevalt alla.</span><span class="sxs-lookup"><span data-stu-id="a45b9-207">This dependency flows from top to bottom.</span></span> <span data-ttu-id="a45b9-208">Kui süsteemis tekib etapi töötlemisel mõni tõrge, viiakse väljavõtte etapp tagasi eelmisse etappi.</span><span class="sxs-lookup"><span data-stu-id="a45b9-208">If the system encounters any errors while it's processing a state, the status of the statement is reverted to the previous state.</span></span> <span data-ttu-id="a45b9-209">Protsessi uus test jätkub nurjunud etapist ja protsess liigub edasi.</span><span class="sxs-lookup"><span data-stu-id="a45b9-209">Any subsequent reattempt of the process resumes from the state that failed and continues to move forward.</span></span> <span data-ttu-id="a45b9-210">Sellel lähenemisel on järgmised eelised.</span><span class="sxs-lookup"><span data-stu-id="a45b9-210">This approach has the following benefits:</span></span>

- <span data-ttu-id="a45b9-211">Kasutajal on selge ülevaade etapist, kus tõrge tekkis.</span><span class="sxs-lookup"><span data-stu-id="a45b9-211">The user has complete visibility into the state where the error occurred.</span></span>
- <span data-ttu-id="a45b9-212">Välditakse andmete rikkumist.</span><span class="sxs-lookup"><span data-stu-id="a45b9-212">Data corruption is avoided.</span></span> <span data-ttu-id="a45b9-213">Näiteks väljavõtte sisestamise pärandfunktsioonis olid eksemplarid, kus mõne müügitellimuse kohta arve koostati, kuid teised jäid avatuks.</span><span class="sxs-lookup"><span data-stu-id="a45b9-213">For example, in the legacy statement posting feature, there were instances where some sales orders were invoiced but others were left open.</span></span> <span data-ttu-id="a45b9-214">Olid ka eksemplarid, kus mõnel maksete töölehel puudus tasakaalustamiseks vastav arve, kuna arve sisestamisel tekkis tõrge.</span><span class="sxs-lookup"><span data-stu-id="a45b9-214">There were also instances where some payment journals didn't have a corresponding invoice to settle, because the invoice posting had an error.</span></span>
- <span data-ttu-id="a45b9-215">Kasutajad näevad väljavõtte praegust etappi, kasutades nuppu **Etapi üksikasjad** väljavõtte grupis **Käivitamise üksikasjad**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-215">Users can see the current state of a statement by using the **Status details** button in the **Execution details** group of the statement.</span></span> <span data-ttu-id="a45b9-216">Etapi üksikasjade lehel on kolm jaotist.</span><span class="sxs-lookup"><span data-stu-id="a45b9-216">The status details page has three sections:</span></span>

    - <span data-ttu-id="a45b9-217">Esimeses jaotises kuvatakse väljavõtte praegune etapp koos tõrkekoodi ja üksikasjaliku tõrketeatega, kui tekkis tõrge.</span><span class="sxs-lookup"><span data-stu-id="a45b9-217">The first section shows the current status of the statement, together with the error code and a detailed error message, if an error occurred.</span></span>
    - <span data-ttu-id="a45b9-218">Teises jaotises kuvatakse arvutamise protsessi eri etapid.</span><span class="sxs-lookup"><span data-stu-id="a45b9-218">The second section shows the various states of the calculation process.</span></span> <span data-ttu-id="a45b9-219">Visuaalsed vihjed näitavad etappe, mille käivitamine on õnnestunud, etappe, mida ei saanud tõrgete tõttu käivitada, ja etappe, mida pole veel käivitatud.</span><span class="sxs-lookup"><span data-stu-id="a45b9-219">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>
    - <span data-ttu-id="a45b9-220">Kolmandas jaotises kuvatakse sisestamise protsessi eri etapid.</span><span class="sxs-lookup"><span data-stu-id="a45b9-220">The third section shows the various states of the posting process.</span></span> <span data-ttu-id="a45b9-221">Visuaalsed vihjed näitavad etappe, mille käivitamine on õnnestunud, etappe, mida ei saanud tõrgete tõttu käivitada, ja etappe, mida pole veel käivitatud.</span><span class="sxs-lookup"><span data-stu-id="a45b9-221">Visual cues indicate states that have been successfully run, states that could not be run because of errors, and states that haven't yet been run.</span></span>

<span data-ttu-id="a45b9-222">Peale selle kuvab teise ja kolmanda jaotise päis asjakohaste protsesside üldist olekut.</span><span class="sxs-lookup"><span data-stu-id="a45b9-222">Additionally, the header of the second and third sections shows the overall status of the relevant process.</span></span>

### <a name="event-logs"></a><span data-ttu-id="a45b9-223">Sündmustelogid</span><span class="sxs-lookup"><span data-stu-id="a45b9-223">Event logs</span></span>

<span data-ttu-id="a45b9-224">Väljavõte läbib mitu toimingut (nt loomine, arvutamine, tühjendamine ja sisestamine) ning väljavõtte elutsükli jooksul võidakse sama toimingut käivitada mitu korda.</span><span class="sxs-lookup"><span data-stu-id="a45b9-224">A statement goes through various operations (for example, Create, Calculate, Clear, and Post), and multiple instances of the same operation might be called during the statement's lifecycle.</span></span> <span data-ttu-id="a45b9-225">Näiteks pärast väljavõtte loomist ja arvutamist saab kasutaja väljavõtte tühjendada ja selle uuesti arvutada.</span><span class="sxs-lookup"><span data-stu-id="a45b9-225">For example, after a statement is created and calculated, a user can clear the statement and calculate it again.</span></span> <span data-ttu-id="a45b9-226">Nupp **Sündmustelogid** väljavõtte grupis **Käivitamise üksikasjad** annab täieliku kontrolljälje väljavõttega tehtud eri toimingutest koos teabega selle kohta, millal need toimingud käivitati.</span><span class="sxs-lookup"><span data-stu-id="a45b9-226">The **Event logs** button in the **Execution details** group of the statement provides a complete audit trail of the various operations that were called on a statement, together with information about when those operations were called.</span></span>

### <a name="aggregated-transactions"></a><span data-ttu-id="a45b9-227">Koondatud kanded</span><span class="sxs-lookup"><span data-stu-id="a45b9-227">Aggregated transactions</span></span>

<span data-ttu-id="a45b9-228">Sisestamise protsessi ajal koondatakse müügikanded konfiguratsiooni järgi.</span><span class="sxs-lookup"><span data-stu-id="a45b9-228">During the posting process, the sales transactions are aggregated based on the configuration.</span></span> <span data-ttu-id="a45b9-229">Koondatud kanded salvestatakse süsteemi ja neid kasutatakse müügitellimuste loomiseks.</span><span class="sxs-lookup"><span data-stu-id="a45b9-229">These aggregated transactions are stored in the system and used to create sales orders.</span></span> <span data-ttu-id="a45b9-230">Iga koondatud kanne loob süsteemis ühe vastava müügitellimuse.</span><span class="sxs-lookup"><span data-stu-id="a45b9-230">Every aggregated transaction creates one corresponding sales order in the system.</span></span> <span data-ttu-id="a45b9-231">Koondatud kandeid saate vaadata, kasutades nuppu **Koondatud kanded** väljavõtte grupis **Käivitamise üksikasjad**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-231">You can view the aggregated transactions by using the **Aggregated transactions** button in the **Execution details** group of the statement.</span></span>

<span data-ttu-id="a45b9-232">Koondatud kande vahekaardil **Müügitellimuse üksikasjad** kuvatakse järgmine teave.</span><span class="sxs-lookup"><span data-stu-id="a45b9-232">The **Sales order detail** tab of an aggregated transaction shows the following information:</span></span>

- <span data-ttu-id="a45b9-233">**Kirje ID** – koondatud kande ID.</span><span class="sxs-lookup"><span data-stu-id="a45b9-233">**Record ID** – The ID of the aggregated transaction.</span></span>
- <span data-ttu-id="a45b9-234">**Väljavõtte number** – väljavõte, mille juurde koondatud kanne kuulub.</span><span class="sxs-lookup"><span data-stu-id="a45b9-234">**Statement number** – The statement that the aggregated transaction belongs to.</span></span>
- <span data-ttu-id="a45b9-235">**Kuupäev** – kuupäev, millal koondatud kanne loodi.</span><span class="sxs-lookup"><span data-stu-id="a45b9-235">**Date** – The date when the aggregated transaction was created.</span></span>
- <span data-ttu-id="a45b9-236">**Müügi ID** – kui müügitellimus luuakse koondatud kandest, on see müügitellimuse ID.</span><span class="sxs-lookup"><span data-stu-id="a45b9-236">**Sales ID** – When a sales order is created from the aggregated transaction, the sales order ID.</span></span> <span data-ttu-id="a45b9-237">Kui see väli on tühi, ei ole vastavat müügitellimust veel loodud.</span><span class="sxs-lookup"><span data-stu-id="a45b9-237">If this field is blank, the corresponding sales order hasn't been created.</span></span>
- <span data-ttu-id="a45b9-238">**Koondatud ridade arv** – koondatud kande ja müügitellimuse ridade koguarv.</span><span class="sxs-lookup"><span data-stu-id="a45b9-238">**Number of aggregated lines** – The total number of lines for the aggregated transaction and sales order.</span></span>
- <span data-ttu-id="a45b9-239">**Olek** – koondatud kande viimane olek.</span><span class="sxs-lookup"><span data-stu-id="a45b9-239">**Status** – The last status of the aggregated transaction.</span></span>
- <span data-ttu-id="a45b9-240">**Arve ID** – kui koondatud kande müügitellimuse kohta koostatakse arve, on see müügiarve ID.</span><span class="sxs-lookup"><span data-stu-id="a45b9-240">**Invoice ID** – When the sales order for the aggregated transaction is invoiced, the sales invoice ID.</span></span> <span data-ttu-id="a45b9-241">Kui see väli on tühi, ei ole müügitellimuse kohta arvet veel sisestatud.</span><span class="sxs-lookup"><span data-stu-id="a45b9-241">If this field is blank, the invoice for the sales order hasn't been posted.</span></span>

<span data-ttu-id="a45b9-242">Koondatud kande vahekaardil **Kande üksikasjad** kuvatakse kõik jaemüügikanded, mis on koondatud kandesse tõmmatud.</span><span class="sxs-lookup"><span data-stu-id="a45b9-242">The **Transaction details** tab of an aggregated transaction shows all the retail transactions that have been pulled into the aggregated transaction.</span></span> <span data-ttu-id="a45b9-243">Koondatud kande koondread kuvavad jaemüügikande koondatud kirjed.</span><span class="sxs-lookup"><span data-stu-id="a45b9-243">The aggregated lines on the aggregated transaction show all the aggregated records from the retail transactions.</span></span> <span data-ttu-id="a45b9-244">Koondread kuvavad ka üksikasjad, näiteks kauba, variandi, koguse, hinna, netosumma, ühiku ja lao.</span><span class="sxs-lookup"><span data-stu-id="a45b9-244">The aggregated lines also show details such as the item, variant, quantity, price, net amount, unit, and warehouse.</span></span> <span data-ttu-id="a45b9-245">Põhimõtteliselt vastab iga koondrida ühele müügitellimuse reale.</span><span class="sxs-lookup"><span data-stu-id="a45b9-245">Basically, each aggregated line corresponds to one sales order line.</span></span>

<span data-ttu-id="a45b9-246">Lehelt **Koondatud kanded** saate alla laadida konkreetse koondatud kande XML-i, kasutades nuppu **Müügitellimuste eksportimise XML**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-246">From the **Aggregated transactions** page, you can download the XML for a specific aggregated transaction by using the **Export sales order XML** button.</span></span> <span data-ttu-id="a45b9-247">XML-i saate kasutada müügitellimuse loomise ja sisestamisega seotud probleemide silumiseks.</span><span class="sxs-lookup"><span data-stu-id="a45b9-247">You can use the XML to debug issues that involve sales order creation and posting.</span></span> <span data-ttu-id="a45b9-248">Laadige lihtsalt XML all, laadige see katsekeskkonda ja siluge probleemi katsekeskkonnas.</span><span class="sxs-lookup"><span data-stu-id="a45b9-248">Just download the XML, upload it to a test environment, and debug the issue in the test environment.</span></span> <span data-ttu-id="a45b9-249">Koondatud kannete XML-i allalaadimise funktsioon ei ole saadaval sisestatud väljavõtete jaoks.</span><span class="sxs-lookup"><span data-stu-id="a45b9-249">The functionality for downloading the XML for aggregated transactions isn't available for statements that have been posted.</span></span>

<span data-ttu-id="a45b9-250">Koondatud kande vaatel on järgmised eelised.</span><span class="sxs-lookup"><span data-stu-id="a45b9-250">The aggregated transaction view provides the following benefits:</span></span>

- <span data-ttu-id="a45b9-251">Kasutajal on ülevaade koondatud kannetest, mis nurjusid müügitellimuse loomise ajal, ja müügitellimustest, mis nurjusid arve koostamise ajal.</span><span class="sxs-lookup"><span data-stu-id="a45b9-251">The user has visibility into the aggregated transactions that failed during sales order creation and the sales orders that failed during invoicing.</span></span>
- <span data-ttu-id="a45b9-252">Kasutaja näeb, kuidas kandeid koondatakse.</span><span class="sxs-lookup"><span data-stu-id="a45b9-252">The user has visibility into how transactions are aggregated.</span></span>
- <span data-ttu-id="a45b9-253">Kasutajal on täielik kontrolljälg jaemüügikannetest müügitellimuste ja müügiarveteni.</span><span class="sxs-lookup"><span data-stu-id="a45b9-253">The user has a complete audit trail, from retail transactions, to sales orders, to sales invoices.</span></span> <span data-ttu-id="a45b9-254">See kontrolljälg ei olnud saadaval väljavõtte sisestamise pärandfunktsioonis.</span><span class="sxs-lookup"><span data-stu-id="a45b9-254">This audit trail wasn't available in the legacy statement posting feature.</span></span>
- <span data-ttu-id="a45b9-255">Koondatud XML-fail muudab lihtsamaks probleemide tuvastamise müügitellimuse loomise ja arve koostamise ajal.</span><span class="sxs-lookup"><span data-stu-id="a45b9-255">Aggregated XML file make it easier to identify issues during sales order creation and invoicing.</span></span>

### <a name="journal-vouchers"></a><span data-ttu-id="a45b9-256">Töölehe kanded</span><span class="sxs-lookup"><span data-stu-id="a45b9-256">Journal vouchers</span></span>

<span data-ttu-id="a45b9-257">Nupp **Töölehe kanded** väljavõtte grupis **Käivitamise üksikasjad** kuvab kõik erinevad kanded, mis on loodud väljavõtte kohta ja mis on seotud allhindluste, tulu-/kulukontode, kinkekaartide jms.</span><span class="sxs-lookup"><span data-stu-id="a45b9-257">The **Journal vouchers** button in the **Execution details** group of the statement shows all the various voucher transactions that are created for a statement, and that are related to discounts, income/expense accounts, gift cards, and so on.</span></span>

<span data-ttu-id="a45b9-258">Praegu kuvab programm neid andmeid ainult sisestatud väljavõtete kohta.</span><span class="sxs-lookup"><span data-stu-id="a45b9-258">Currently, the program shows this data only for posted statements.</span></span>

### <a name="payment-journals"></a><span data-ttu-id="a45b9-259">Maksete töölehed</span><span class="sxs-lookup"><span data-stu-id="a45b9-259">Payment journals</span></span>

<span data-ttu-id="a45b9-260">Nupp **Maksete töölehed** väljavõtte grupis **Käivitamise üksikasjad** kuvab kõik väljavõtte kohta loodud erinevad maksete töölehed.</span><span class="sxs-lookup"><span data-stu-id="a45b9-260">The **Payment journals** button in the **Execution details** group of the statement shows all the various payment journals that are created for a statement.</span></span>

<span data-ttu-id="a45b9-261">Praegu kuvab programm neid andmeid ainult sisestatud väljavõtete kohta.</span><span class="sxs-lookup"><span data-stu-id="a45b9-261">Currently, the program shows this data only for posted statements.</span></span>

## <a name="other-improvements"></a><span data-ttu-id="a45b9-262">Muud täiustused</span><span class="sxs-lookup"><span data-stu-id="a45b9-262">Other improvements</span></span>

<span data-ttu-id="a45b9-263">Väljavõtte sisestamise funktsioonis on tehtud muid põhitäiustusi, mida kasutajad näevad.</span><span class="sxs-lookup"><span data-stu-id="a45b9-263">Other, back-end improvements that users can see have been made to the statement posting feature.</span></span> <span data-ttu-id="a45b9-264">Järgmisena on toodud mõned näited.</span><span class="sxs-lookup"><span data-stu-id="a45b9-264">Here are some examples:</span></span>

- <span data-ttu-id="a45b9-265">Kogum ei võta arvesse personali, terminali ja vahetuse üksusi.</span><span class="sxs-lookup"><span data-stu-id="a45b9-265">The aggregation doesn't consider the staff, terminal, and shift entities.</span></span> <span data-ttu-id="a45b9-266">Kuna koondparameetreid on vähe, tuleb töödelda vähem müügitellimusi.</span><span class="sxs-lookup"><span data-stu-id="a45b9-266">Because there are fewer aggregation parameters, fewer sales order lines must be processed.</span></span>
- <span data-ttu-id="a45b9-267">Tupikute tekkimist jaemüügikande tabelites on vähendatud, lisades täiendavad laiendustabelid ja tehes jäemüügikande tabelites värskendamise asemel sisestamise toiminguid.</span><span class="sxs-lookup"><span data-stu-id="a45b9-267">The occurrence of deadlock on retail transaction tables is reduced by introducing additional extension tables and by doing insert operations instead of update operations on the retail transaction tables.</span></span>
- <span data-ttu-id="a45b9-268">Käivitatud pakett-tööde arvu on parametriseeritud ja piiratud.</span><span class="sxs-lookup"><span data-stu-id="a45b9-268">The number of running batch tasks has been parameterized and limited.</span></span> <span data-ttu-id="a45b9-269">Seega saab seda arvu peenhäälestada täpselt kliendi keskkonna järgi.</span><span class="sxs-lookup"><span data-stu-id="a45b9-269">Therefore, this number can be fine-tuned specifically to a customer's environment.</span></span> <span data-ttu-id="a45b9-270">Väljavõtte sisestamise pärandfunktsioonis loodi korraga piiramatu arv pakett-töid.</span><span class="sxs-lookup"><span data-stu-id="a45b9-270">In the legacy statement posting feature, an unlimited number of batch tasks was created at the same time.</span></span> <span data-ttu-id="a45b9-271">Tulemuseks olid pakktöötlusserveri haldamatud koormused, ülekoormus ja ummikud.</span><span class="sxs-lookup"><span data-stu-id="a45b9-271">The results were unmanageable loads, overhead, and bottlenecks on the batch server.</span></span>
- <span data-ttu-id="a45b9-272">Väljavõtted on töötlemiseks tõhusalt järjekorda seatud, seades kõige tähtsamaks need väljavõtted, millel on maksimaalne arv kandeid.</span><span class="sxs-lookup"><span data-stu-id="a45b9-272">Statements are efficiently queued for processing by prioritizing the statements that have the maximum number of transactions.</span></span>
- <span data-ttu-id="a45b9-273">Pakktöötlus, näiteks **Väljavõtete arvutamine partiina** ja **Väljavõtete sisestamine partiina** käivitatakse ainult pakktöötlusrežiimis.</span><span class="sxs-lookup"><span data-stu-id="a45b9-273">Batch processes such as **Calculate statements in batch** and **Post statements in batch** are run only in batch mode.</span></span> <span data-ttu-id="a45b9-274">Väljavõtte sisestamise pärandfunktsioonis said kasutajad valida pakktöötlusi interaktiivses režiimis, mis on ühe lõimega toiming, mis erineb mitme lõimega pakktöötlusest.</span><span class="sxs-lookup"><span data-stu-id="a45b9-274">In the legacy statement posting feature, users could choose to run these batch processes in an interactive mode which is s single threaded operation unlike batch processes which are multi-threaded.</span></span>
- <span data-ttu-id="a45b9-275">Väljavõtte sisestamise pärandfunktsioonis tekitas pakktöötluse toimingu mis tahes rike tõrkeseisundi terves pakett-töös.</span><span class="sxs-lookup"><span data-stu-id="a45b9-275">In the legacy statement posting feature, any failure of a batch task put the whole batch job in an error state.</span></span> <span data-ttu-id="a45b9-276">Täiustatud funktsioonis ei tekita pakktöötluse toimingu rike pakett-töö tõrget, kui teiste pakktöötluse toimingute lõpetamine õnnestub.</span><span class="sxs-lookup"><span data-stu-id="a45b9-276">In the improved feature, batch task failures don't put the batch job in an error state if other batch tasks are successfully completed.</span></span> <span data-ttu-id="a45b9-277">Peaksite hindama pakktöötluse täitmise sisestamise olekut, kasutades lehte **Jaemüügi väljavõtted**, kus näete väljavõtteid, mida tõrgete tõttu ei sisestatud.</span><span class="sxs-lookup"><span data-stu-id="a45b9-277">You should assess the posting status for a batch execution run by using the **Retail statements** page, where you can see any statements that weren't posted because of errors.</span></span>
- <span data-ttu-id="a45b9-278">Väljavõtte sisestamise pärandfunktsioonis põhjustab väljavõtte rikke esmane tekkimine rikke terves partiis.</span><span class="sxs-lookup"><span data-stu-id="a45b9-278">In the legacy statement posting feature, the first occurrence of a statement failure causes the whole batch to fail.</span></span> <span data-ttu-id="a45b9-279">Ülejäänud väljavõtteid ei töödelda.</span><span class="sxs-lookup"><span data-stu-id="a45b9-279">The remaining statements aren't processed.</span></span> <span data-ttu-id="a45b9-280">Täiustatud funktsioonis jätkab pakktöötlus kõikide väljavõtete töötlemist, isegi kui mõnes väljavõttes on tekkinud rike.</span><span class="sxs-lookup"><span data-stu-id="a45b9-280">In the improved feature, the batch process continues to process all statements, even if some of the statements fail.</span></span> <span data-ttu-id="a45b9-281">Üks eeliseid on see, et kasutajad näevad täpset arvu, mitmes väljavõttes on tekkinud tõrge.</span><span class="sxs-lookup"><span data-stu-id="a45b9-281">One benefit is that users gain visibility into the exact number of statements that have errors.</span></span> <span data-ttu-id="a45b9-282">Seega ei pea kasutajad jääma kinni tõrgete parandamise ja väljavõtete sisestamise protsessi lõpmatusse tsüklisse, kuni kõik väljavõtted on sisestatud.</span><span class="sxs-lookup"><span data-stu-id="a45b9-282">Therefore, users don't have to be stuck in a continuous loop of fixing the errors and running the post statement process till all statements are posted.</span></span>

## <a name="general-guidance-about-the-statement-posting-process"></a><span data-ttu-id="a45b9-283">Väljavõtte sisestamise protsessi üldised juhised</span><span class="sxs-lookup"><span data-stu-id="a45b9-283">General guidance about the statement posting process</span></span>

- <span data-ttu-id="a45b9-284">Soovitame väljavõtte sisestamise protsessi käivitada partiina, kuna pakktöötlused kasutavad hargtöötluseks ära partii raamistiku võimsust.</span><span class="sxs-lookup"><span data-stu-id="a45b9-284">We recommend that you run the statement posting process in a batch, because batch runs take advantage of the power of the batch framework in terms of multithreading.</span></span> <span data-ttu-id="a45b9-285">Hargtöötlust on vaja suure hulga kannete käsitsemiseks, mida enamasti nähakse väljavõtete sisestamisel.</span><span class="sxs-lookup"><span data-stu-id="a45b9-285">Multithreading is required in order to handle the huge volumes of transactions that are normally seen in statement postings.</span></span>
- <span data-ttu-id="a45b9-286">Soovitame kauba mudeligrupile sisse lülitada negatiivse füüsilise laovaru, et sisestamine oleks sujuv.</span><span class="sxs-lookup"><span data-stu-id="a45b9-286">We recommend that you turn on negative physical inventory on the item model group, so that you have a seamless posting experience.</span></span> <span data-ttu-id="a45b9-287">Mõnel juhul ei pruugi negatiivsete väljavõtete sisestamine olla võimalik, kui negatiivne füüsiline laovaru puudub.</span><span class="sxs-lookup"><span data-stu-id="a45b9-287">In some scenarios, negative statements might not be able to be posted unless there is negative physical inventory.</span></span> <span data-ttu-id="a45b9-288">Näiteks kui laovarus on vaid üks kauba ühik ning kaubale on tehtud müügikanne ja tagastuskanne, peaks kande sisestamine olema võimalik isegi siis, kui negatiivne laovaru pole sisse lülitatud.</span><span class="sxs-lookup"><span data-stu-id="a45b9-288">For example, in theory, if there is only one unit of an item in inventory, and there have been a sales transaction and a return transaction for the item, the transaction should be able to be posted even if negative inventory isn't turned on.</span></span> <span data-ttu-id="a45b9-289">Kuid kuna väljavõtte sisestamise protsess tõmbab ühte klienditellimusse nii müügikande kui ka tagastuskande, siis puudub garantii, et müügirida sisestatakse esimesena ja seejärel tagastusrida.</span><span class="sxs-lookup"><span data-stu-id="a45b9-289">However, because the statement posting process pulls both the sales transaction and the return transaction in a single customer order, there is no guarantee that the sales line will be posted first, followed by the return line.</span></span> <span data-ttu-id="a45b9-290">Seega võivad tekkida tõrked.</span><span class="sxs-lookup"><span data-stu-id="a45b9-290">Therefore, errors can occur.</span></span> <span data-ttu-id="a45b9-291">Kui sellises stsenaariumis on negatiivne laovaru sisse lülitatud, ei ole kande sisestamisel negatiivset mõju ja süsteem kajastab laovaru õigesti.</span><span class="sxs-lookup"><span data-stu-id="a45b9-291">If negative inventory is turned on in this scenario, the transaction posting isn't negatively affected, and the system will correctly reflect the inventory.</span></span>
- <span data-ttu-id="a45b9-292">Soovitame väljavõtete arvutamisel ja sisestamisel kasutada kogumit.</span><span class="sxs-lookup"><span data-stu-id="a45b9-292">We recommend that you use aggregation while you calculate and post statements.</span></span> <span data-ttu-id="a45b9-293">Seega on mõne koondparameetri jaoks soovitatavad järgmised sätted.</span><span class="sxs-lookup"><span data-stu-id="a45b9-293">Therefore, the following settings are recommended for some of the aggregation parameters:</span></span>

    - <span data-ttu-id="a45b9-294">Valige **Jaemüük** \> **Peakontori seadistamine** \> **Parameetrid** \> **Jaemüügi parameetrid**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-294">Go to **Retail** \> **Headquarters setup** \> **Parameters** \> **Retail parameters**.</span></span> <span data-ttu-id="a45b9-295">Seejärel valige vahekaardi **Sisestamine** kiirkaardi **Laovaru uuendamine** väljast **Üksikasjatase** suvand **Kokkuvõte**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-295">Then, on the **Posting** tab, on the **Inventory update** FastTab, in the **Detail level** field, select **Summary**.</span></span>
    - <span data-ttu-id="a45b9-296">Valige **Jaemüük** \> **Peakontori seadistamine** \> **Parameetrid** \> **Jaemüügi parameetrid**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-296">Go to **Retail** \> **Headquarters setup** \> **Parameters** \> **Retail parameters**.</span></span> <span data-ttu-id="a45b9-297">Seejärel määrake vahekaardi **Sisestamine** kiirkaardil **Kogum** suvandi **Pearaamatu kanded** väärtuseks **Jah**.</span><span class="sxs-lookup"><span data-stu-id="a45b9-297">Then, on the **Posting** tab, on the **Aggregation** FastTab, set the **Voucher transactions** option to **Yes**.</span></span>
