---
title: Kaupluste kliendihaldus
description: See teema kirjeldab, kuidas jaemüüjad saavad müügikohas (POS) lubada Microsoft Dynamics 365 Commerce kliendihaldust.
author: josaw1
ms.date: 03/05/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: RetailOperations
audience: Application User, IT Pro
ms.reviewer: v-chgri
ms.search.region: Global
ms.search.industry: retail
ms.author: shajain
ms.search.validFrom: 2021-01-31
ms.dyn365.ops.version: 10.0.14
ms.openlocfilehash: e43f8f5b91f729dc93eccb9e9e4ee21b5a5d1596
ms.sourcegitcommit: 08ce2a9ca1f02064beabfb9b228717d39882164b
ms.translationtype: HT
ms.contentlocale: et-EE
ms.lasthandoff: 05/11/2021
ms.locfileid: "6019983"
---
# <a name="customer-management-in-stores"></a><span data-ttu-id="17daa-103">Kaupluste kliendihaldus</span><span class="sxs-lookup"><span data-stu-id="17daa-103">Customer management in stores</span></span>

[!include [banner](includes/banner.md)]

<span data-ttu-id="17daa-104">See teema kirjeldab, kuidas jaemüüjad saavad müügikohas (POS) lubada Microsoft Dynamics 365 Commerce kliendihaldust.</span><span class="sxs-lookup"><span data-stu-id="17daa-104">This topic explains how retailers can enable customer management capabilities at the point of sale (POS) in Microsoft Dynamics 365 Commerce.</span></span>

<span data-ttu-id="17daa-105">On oluline, et kaupluse partnerid saavad müügikohas kliendi kirjeid luua ja redigeerida.</span><span class="sxs-lookup"><span data-stu-id="17daa-105">It's important that store associates can create and edit customer records at the POS.</span></span> <span data-ttu-id="17daa-106">Sel viisil saavad nad koguda mis tahes uuendusi klienditeabesse, nt meiliaadressi, telefoninumbrit ja aadressi.</span><span class="sxs-lookup"><span data-stu-id="17daa-106">In that way, they can capture any updates to customer information such as the email address, phone number, and address.</span></span> <span data-ttu-id="17daa-107">See teave on kasulik sellistes allavoolu süsteemides nagu turundus, kuna nende süsteemide efektiivsus sõltub nende kliendiandmete täpsusest.</span><span class="sxs-lookup"><span data-stu-id="17daa-107">This information is helpful in downstream systems such as marketing, because the effectiveness of those systems depends on the accuracy of their customer data.</span></span>

<span data-ttu-id="17daa-108">Müügiseosed võivad käivitada kliendi loomise töövoo kahest kassa sisestuspunktist.</span><span class="sxs-lookup"><span data-stu-id="17daa-108">Sales associates can trigger the customer creation workflow from two POS entry points.</span></span> <span data-ttu-id="17daa-109">Nad saavad valida nupu, mis on vastendatudotsingutulemuste lehel **kliendi lisamine** toiminguga, või nad saavad valida **Loo klient** rakendusribal otsingutulemeste lehel.</span><span class="sxs-lookup"><span data-stu-id="17daa-109">They can select a button that is mapped to the **Customer add** operation, or they can select **Create customer** on the app bar on the search results page.</span></span> <span data-ttu-id="17daa-110">Mõlemal juhul kuvatakse dialoogiboks **Uus klient** kus müügiesindajad saavad sisestada nõutavaid kliendi üksikasju, nt kliendi nime, meiliaadressi, telefoninumbri, aadressi ja mis tahes muud ettevõttele asjakohast teavet.</span><span class="sxs-lookup"><span data-stu-id="17daa-110">In both cases, the **New customer** dialog box appears, where sales associates can enter required customer details, such as the customer's name, email address, phone number, address, and any additional information that is relevant to the business.</span></span> <span data-ttu-id="17daa-111">Selle lisateabe saab koguda kliendi atribuutide abil, mis on kliendiga seostatud.</span><span class="sxs-lookup"><span data-stu-id="17daa-111">That additional information can be captured by using the customer attributes that are associated with the customer.</span></span> <span data-ttu-id="17daa-112">Lisateavet kliendi atribuutide kohta vt kliendi [Kliendi atribuutidest](dev-itpro/customer-attributes.md).</span><span class="sxs-lookup"><span data-stu-id="17daa-112">For more information about customer attributes, see [Customer attributes](dev-itpro/customer-attributes.md).</span></span>

<span data-ttu-id="17daa-113">Müügiesindajad saavad hõivata ka teiseseid meiliaadresse ja telefoninumbreid.</span><span class="sxs-lookup"><span data-stu-id="17daa-113">Sales associates can also capture secondary email addresses and phone numbers.</span></span> <span data-ttu-id="17daa-114">Lisaks võivad nad hõivata kliendi eelistuse turundusteabe saamise kohta nende teiseste meiliaadresside või telefoninumbrite kaudu.</span><span class="sxs-lookup"><span data-stu-id="17daa-114">Additionally, they can capture the customer's preference about receiving marketing information via any of those secondary email addresses or phone numbers.</span></span> <span data-ttu-id="17daa-115">Selle võimaluse lubamiseks peab jaemüüja lülitama sisse valiku **Salvesta mitu e-kirja ja telefoninumbrit** funktsiooni **funktsioonihalduse** Commerce headquarters\`i tööruumis (**Süsteemide haldus \> tööruumides \> Funktsioonihaldus**).</span><span class="sxs-lookup"><span data-stu-id="17daa-115">To enable this capability, retailers must turn on the **Capture multiple emails and phone numbers and consent for marketing on these contacts** feature in the **Feature management** workspace in Commerce headquarters (**Systems administration \> Workspaces \> Feature management**).</span></span>

## <a name="default-customer-properties"></a><span data-ttu-id="17daa-116">Kliendi vaikimisi omadused</span><span class="sxs-lookup"><span data-stu-id="17daa-116">Default customer properties</span></span>

<span data-ttu-id="17daa-117">Jaemüüjad saavad kasutada **Kõik kauplused** rakenduse Commerce headquarters lehekülge (**Jaemüügi- ja Ärikanalite \> Kanalid \>Kauplused**), et seostada vaikekliendi iga kauplusega.</span><span class="sxs-lookup"><span data-stu-id="17daa-117">Retailers can use the **All stores** page in Commerce headquarters (**Retail and Commerce \> Channels \> Stores**) to associate a default customer with each store.</span></span> <span data-ttu-id="17daa-118">Seejärel kopeerib Commerce vaikekliendi jaoks määratletud atribuudid kõigisse loodud kliendikirjetesse.</span><span class="sxs-lookup"><span data-stu-id="17daa-118">Commerce then copies the properties that are defined for the default customer to all new customer records that are created.</span></span> <span data-ttu-id="17daa-119">Näiteks kuvatakse **Loo klient** dialoogiboksis atribuudid, mis on päritud kauplusega seotud vaikekliendilt.</span><span class="sxs-lookup"><span data-stu-id="17daa-119">For example, the **Create customer** dialog box shows properties that are inherited from the default customer that is associated with the store.</span></span> <span data-ttu-id="17daa-120">Need atribuudid on kliendi tüüp, kliendigrupp, tarne-eelistus, valuuta ja keel.</span><span class="sxs-lookup"><span data-stu-id="17daa-120">Those properties include the customer type, customer group, receipt preference, currency, and language.</span></span> <span data-ttu-id="17daa-121">Kõik kliendigrupid (klientide grupeerimised) päritakse ka vaikekliendilt.</span><span class="sxs-lookup"><span data-stu-id="17daa-121">Any affiliations (groupings of customers) are also inherited from the default customer.</span></span> <span data-ttu-id="17daa-122">Finantsdimensioonid aga tuletatakse vaikekliendiga seotud kliendigrupist, mitte vaikekliendist endast.</span><span class="sxs-lookup"><span data-stu-id="17daa-122">However, financial dimensions are inherited from the customer group that is associated with the default customer, not from the default customer itself.</span></span>

<span data-ttu-id="17daa-123">Müügiesindajad saavad hõivata kliendi kohta mitu aadressi.</span><span class="sxs-lookup"><span data-stu-id="17daa-123">Sales associates can capture multiple addresses for a customer.</span></span> <span data-ttu-id="17daa-124">Kliendi nimi ja telefoninumber on päritud iga aadressiga seotud kontaktteabest.</span><span class="sxs-lookup"><span data-stu-id="17daa-124">The customer's name and phone number are inherited from the contact information that is associated with each address.</span></span> <span data-ttu-id="17daa-125">Kliendikirje **Aadressid** kiirkaart sisaldab **Eesmärk** välja, mida müügiesindajad saavad redigeerida.</span><span class="sxs-lookup"><span data-stu-id="17daa-125">The **Addresses** FastTab of a customer record includes a **Purpose** field that sales associates can edit.</span></span> <span data-ttu-id="17daa-126">Kui kliendi tüüp on **Isik**, on vaikeväärtus **Avaleht**.</span><span class="sxs-lookup"><span data-stu-id="17daa-126">If the customer type is **Person**, the default value is **Home**.</span></span> <span data-ttu-id="17daa-127">Kui kliendi tüüp on **Organisatsioon**, on vaikeväärtus **Äri**.</span><span class="sxs-lookup"><span data-stu-id="17daa-127">If the customer type is **Organization**, the default value is **Business**.</span></span> <span data-ttu-id="17daa-128">Muud väärtused, mida see väli toetab, sisaldavad **Avaleht** **Äri** ja **Postkast**.</span><span class="sxs-lookup"><span data-stu-id="17daa-128">Other values that this field supports include **Home**, **Office**, and **Post box**.</span></span> <span data-ttu-id="17daa-129">Välja **Riik** väärtus pärineb esmasest aadressist, mis on määratud **Juhtseade** Commerce headquarters\`i äriüksuse lehel **Organisatsiioni haldus \> Organisatsioonid \> Juhtseade**.</span><span class="sxs-lookup"><span data-stu-id="17daa-129">The value of the **Country** field for an address is inherited from the primary address that is specified on the **Operating unit** page in Commerce headquarters at **Organization administration \> Organizations \> Operating units**.</span></span>

## <a name="sync-customers-and-async-customers"></a><span data-ttu-id="17daa-130">Klientide ja asünkroonsete klientide sünkroonimine</span><span class="sxs-lookup"><span data-stu-id="17daa-130">Sync customers and Async customers</span></span>

<span data-ttu-id="17daa-131">Äris on kliendi loomiseks kaks režiimi: sünkroonne (või Sync) ja asünkroonne (või Async).</span><span class="sxs-lookup"><span data-stu-id="17daa-131">In Commerce, there are two modes of customer creation: Synchronous (or Sync) and Asynchronous (or Async).</span></span> <span data-ttu-id="17daa-132">Vaikimisi luuakse kliendid sünkroonselt.</span><span class="sxs-lookup"><span data-stu-id="17daa-132">By default, customers are created synchronously.</span></span> <span data-ttu-id="17daa-133">See tähendab, et need luuakse Commerce Headquarters\`is reaalajas.</span><span class="sxs-lookup"><span data-stu-id="17daa-133">In other words, they are created in Commerce headquarters in real time.</span></span> <span data-ttu-id="17daa-134">Kliendi loomise režiim Sync on kohe tellitav, kuna uued kliendid on kanalites kohe otsitavad.</span><span class="sxs-lookup"><span data-stu-id="17daa-134">The Sync customer creation mode is beneficial because new customers are immediately searchable across channels.</span></span> <span data-ttu-id="17daa-135">Ent sellel on ka puudusi.</span><span class="sxs-lookup"><span data-stu-id="17daa-135">However, it also has a drawback.</span></span> <span data-ttu-id="17daa-136">Kuna see loob [Commerce Data Exchange: Real-time Service'i](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) kutsed Commerce Headquarters\`isse, võib see mõjutada jõudlust, kui tehakse mitu samaaegset kliendi loomise kutset.</span><span class="sxs-lookup"><span data-stu-id="17daa-136">Because it generates [Commerce Data Exchange: Real-time Service](dev-itpro/define-retail-channel-communications-cdx.md#realtime-service) calls to Commerce headquarters, performance can be affected if many concurrent customer creation calls are made.</span></span>

<span data-ttu-id="17daa-137">Kui **Loo klient asünkroonses režiimis** suvand on häälestatud **jah** funktsiooniprofiilis (**jaemüügi ja ärikanali \> kanali häälestus \> võrgupoe häälestuse \> funktsiooniprofiilid**), reaalajas teenuse kõnesid ei kasutata kliendikirjete loomiseks kanali andmebaasis.</span><span class="sxs-lookup"><span data-stu-id="17daa-137">If the **Create customer in async mode** option is set to **Yes** in the store's functionality profile (**Retail and Commerce \> Channel setup \> Online store setup \> Functionality profiles**), Real-time Service calls aren't used to create customer records in the channel database.</span></span> <span data-ttu-id="17daa-138">Asünkroonnis kliendi loomise režiim ei mõjuta Commerce Headquarters\`i jõudlust.</span><span class="sxs-lookup"><span data-stu-id="17daa-138">The Async customer creation mode doesn't affect the performance of Commerce headquarters.</span></span> <span data-ttu-id="17daa-139">Ajutine globaalselt kordumatu identifikaator (GUID) määratakse igale uuele Async Customeri kirjele ja seda kasutatakse kliendi konto ID-na.</span><span class="sxs-lookup"><span data-stu-id="17daa-139">A temporary globally unique identifier (GUID) is assigned to every new Async customer record and used as the customer account ID.</span></span> <span data-ttu-id="17daa-140">Seda GUID-i ei kuvata kassa kasutajatele.</span><span class="sxs-lookup"><span data-stu-id="17daa-140">This GUID isn't shown to POS users.</span></span> <span data-ttu-id="17daa-141">Selle asemel näevad need kasutajad **Ootel sünkroonimist** kliendikonto ID-na.</span><span class="sxs-lookup"><span data-stu-id="17daa-141">Instead, those users will see **Pending sync** as the customer account ID.</span></span> <span data-ttu-id="17daa-142">Kuigi see konfiguratsioon sunnib kliente asünkroonselt tekitama, pidage meeles, et kliendikirjete muudatusi tehakse alati sünkroonselt.</span><span class="sxs-lookup"><span data-stu-id="17daa-142">Although this configuration forces customers to be created asynchronously, note that edits to customer records are always done synchronously.</span></span>

### <a name="convert-async-customers-to-sync-customers"></a><span data-ttu-id="17daa-143">Klientide ja asünkroonsete klientide sünkroonimine</span><span class="sxs-lookup"><span data-stu-id="17daa-143">Convert Async customers to Sync customers</span></span>

<span data-ttu-id="17daa-144">Async Klientide teisendamiseks teenusesse Sync tuleb teil kõigepealt käitada P-töö, et saata Asynci kliendid Commerce Headquarters\`i.</span><span class="sxs-lookup"><span data-stu-id="17daa-144">To convert Async customers to Sync customers, you must first run the P-job to send the Async customers to Commerce headquarters.</span></span> <span data-ttu-id="17daa-145">Seejärel käivitage **Async Mode tööst klientide ja äripartnerite sünkroonimine** kliendi konto ID-de loomiseks.</span><span class="sxs-lookup"><span data-stu-id="17daa-145">Then run the **Synchronize customers and business partners from async mode** job to create customer account IDs.</span></span> <span data-ttu-id="17daa-146">Lõpuks käivitage **1010** töö, et sünkroonida uue kliendi konto ID-d kanalitega.</span><span class="sxs-lookup"><span data-stu-id="17daa-146">Finally, run the **1010** job to sync the new customer account IDs to the channels.</span></span>

### <a name="async-customer-limitations"></a><span data-ttu-id="17daa-147">Asünkroonse kliendi piirangud</span><span class="sxs-lookup"><span data-stu-id="17daa-147">Async customer limitations</span></span>

<span data-ttu-id="17daa-148">Asünkroonse kliendi funktsioonil on praegu järgmised piirangud:</span><span class="sxs-lookup"><span data-stu-id="17daa-148">The Async customer functionality currently has the following limitations:</span></span>

- <span data-ttu-id="17daa-149">Asünkroonse kliendi kirjeid ei saa redigeerida, kui klient ei ole loodud Commerce Headquarters\`is ja uus kliendi konto ID on kanalisse tagasi sünkroonitud.</span><span class="sxs-lookup"><span data-stu-id="17daa-149">Async customer records can't be edited unless the customer has been created in Commerce headquarters and the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="17daa-150">Asünkroonsete klientidega ei saa seostada kuuluvusi.</span><span class="sxs-lookup"><span data-stu-id="17daa-150">Affiliations can't be associated with Async customers.</span></span> <span data-ttu-id="17daa-151">Seetõttu ei päri uued asünkroonsed kliendid vaikekliendilt kuuluvusi.</span><span class="sxs-lookup"><span data-stu-id="17daa-151">Therefore, new Async customers don't inherit affiliations from the default customer.</span></span>
- <span data-ttu-id="17daa-152">Kliendikaarte ei saa asünkroonsetele klientidele väljastada enne, kui uus kliendi konto ID on kanalisse sünkroonitud.</span><span class="sxs-lookup"><span data-stu-id="17daa-152">Loyalty cards can't be issued to Async customers unless the new customer account ID has been synced back to the channel.</span></span>
- <span data-ttu-id="17daa-153">Asünkroonsete klientide teiseseid meiliaadresse ja telefoninumbreid ei saa hõivata.</span><span class="sxs-lookup"><span data-stu-id="17daa-153">Secondary email addresses and phone numbers can't be captured for Async customers.</span></span>

### <a name="customer-creation-in-pos-offline-mode"></a><span data-ttu-id="17daa-154">Kliendi loomine ühenduseta režiimis</span><span class="sxs-lookup"><span data-stu-id="17daa-154">Customer creation in POS offline mode</span></span>

<span data-ttu-id="17daa-155">Kui kassa ei tööta, kui asünkroonse kliendi loomisrežiim on lubatud, luuakse uued kliendikirjed asünkroonselt.</span><span class="sxs-lookup"><span data-stu-id="17daa-155">If the POS goes offline while the Async customer creation mode is enabled, new customer records are created asynchronously.</span></span> <span data-ttu-id="17daa-156">Kui kassa ei tööta, kui asünkroonse kliendi loomisrežiim on keelatud, lülitub süsteem automaatselt Asynci kliendi loomisrežiimile.</span><span class="sxs-lookup"><span data-stu-id="17daa-156">If the POS goes offline while the Async customer creation mode is disabled, the system automatically switches to the Async customer creation mode.</span></span> <span data-ttu-id="17daa-157">Teisisõnnu, kui kassa ei tööta, luuakse uued kliendikirjed asünkroonselt, isegi kui asünkroonse kliendi loomisrežiim on keelatud.</span><span class="sxs-lookup"><span data-stu-id="17daa-157">In other words, customer records might be created asynchronously even if the Async customer creation mode is disabled.</span></span> <span data-ttu-id="17daa-158">Seetõttu peavad Commerce Headquarters`i administraatorid looma ja planeerima P-töö jaoks **Sünkroniseerige kliendid ja äripartnerid asünkroonsest reziimist** töö ja **1010** korduva töö nii, et kõik asünkroonsed kliendid teisendatakse sünkroonimise klientideks Commerce headquarters`is.</span><span class="sxs-lookup"><span data-stu-id="17daa-158">Therefore, Commerce headquarters administrators must create and schedule a recurring batch job for the P-job, the **Synchronize customers and business partners from async mode** job, and the **1010** job, so that any Async customers are converted to Sync customers in Commerce headquarters.</span></span>

> [!NOTE]
> <span data-ttu-id="17daa-159">Kui suvand **Kliendi ühisandmete tabelite filtreerimise** on seatud **jah** väärtusele **Commerce Channeli skeemi** lehel (**Jaemüük ja ärikanal \> Headquarters\`i häälestus \> Jaemüügi häälestus \> Kanali andmebaasigrupp**), ei looda kliendikirjeid kassa võrguühenduseta režiimis.</span><span class="sxs-lookup"><span data-stu-id="17daa-159">If the **Filter shared customer data tables** option is set to **Yes** on the **Commerce channel schema** page (**Retail and Commerce \> Headquarters setup \> Commerce scheduler \> Channel database group**), customer records aren't created in POS offline mode.</span></span> <span data-ttu-id="17daa-160">Lisateavet leiate artiklist [Andmeüksused](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span><span class="sxs-lookup"><span data-stu-id="17daa-160">For more information, see [Offline data exclusion](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="17daa-161">Lisaressursid</span><span class="sxs-lookup"><span data-stu-id="17daa-161">Additional resources</span></span>

[<span data-ttu-id="17daa-162">Kliendi atribuudid</span><span class="sxs-lookup"><span data-stu-id="17daa-162">Customer attributes</span></span>](dev-itpro/customer-attributes.md)

[<span data-ttu-id="17daa-163">Võrguühenduseta andmete välistamine</span><span class="sxs-lookup"><span data-stu-id="17daa-163">Offline data exclusion</span></span>](dev-itpro/implementation-considerations-cdx.md#offline-data-exclusion)
