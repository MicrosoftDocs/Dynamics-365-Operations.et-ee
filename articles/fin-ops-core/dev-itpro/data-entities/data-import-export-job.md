---
title: Andmeimpordi ja -ekspordi tööde ülevaade
description: Kasutage andmeimpordi ja -ekspordi tööde jaoks andmehalduse tööruumi.
author: Sunil-Garg
ms.date: 04/22/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
audience: Application user
ms.reviewer: sericks
ms.search.region: Global
ms.author: sunilg
ms.search.validFrom: 2016-02-28
ms.dyn365.ops.version: AX 7.0.0
ms.openlocfilehash: c660cf5aba786fb6f84776f6443f658ebbfa25d5
ms.sourcegitcommit: 593438a145672c55ff6a910eabce2939300b40ad
ms.translationtype: HT
ms.contentlocale: et-EE
ms.lasthandoff: 04/23/2021
ms.locfileid: "5937326"
---
# <a name="data-import-and-export-jobs-overview"></a><span data-ttu-id="6311b-103">Andmete importimis- ja eksportimistööde ülevaade</span><span class="sxs-lookup"><span data-stu-id="6311b-103">Data import and export jobs overview</span></span>

[!include [banner](../includes/banner.md)]

<span data-ttu-id="6311b-104">Andmete impordi- ja eksporditööde loomiseks ning haldamiseks kasutage tööruumi **Andmehaldus**.</span><span class="sxs-lookup"><span data-stu-id="6311b-104">To create and manage data import and export jobs, you use the **Data management** workspace.</span></span> <span data-ttu-id="6311b-105">Vaikimisi loob andmeimpordi ja -ekspordi protsess igale sihtandmebaasi üksusele koondamistabeli.</span><span class="sxs-lookup"><span data-stu-id="6311b-105">By default, the data import and export process creates a staging table for each entity in the target database.</span></span> <span data-ttu-id="6311b-106">Koondamistabelid võimaldavad andmeid enne teisaldamist kontrollida, puhastada või teisendada.</span><span class="sxs-lookup"><span data-stu-id="6311b-106">Staging tables let you verify, clean up, or convert data before you move it.</span></span>

> [!NOTE]
> <span data-ttu-id="6311b-107">Siin teemas eeldatakse, et olete [andmeüksustega](data-entities.md) tuttav.</span><span class="sxs-lookup"><span data-stu-id="6311b-107">This topic assumes that you are familiar with [data entities](data-entities.md).</span></span>

## <a name="data-importexport-process"></a><span data-ttu-id="6311b-108">Andmete importimis-/eksportimisprotsess</span><span class="sxs-lookup"><span data-stu-id="6311b-108">Data import/export process</span></span>
<span data-ttu-id="6311b-109">Siin on toimingud andmete importimiseks või eksportimiseks.</span><span class="sxs-lookup"><span data-stu-id="6311b-109">Here are the steps to import or export data.</span></span>

1. <span data-ttu-id="6311b-110">Looge impordi- või eksporditöö, kus tuleb teha järgmised toimingud.</span><span class="sxs-lookup"><span data-stu-id="6311b-110">Create an import or export job where you complete the following tasks:</span></span>

    - <span data-ttu-id="6311b-111">Määratlege projekti kategooria.</span><span class="sxs-lookup"><span data-stu-id="6311b-111">Define the project category.</span></span>
    - <span data-ttu-id="6311b-112">Näidake ära imporditavad või eksporditavad üksused.</span><span class="sxs-lookup"><span data-stu-id="6311b-112">Identify the entities to import or export.</span></span>
    - <span data-ttu-id="6311b-113">Määrake töö andmevorming.</span><span class="sxs-lookup"><span data-stu-id="6311b-113">Set the data format for the job.</span></span>
    - <span data-ttu-id="6311b-114">Järjestage üksused nii, et neid töödeldaks loogiliste rühmadena ja mõistlikus järjekorras.</span><span class="sxs-lookup"><span data-stu-id="6311b-114">Sequence the entities, so that they are processed in logical groups and in an order that makes sense.</span></span>
    - <span data-ttu-id="6311b-115">Määrale, kas kasutada koondamistabeleid.</span><span class="sxs-lookup"><span data-stu-id="6311b-115">Determine whether to use staging tables.</span></span>

2. <span data-ttu-id="6311b-116">Kontrollige, kas lähte- ja sihtandmed on õigesti vastendatud.</span><span class="sxs-lookup"><span data-stu-id="6311b-116">Validate that the source data and target data are mapped correctly.</span></span>
3. <span data-ttu-id="6311b-117">Kontrollige impordi- või eksporditöö turvalisust.</span><span class="sxs-lookup"><span data-stu-id="6311b-117">Verify the security for your import or export job.</span></span>
4. <span data-ttu-id="6311b-118">Käivitage impordi- või eksporditöö.</span><span class="sxs-lookup"><span data-stu-id="6311b-118">Run the import or export job.</span></span>
5. <span data-ttu-id="6311b-119">Kontrollige, et töö toimus õigesti, vaadates üle töö ajaloo.</span><span class="sxs-lookup"><span data-stu-id="6311b-119">Validate that the job ran as expected by reviewing the job history.</span></span>
6. <span data-ttu-id="6311b-120">Puhastage koondamistabelid.</span><span class="sxs-lookup"><span data-stu-id="6311b-120">Clean up the staging tables.</span></span>

<span data-ttu-id="6311b-121">Selle teema ülejäänud osades on lisateave iga protsessi etapi kohta.</span><span class="sxs-lookup"><span data-stu-id="6311b-121">The remaining sections of this topic provide more details about each step of the process.</span></span>

> [!NOTE]
> <span data-ttu-id="6311b-122">Andmete importimise/eksportimise vormi värskendamiseks ja uusima edenemise kuvamiseks kasutage vormi värskendamise ikooni.</span><span class="sxs-lookup"><span data-stu-id="6311b-122">In order to refresh the Data import/export form to see the latest progress, use the form refresh icon.</span></span> <span data-ttu-id="6311b-123">Brauseritasemel värskendamine pole soovitatav, kuna see katkestab kõik impordi- või eksporditööd, mida ei käitata partiidena.</span><span class="sxs-lookup"><span data-stu-id="6311b-123">Browser level refresh is not recommended because it will interrupt any import/export jobs that are not run in batch.</span></span>

## <a name="create-an-import-or-export-job"></a><span data-ttu-id="6311b-124">Impordi- või eksporditöö loomine</span><span class="sxs-lookup"><span data-stu-id="6311b-124">Create an import or export job</span></span>
<span data-ttu-id="6311b-125">Andmete impordi- või eksporditöö saab käitada ühe korra või palju kordi.</span><span class="sxs-lookup"><span data-stu-id="6311b-125">A data import or export job can be run one time or many times.</span></span>

### <a name="define-the-project-category"></a><span data-ttu-id="6311b-126">Projekti kategooria määratlemine</span><span class="sxs-lookup"><span data-stu-id="6311b-126">Define the project category</span></span>
<span data-ttu-id="6311b-127">Soovitame võtta aega, et valida impordi- või eksporditööle sobiv projektikategooria.</span><span class="sxs-lookup"><span data-stu-id="6311b-127">We recommend that you take the time to select an appropriate project category for your import or export job.</span></span> <span data-ttu-id="6311b-128">Projektikategooriate abil saate seotud töid hallata.</span><span class="sxs-lookup"><span data-stu-id="6311b-128">Project categories can help you manage related jobs.</span></span>

### <a name="identify-the-entities-to-import-or-export"></a><span data-ttu-id="6311b-129">Imporditavate või eksporditavate üksuste tähistamine</span><span class="sxs-lookup"><span data-stu-id="6311b-129">Identify the entities to import or export</span></span>
<span data-ttu-id="6311b-130">Saate lisada impordi- või eksporditööle konkreetseid üksusi või valida rakendamiseks malli.</span><span class="sxs-lookup"><span data-stu-id="6311b-130">You can add specific entities to an import or export job or select a template to apply.</span></span> <span data-ttu-id="6311b-131">Mallid täidavad töö üksuste loendiga.</span><span class="sxs-lookup"><span data-stu-id="6311b-131">Templates fill a job with a list of entities.</span></span> <span data-ttu-id="6311b-132">Valik **Rakenda mall** on saadaval, kui olete tööle nime andnud ja selle salvestanud.</span><span class="sxs-lookup"><span data-stu-id="6311b-132">The **Apply template** option is available after you give the job a name and save the job.</span></span>

### <a name="set-the-data-format-for-the-job"></a><span data-ttu-id="6311b-133">Töö andmevormingu määramine</span><span class="sxs-lookup"><span data-stu-id="6311b-133">Set the data format for the job</span></span>
<span data-ttu-id="6311b-134">Kui valite üksuse, peate valima eksporditavate või imporditavate andmete vormingu.</span><span class="sxs-lookup"><span data-stu-id="6311b-134">When you select an entity, you must select the format of the data that will be exported or imported.</span></span> <span data-ttu-id="6311b-135">Vorminguid saab määratleda paani **Andmeallikate seadistus** kaudu.</span><span class="sxs-lookup"><span data-stu-id="6311b-135">You define formats by using the **Data sources setup** tile.</span></span> <span data-ttu-id="6311b-136">Lähteandmete vorming on **tüübi**, **failivormingu**, **reaeraldaja** ja **veerueraldaja** kombinatsioon.</span><span class="sxs-lookup"><span data-stu-id="6311b-136">A source data format is a combination of **Type**, **File format**, **Row delimiter** and **Column delimiter**.</span></span> <span data-ttu-id="6311b-137">On ka muid atribuute, kuid need on kõige olulisemad.</span><span class="sxs-lookup"><span data-stu-id="6311b-137">There are also other attributes, but these are the key ones to understand.</span></span> <span data-ttu-id="6311b-138">Järgmises tabelis on toodud kehtivad kombinatsioonid.</span><span class="sxs-lookup"><span data-stu-id="6311b-138">The following table lists the valid combinations.</span></span>

| <span data-ttu-id="6311b-139">Failivorming</span><span class="sxs-lookup"><span data-stu-id="6311b-139">File Format</span></span>            | <span data-ttu-id="6311b-140">Rea-/veerueraldaja</span><span class="sxs-lookup"><span data-stu-id="6311b-140">Row/Column delimiter</span></span>                       | <span data-ttu-id="6311b-141">XML-i laad</span><span class="sxs-lookup"><span data-stu-id="6311b-141">XML Style</span></span>                 |
|------------------------|--------------------------------------------|---------------------------|
| <span data-ttu-id="6311b-142">Excel</span><span class="sxs-lookup"><span data-stu-id="6311b-142">Excel</span></span>                  | <span data-ttu-id="6311b-143">Excel</span><span class="sxs-lookup"><span data-stu-id="6311b-143">Excel</span></span>                                      | <span data-ttu-id="6311b-144">\-Pole-</span><span class="sxs-lookup"><span data-stu-id="6311b-144">\-NA-</span></span>                     |
| <span data-ttu-id="6311b-145">XML</span><span class="sxs-lookup"><span data-stu-id="6311b-145">XML</span></span>                    | <span data-ttu-id="6311b-146">\-Pole-</span><span class="sxs-lookup"><span data-stu-id="6311b-146">\-NA-</span></span>                                      | <span data-ttu-id="6311b-147">XML-element XML-atribuut</span><span class="sxs-lookup"><span data-stu-id="6311b-147">XML-Element XML-Attribute</span></span> |
| <span data-ttu-id="6311b-148">Eraldatud, fikseeritud laius</span><span class="sxs-lookup"><span data-stu-id="6311b-148">Delimited, fixed width</span></span> | <span data-ttu-id="6311b-149">Koma, semikoolon, vahekaart, vertikaalriba, koolon</span><span class="sxs-lookup"><span data-stu-id="6311b-149">Comma, semicolon, tab, vertical bar, colon</span></span> | <span data-ttu-id="6311b-150">\-Pole-</span><span class="sxs-lookup"><span data-stu-id="6311b-150">\-NA-</span></span>                     |

### <a name="sequence-the-entities"></a><span data-ttu-id="6311b-151">Üksuste järjestamine</span><span class="sxs-lookup"><span data-stu-id="6311b-151">Sequence the entities</span></span>
<span data-ttu-id="6311b-152">Üksusi saab järjestada andmemallis või impordi- ja eksporditöödes.</span><span class="sxs-lookup"><span data-stu-id="6311b-152">Entities can be sequenced in a data template, or in import and export jobs.</span></span> <span data-ttu-id="6311b-153">Kui käivitate mitut andmeüksust sisaldava töö, peate veenduma, et andmeüksused oleksid õiges järjestuses.</span><span class="sxs-lookup"><span data-stu-id="6311b-153">When you run a job that contains more than one data entity, you must make sure that the data entities are correctly sequenced.</span></span> <span data-ttu-id="6311b-154">Üksused järjestatakse peamiselt nii, et saaksite käsitleda funktsionaalseid sõltuvusi üksuste vahel.</span><span class="sxs-lookup"><span data-stu-id="6311b-154">You sequence entities primarily so that you can address any functional dependencies among entities.</span></span> <span data-ttu-id="6311b-155">Kui üksustel pole ühtegi funktsionaalset sõltuvust, saab need plaanida paralleelseks impordiks või ekspordiks.</span><span class="sxs-lookup"><span data-stu-id="6311b-155">If entities don’t have any functional dependencies, they can be scheduled for parallel import or export.</span></span>

#### <a name="execution-units-levels-and-sequences"></a><span data-ttu-id="6311b-156">Käivitamise ühikud, tasemed ja järjestused</span><span class="sxs-lookup"><span data-stu-id="6311b-156">Execution units, levels, and sequences</span></span>
<span data-ttu-id="6311b-157">Üksuse käivitamise ühik, tase käivitamise ühikus ja järjekord aitavad juhtida andmete eksportimise või importimise järjekorda.</span><span class="sxs-lookup"><span data-stu-id="6311b-157">The execution unit, level in the execution unit, and sequence of an entity help control the order that the data is exported or imported in.</span></span>

- <span data-ttu-id="6311b-158">Erinevate käivitamise ühikute üksusi töödeldakse paralleelselt.</span><span class="sxs-lookup"><span data-stu-id="6311b-158">Entities in different execution units are processed in parallel.</span></span>
- <span data-ttu-id="6311b-159">Igas käivitamise ühikus töödeldakse üksusi paralleelselt, kui neil on sama tase.</span><span class="sxs-lookup"><span data-stu-id="6311b-159">In each execution unit, entities are processed in parallel if they have the same level.</span></span>
- <span data-ttu-id="6311b-160">Igal tasemel töödeldakse üksusi nende järjekorranumbri alusel sellel tasemel.</span><span class="sxs-lookup"><span data-stu-id="6311b-160">In each level, entities are processed according to their sequence number in that level.</span></span>
- <span data-ttu-id="6311b-161">Kui üks tase on töödeldud, töödeldakse järgmine tase.</span><span class="sxs-lookup"><span data-stu-id="6311b-161">After one level has been processed, the next level is processed.</span></span>

#### <a name="resequencing"></a><span data-ttu-id="6311b-162">Ümberjärjestamine</span><span class="sxs-lookup"><span data-stu-id="6311b-162">Resequencing</span></span>
<span data-ttu-id="6311b-163">Üksusi võib olla vaja ümber järjestada järgmistes olukordades.</span><span class="sxs-lookup"><span data-stu-id="6311b-163">You might want to resequence your entities in the following situations:</span></span>

- <span data-ttu-id="6311b-164">Kui kõigi muudatuste jaoks kasutatakse ainult ühte andmetööd, võite kasutada ümberjärjestamise valikuid terve töö läbiviimise aja optimeerimiseks.</span><span class="sxs-lookup"><span data-stu-id="6311b-164">If only one data job is used for all your changes, you can use resequencing options to optimize the execution time for the full job.</span></span> <span data-ttu-id="6311b-165">Nendel juhtudel võite kasutada käivitamise ühikut mooduli tähistamiseks, taset mooduli funktsiooniala tähistamiseks ja järjekorda üksuse tähistamiseks.</span><span class="sxs-lookup"><span data-stu-id="6311b-165">In these cases, you can use the execution unit to represent the module, the level to represent the feature area in the module, and the sequence to represent the entity.</span></span> <span data-ttu-id="6311b-166">Selle lähenemisega saate töötada moodulite lõikes paralleelselt, kuid mooduli sees ikka järjekorras.</span><span class="sxs-lookup"><span data-stu-id="6311b-166">By using this approach, you can work across modules in parallel, but you can still work in sequence in a module.</span></span> <span data-ttu-id="6311b-167">Tagamaks, et paralleelsed toimingud õnnestuksid, tuleb arvestada kõiki sõltuvusi.</span><span class="sxs-lookup"><span data-stu-id="6311b-167">To help guarantee that parallel operations succeed, you must consider all dependencies.</span></span>
- <span data-ttu-id="6311b-168">Kui kasutatakse mitut andmetööd (näiteks ühte tööd iga mooduli jaoks), võite optimaalseks läbiviimiseks kasutada järjestust, mis mõjutab üksuste taset ja järjekorda.</span><span class="sxs-lookup"><span data-stu-id="6311b-168">If multiple data jobs are used (for example, one job for each module), you can use sequencing to affect the level and sequence of entities for optimal execution.</span></span>
- <span data-ttu-id="6311b-169">Kui sõltuvusi polegi, võite maksimaalseks optimeerimiseks järjestada üksused erinevatel käivitamise ühikutel.</span><span class="sxs-lookup"><span data-stu-id="6311b-169">If there are no dependencies at all, you can sequence entities at different execution units for maximum optimization.</span></span>

<span data-ttu-id="6311b-170">Menüü **Ümberjärjestamine** on saadaval, kui valitud on mitu üksust.</span><span class="sxs-lookup"><span data-stu-id="6311b-170">The **Resequencing** menu is available when multiple entities are selected.</span></span> <span data-ttu-id="6311b-171">Ümber saab järjestada käivitamise ühiku, taseme või järjekorravalikute alusel.</span><span class="sxs-lookup"><span data-stu-id="6311b-171">You can resequence based on execution unit, level, or sequence options.</span></span> <span data-ttu-id="6311b-172">Saate määrata vahemiku valitud üksuste ümberjärjestamiseks.</span><span class="sxs-lookup"><span data-stu-id="6311b-172">You can set an increment to resequence the entities that have been selected.</span></span> <span data-ttu-id="6311b-173">Igale üksusele valitud ühikut, taset ja/või järjekorranumbrit muudetakse määratud vahemiku võrra.</span><span class="sxs-lookup"><span data-stu-id="6311b-173">The unit, level, and/or sequence number that is selected for each entity is updated by the specified increment.</span></span>

#### <a name="sorting"></a><span data-ttu-id="6311b-174">Sortimine</span><span class="sxs-lookup"><span data-stu-id="6311b-174">Sorting</span></span>
<span data-ttu-id="6311b-175">Valikut **Sortimisalus:** saab kasutada üksuste loendi vaatamiseks järjekorras.</span><span class="sxs-lookup"><span data-stu-id="6311b-175">Use can use the **Sort by** option to view the entity list in sequential order.</span></span>

### <a name="truncating"></a><span data-ttu-id="6311b-176">Kärpimine</span><span class="sxs-lookup"><span data-stu-id="6311b-176">Truncating</span></span>
<span data-ttu-id="6311b-177">Saate projektide importimisel enne importimist üksuste kirjeid kärpida.</span><span class="sxs-lookup"><span data-stu-id="6311b-177">For import projects, you can choose to truncate records in the entities prior to import.</span></span> <span data-ttu-id="6311b-178">See on kasulik, kui kirjeid on vaja importida tühjadesse tabelitesse.</span><span class="sxs-lookup"><span data-stu-id="6311b-178">This is useful if your records must be imported into a clean set of tables.</span></span> <span data-ttu-id="6311b-179">Vaikimisi on see säte välja lülitatud.</span><span class="sxs-lookup"><span data-stu-id="6311b-179">This setting is off by default.</span></span>

## <a name="validate-that-the-source-data-and-target-data-are-mapped-correctly"></a><span data-ttu-id="6311b-180">Kontrollimine, kas lähte- ja sihtandmed on õigesti vastendatud</span><span class="sxs-lookup"><span data-stu-id="6311b-180">Validate that the source data and target data are mapped correctly</span></span>
<span data-ttu-id="6311b-181">Vastendamine on funktsioon, mida rakendatakse nii impordi- kui ka eksporditööde puhul.</span><span class="sxs-lookup"><span data-stu-id="6311b-181">Mapping is a function that applies to both import and export jobs.</span></span>

- <span data-ttu-id="6311b-182">Imporditöö kontekstis kirjeldab vastendus, millistest lähtefaili veergudest saavad koondamistabeli veerud.</span><span class="sxs-lookup"><span data-stu-id="6311b-182">In the context of an import job, mapping describes which columns in the source file become the columns in the staging table.</span></span> <span data-ttu-id="6311b-183">Seetõttu saab süsteem määratleda, millised lähtefaili veeruandmed tuleb kopeerida millisesse koondamistabeli veergu.</span><span class="sxs-lookup"><span data-stu-id="6311b-183">Therefore, the system can determine which column data in the source file must be copied into which column of the staging table.</span></span>
- <span data-ttu-id="6311b-184">Eksporditöö kontekstis kirjeldab vastendus, millistest koondamistabeli (st allika) veergudest saavad sihtfaili veerud.</span><span class="sxs-lookup"><span data-stu-id="6311b-184">In the context of an export job, mapping describes which columns of the staging table (that is, the source) become the columns in the target file.</span></span>

<span data-ttu-id="6311b-185">Kui koondamistabeli ja faili veergude nimed ühtivad, loob süsteem nimede põhjal automaatselt vastenduse.</span><span class="sxs-lookup"><span data-stu-id="6311b-185">If the column names in the staging table and the file match, the system automatically establishes the mapping, based on the names.</span></span> <span data-ttu-id="6311b-186">Kuid kui nimed erinevad, ei vastendata veerge automaatselt.</span><span class="sxs-lookup"><span data-stu-id="6311b-186">However, if the names differ, columns aren’t mapped automatically.</span></span> <span data-ttu-id="6311b-187">Sellistel juhtudel tuleb teha vastendamine, tehes valiku **Kuva kaart** andmetöö üksusel.</span><span class="sxs-lookup"><span data-stu-id="6311b-187">In these cases, you must complete the mapping by selecting the **View map** option on the entity in the data job.</span></span>

<span data-ttu-id="6311b-188">Vastendamisvaateid on kaks: **Vastendamise visualiseering**, mis on vaikevaade, ja **Vastendamise üksikasjad**.</span><span class="sxs-lookup"><span data-stu-id="6311b-188">There are two mapping views: **Mapping visualization**, which is the default view, and **Mapping details**.</span></span> <span data-ttu-id="6311b-189">Punane tärn (\*) tähistab üksuse kohustuslikke välju.</span><span class="sxs-lookup"><span data-stu-id="6311b-189">A red asterisk (\*) identifies any required fields in the entity.</span></span> <span data-ttu-id="6311b-190">Need väljad tuleb vastendada, enne kui saate üksusega töötada.</span><span class="sxs-lookup"><span data-stu-id="6311b-190">These fields must be mapped before you can work with the entity.</span></span> <span data-ttu-id="6311b-191">Teiste väljade vastendusi saab üksusega töötades soovi kohaselt tühistada.</span><span class="sxs-lookup"><span data-stu-id="6311b-191">You can unmap other fields as you require when you work with the entity.</span></span> <span data-ttu-id="6311b-192">Välja vastenduse tühistamiseks valige väli veerust **Üksus** või veerust **Allikas** ja valige siis **Kustuta valik**.</span><span class="sxs-lookup"><span data-stu-id="6311b-192">To unmap a field, select the field in either the **Entity** column or the **Source** column, and then select **Delete selection**.</span></span> <span data-ttu-id="6311b-193">Valige **Salvesta** muudatuste salvestamiseks ja sulgege siis leht projekti juurde naasmiseks.</span><span class="sxs-lookup"><span data-stu-id="6311b-193">Select **Save** to save your changes, and then close the page to return to the project.</span></span> <span data-ttu-id="6311b-194">Sama protsessi abil saab redigeerida välja vastendust lähtetabelist koondamistabelisse pärast importimist.</span><span class="sxs-lookup"><span data-stu-id="6311b-194">You can use the same process to edit the field mapping from source to staging after you import.</span></span>

<span data-ttu-id="6311b-195">Lehel saab luua vastenduse, valides **Allika vastendamise loomine**.</span><span class="sxs-lookup"><span data-stu-id="6311b-195">You can generate a mapping on the page by selecting **Generate source mapping**.</span></span> <span data-ttu-id="6311b-196">Loodud vastendus toimib nagu automaatne vastendus.</span><span class="sxs-lookup"><span data-stu-id="6311b-196">A generated mapping behaves like an automatic mapping.</span></span> <span data-ttu-id="6311b-197">Seega tuleb vastendamata väljad käsitsi vastendada.</span><span class="sxs-lookup"><span data-stu-id="6311b-197">Therefore, you must manually map any unmapped fields.</span></span>

![Andmetüüpide vastendamine](./media/dixf-map.png)

## <a name="verify-the-security-for-your-import-or-export-job"></a><span data-ttu-id="6311b-199">Impordi- või eksporditöö turvalisuse kontrollimine</span><span class="sxs-lookup"><span data-stu-id="6311b-199">Verify the security for your import or export job</span></span>
<span data-ttu-id="6311b-200">Juurdepääsu tööruumile **Andmehaldus** saab piirata, et mitte-administraatorist kasutajad pääseksid juurde ainult konkreetsetele andmetöödele.</span><span class="sxs-lookup"><span data-stu-id="6311b-200">Access to the **Data management** workspace can be restricted, so that non-administrator users can access only specific data jobs.</span></span> <span data-ttu-id="6311b-201">Juurdepääs andmetööle tähendab täielikku juurdepääsu selle töö läbiviimise ajaloole ja juurdepääsu koondamistabelitele.</span><span class="sxs-lookup"><span data-stu-id="6311b-201">Access to a data job implies full access to the execution history of that job and access to the staging tables.</span></span> <span data-ttu-id="6311b-202">Seetõttu tuleb veenduda, et andmetöö loomisel oleksid paigas sobivad juurdepääsu kontrollimismehhanismid.</span><span class="sxs-lookup"><span data-stu-id="6311b-202">Therefore, you must make sure that appropriate access controls are in place when you create a data job.</span></span>

### <a name="secure-a-job-by-roles-and-users"></a><span data-ttu-id="6311b-203">Töö kaitsmine rollide ja kasutajatega</span><span class="sxs-lookup"><span data-stu-id="6311b-203">Secure a job by roles and users</span></span>
<span data-ttu-id="6311b-204">Menüü **Rakendatavad rollid** abil saate piirata töö ühe või mitme turberolliga.</span><span class="sxs-lookup"><span data-stu-id="6311b-204">Use the **Applicable roles** menu to restrict the job to one or more security roles.</span></span> <span data-ttu-id="6311b-205">Ainult nende rollidega kasutajad pääsevad tööle juurde.</span><span class="sxs-lookup"><span data-stu-id="6311b-205">Only users in those roles will have access to the job.</span></span>

<span data-ttu-id="6311b-206">Samuti saab töö teha kättesaadavaks ainult konkreetsetele kasutajatele.</span><span class="sxs-lookup"><span data-stu-id="6311b-206">You can also restrict a job to specific users.</span></span> <span data-ttu-id="6311b-207">Kui töö turve põhineb kasutajatel, mitte rollidel, on kontroll suurem, kui ühele rollile on määratud mitu kasutajat.</span><span class="sxs-lookup"><span data-stu-id="6311b-207">When you secure a job by users instead of roles, there is more control if multiple users are assigned to a role.</span></span>

### <a name="secure-a-job-by-legal-entity"></a><span data-ttu-id="6311b-208">Töö turve juriidilise isiku alusel</span><span class="sxs-lookup"><span data-stu-id="6311b-208">Secure a job by legal entity</span></span>
<span data-ttu-id="6311b-209">Andmetööd on olemuselt globaalsed.</span><span class="sxs-lookup"><span data-stu-id="6311b-209">Data jobs are global in nature.</span></span> <span data-ttu-id="6311b-210">Seetõttu, kui juriidilises isikus loodi andmetöö ja seda kasutati seal, on see töö süsteemi teistes juriidilistes isikutes näha.</span><span class="sxs-lookup"><span data-stu-id="6311b-210">Therefore, if a data job was created and used in a legal entity, the job will be visible in other legal entities in the system.</span></span> <span data-ttu-id="6311b-211">Mõnes rakenduse stsenaariumis võib see vaikekäitumine eelistatud olla.</span><span class="sxs-lookup"><span data-stu-id="6311b-211">This default behavior might be preferred in some application scenarios.</span></span> <span data-ttu-id="6311b-212">Näiteks organisatsioonis, kus arveid imporditakse andmeüksuste abil, võib olla tsentraalne arveid töötlev töörühm, mis vastutab kõigi organisatsiooni divisjonide arvetel olevate vigade eest.</span><span class="sxs-lookup"><span data-stu-id="6311b-212">For example, an organization that imports invoices by using data entities might provide a centralized invoice processing team that is responsible for managing invoice errors for all divisions in the organization.</span></span> <span data-ttu-id="6311b-213">Selles stsenaariumis on abiks, kui tsentraalne arveid töötlev töörühm pääseb juurde kõigi juriidiliste isikute arvete imporditöödele.</span><span class="sxs-lookup"><span data-stu-id="6311b-213">In this scenario, it’s useful for the centralized invoice processing team to have access to invoice import jobs from all legal entities.</span></span> <span data-ttu-id="6311b-214">Seetõttu vastab vaikekäitumine juriidilise isiku vaatepunktist vajadustele.</span><span class="sxs-lookup"><span data-stu-id="6311b-214">Therefore, the default behavior meets the requirement from a legal entity perspective.</span></span>

<span data-ttu-id="6311b-215">Kuid organisatsioon võib soovida, et arvete töötlemise töörühmad oleksid juriidilise isiku põhised.</span><span class="sxs-lookup"><span data-stu-id="6311b-215">However, an organization might want to have invoice processing teams per legal entity.</span></span> <span data-ttu-id="6311b-216">Sel juhul peaks juriidilise isiku töörühmal olema juurdepääs ainult oma juriidilise isiku arve imporditööle.</span><span class="sxs-lookup"><span data-stu-id="6311b-216">In this case, a team in a legal entity should have access only to the invoice import job in its own legal entity.</span></span> <span data-ttu-id="6311b-217">Selle nõude täitmiseks võite konfigureerida juriidilise isiku põhise juurdepääsukontrolli andmetöödele, kasutades andmetöös menüüd **Kohaldatavad juriidilised isikud**.</span><span class="sxs-lookup"><span data-stu-id="6311b-217">To meet this requirement, you can configure legal entity–based access control on the data jobs by using the **Applicable legal entities** menu inside the data job.</span></span> <span data-ttu-id="6311b-218">Pärast konfigureerimist näevad kasutajad ainult töid, mis on saadaval selles juriidilises isikus, kuhu nad parajasti on sisse logitud.</span><span class="sxs-lookup"><span data-stu-id="6311b-218">After the configuration is done, users can see only jobs that are available in the legal entity that they are currently signed in to.</span></span> <span data-ttu-id="6311b-219">Teise juriidilise isiku tööde vaatamiseks peavad kasutajad minema sellesse juriidilisse isikusse.</span><span class="sxs-lookup"><span data-stu-id="6311b-219">To see jobs from another legal entity, users must switch to that legal entity.</span></span>

<span data-ttu-id="6311b-220">Töö saab kaitsta korraga rollide, kasutajate ja juriidiliste isikute kaudu.</span><span class="sxs-lookup"><span data-stu-id="6311b-220">A job can be secured by roles, users, and legal entity at the same time.</span></span>

## <a name="run-the-import-or-export-job"></a><span data-ttu-id="6311b-221">Impordi- või eksporditöö käivitamine</span><span class="sxs-lookup"><span data-stu-id="6311b-221">Run the import or export job</span></span>
<span data-ttu-id="6311b-222">Töö saab käivitada ühe korra, valides pärast töö määratlemist nupu **Impordi** või **Ekspordi**.</span><span class="sxs-lookup"><span data-stu-id="6311b-222">You can run a job one time by selecting the **Import** or **Export** button after you define the job.</span></span> <span data-ttu-id="6311b-223">Korduva töö seadistamiseks valige **Korduva andmetöö loomine**.</span><span class="sxs-lookup"><span data-stu-id="6311b-223">To set up a recurring job, select **Create recurring data job**.</span></span>

> [!NOTE]
> <span data-ttu-id="6311b-224">Importimis- või eksportimistööd saab käivitada, kui valite nupu **Impordi** või **Ekspordi**.</span><span class="sxs-lookup"><span data-stu-id="6311b-224">An import or an export job can be run by selecting the **Import** or **Export** button.</span></span> <span data-ttu-id="6311b-225">See ajastab ainult üks kord käitatava pakett-töö.</span><span class="sxs-lookup"><span data-stu-id="6311b-225">This will schedule a batch job to run only once.</span></span> <span data-ttu-id="6311b-226">Töö ei pruugi kohe käivituda, kui partii teenus on partii teenuse koorma tõttu ahendatud.</span><span class="sxs-lookup"><span data-stu-id="6311b-226">The job may not execute immediately if batch service is throttling due to the load on the batch service.</span></span> <span data-ttu-id="6311b-227">Töid saab käivitada ka sünkroonselt, kui valite nupu **Impordi kohe** või **Ekspordi kohe**.</span><span class="sxs-lookup"><span data-stu-id="6311b-227">The jobs can also be run synchronously by selecting **Import now** or **Export now**.</span></span> <span data-ttu-id="6311b-228">See käivitab töö kohe ja on kasulik siis, kui pakett ahendamise tõttu kohe ei käivitu.</span><span class="sxs-lookup"><span data-stu-id="6311b-228">This starts the job immediately and is useful if the batch does not start due to throttling.</span></span> <span data-ttu-id="6311b-229">Tööde käivitamine on võimalik ajastada ka hilisemaks.</span><span class="sxs-lookup"><span data-stu-id="6311b-229">The jobs can also be scheduled to execute at a later time.</span></span> <span data-ttu-id="6311b-230">Seda saab teha, kui valite suvandi **Käivita partiina**.</span><span class="sxs-lookup"><span data-stu-id="6311b-230">This can be done by choosing the **Run in batch** option.</span></span> <span data-ttu-id="6311b-231">Paketiressursid kuuluvad ahendamisele, seega pakett-töö ei tarvitse kohe käivituda.</span><span class="sxs-lookup"><span data-stu-id="6311b-231">Batch resources are subject to throttling, so the batch job might not start immediately.</span></span> <span data-ttu-id="6311b-232">Partii kasutamine on soovitatav valik, sest see aitab ka suurte andmehulkade korral, mis on vaja importida või eksportida.</span><span class="sxs-lookup"><span data-stu-id="6311b-232">Using a batch is the recommended option because it will also help with large volumes of data that need to be imported or exported.</span></span> <span data-ttu-id="6311b-233">Pakett-töid saab planeerida käivituma kindlate paketigruppide korral, mis koormuse ühtlustamise seisukohast võimaldab suuremat kontrolli.</span><span class="sxs-lookup"><span data-stu-id="6311b-233">Batch jobs can be scheduled to run on a specific batch group, which allows more control from a load balancing perspective.</span></span>

## <a name="validate-that-the-job-ran-as-expected"></a><span data-ttu-id="6311b-234">Kontrollimine, et töö toimus õigesti</span><span class="sxs-lookup"><span data-stu-id="6311b-234">Validate that the job ran as expected</span></span>
<span data-ttu-id="6311b-235">Töö ajalugu on tõrkeotsinguks ja uurimiseks saadaval nii impordi- kui ka eksporditööde puhul.</span><span class="sxs-lookup"><span data-stu-id="6311b-235">The job history is available for troubleshooting and investigation on both import and export jobs.</span></span> <span data-ttu-id="6311b-236">Varasemad töötsüklid on korraldatud ajavahemike alusel.</span><span class="sxs-lookup"><span data-stu-id="6311b-236">Historical job runs are organized by time ranges.</span></span>

![Töö ajaloo vahemikud](./media/dixf-job-history.md.png)

<span data-ttu-id="6311b-238">Iga töötsükli puhul kuvatakse järgmised andmed.</span><span class="sxs-lookup"><span data-stu-id="6311b-238">Each job run provides the following details:</span></span>

- <span data-ttu-id="6311b-239">Käivitamise üksikasjad</span><span class="sxs-lookup"><span data-stu-id="6311b-239">Execution details</span></span>
- <span data-ttu-id="6311b-240">Käivituslogi</span><span class="sxs-lookup"><span data-stu-id="6311b-240">Execution log</span></span>

<span data-ttu-id="6311b-241">Käivitamise üksikasjad näitavad iga töös töödeldud andmeüksuse olekut.</span><span class="sxs-lookup"><span data-stu-id="6311b-241">Execution details show the state of each data entity that the job processed.</span></span> <span data-ttu-id="6311b-242">Seetõttu leiate kiiresti järgmise teabe.</span><span class="sxs-lookup"><span data-stu-id="6311b-242">Therefore, you can quickly find the following information:</span></span>

- <span data-ttu-id="6311b-243">Milliseid üksusi töödeldi</span><span class="sxs-lookup"><span data-stu-id="6311b-243">Which entities were processed.</span></span>
- <span data-ttu-id="6311b-244">Üksuse puhul – mitu kirjet töödeldi edukalt ja mitu ebaõnnestus</span><span class="sxs-lookup"><span data-stu-id="6311b-244">For an entity, how many records were successfully processed, and how many failed.</span></span>
- <span data-ttu-id="6311b-245">Iga üksuse koondamiskirjed</span><span class="sxs-lookup"><span data-stu-id="6311b-245">The staging records for each entity.</span></span>

<span data-ttu-id="6311b-246">Koondamisandmed saab laadida eksporditööde puhul alla failina või impordi- ja eksporditööde puhul paketina.</span><span class="sxs-lookup"><span data-stu-id="6311b-246">You can download the staging data in a file for export jobs, or you can download it as a package for import and export jobs.</span></span>

<span data-ttu-id="6311b-247">Käivitamise üksikasjadest saab avada ka käivituslogi.</span><span class="sxs-lookup"><span data-stu-id="6311b-247">From the execution details, you can also open the execution log.</span></span>

## <a name="parallel-imports"></a><span data-ttu-id="6311b-248">Paralleelne importimine</span><span class="sxs-lookup"><span data-stu-id="6311b-248">Parallel imports</span></span>
<span data-ttu-id="6311b-249">Andmete importimise kiirendamiseks saab lubada faili importimise paralleelse töötlemise, kui üksus toetab paralleelset importimist.</span><span class="sxs-lookup"><span data-stu-id="6311b-249">To speed up the import of data, parallel processing of importing a file can be enabled if the entity supports parallel imports.</span></span> <span data-ttu-id="6311b-250">Üksuse paralleelse importimise konfigureerimiseks tuleb järgida järgmisi samme.</span><span class="sxs-lookup"><span data-stu-id="6311b-250">To configure the parallel import for an entity, the following steps must be followed.</span></span>

1. <span data-ttu-id="6311b-251">Minge jaotisse **Süsteemihaldus \> Tööruumid \> Andmehaldus**.</span><span class="sxs-lookup"><span data-stu-id="6311b-251">Go to **System administration \> Workspaces \> Data management**.</span></span>
2. <span data-ttu-id="6311b-252">Valige jaotises **Import/eksport** paan **Raamistiku parameetrid**, et avada leht **Andmete importimise/eksportimise raamistiku parameetrid**.</span><span class="sxs-lookup"><span data-stu-id="6311b-252">In the **Import / Export** section, select the **Framework parameters** tile to open the **Data import/export framework parameters** page.</span></span>
3. <span data-ttu-id="6311b-253">Valige vahekaardil **Üksuse sätted** suvand **Konfigureeri üksuse käivitamise parameetrid**, et avada leht **Üksuse importimise käivitamise parameetrid**.</span><span class="sxs-lookup"><span data-stu-id="6311b-253">On the **Entity settings** tab, select **Configure entity execution parameters** to open the **Entity import execution parameters** page.</span></span>
4. <span data-ttu-id="6311b-254">Üksuse paralleelse importimise konfigureerimiseks määrake järgmised väljad.</span><span class="sxs-lookup"><span data-stu-id="6311b-254">Set the following fields to configure parallel import for an entity:</span></span>

    - <span data-ttu-id="6311b-255">Valige üksus väljal **Üksus**.</span><span class="sxs-lookup"><span data-stu-id="6311b-255">In the **Entity** field, select the entity.</span></span>
    - <span data-ttu-id="6311b-256">Sisestage imporditavate kirjete piirarv väljale **Imporditavate kirjete piirarv**.</span><span class="sxs-lookup"><span data-stu-id="6311b-256">In the **Import threshold record count** field, enter the threshold record count for import.</span></span> <span data-ttu-id="6311b-257">See määratleb kirjete arvu, mida lõim töötlema hakkab.</span><span class="sxs-lookup"><span data-stu-id="6311b-257">This determines the record count to be processed by a thread.</span></span> <span data-ttu-id="6311b-258">Kui failis on 10 000 kirjet, siis tähendab kirjete arv 2500 ja ülesannete arv 4, et iga lõim töötleb 2500 kirjet.</span><span class="sxs-lookup"><span data-stu-id="6311b-258">If a file has 10K records, a record count of 2500 with a task count of 4 will mean, each thread will process 2500 records.</span></span>
    - <span data-ttu-id="6311b-259">Sisestage importimisülesannete arv väljale **Importimisülesannete arv**.</span><span class="sxs-lookup"><span data-stu-id="6311b-259">In the **Import task count** field, enter the count of import tasks.</span></span> <span data-ttu-id="6311b-260">See ei tohi ületada jaotises **Süsteemihaldus \>Serveri konfiguratsioon** pakktöötluseks eraldatud maksimaalset pakktöötluslõimede arvu.</span><span class="sxs-lookup"><span data-stu-id="6311b-260">This must not exceed the max batch threads allocated for batch processing in **System administration \>Server configuration**.</span></span>

## <a name="job-history-clean-up"></a><span data-ttu-id="6311b-261">Tööde ajaloo tühjendamine</span><span class="sxs-lookup"><span data-stu-id="6311b-261">Job history clean up</span></span> 
<span data-ttu-id="6311b-262">Tööajaloo puhastamise funktsiooni tuleb andmehaldustöös kasutada käivitusajaloo perioodilise puhastuse planeerimiseks.</span><span class="sxs-lookup"><span data-stu-id="6311b-262">The job history clean-up functionality in data management must be used to schedule a periodic cleanup of the execution history.</span></span> <span data-ttu-id="6311b-263">See funktsioon asendab eelmise koondamistabeli puhastamise funktsiooni, mis on nüüd aegunud.</span><span class="sxs-lookup"><span data-stu-id="6311b-263">This functionality replaces the previous staging table clean-up functionality, which is now deprecated.</span></span> <span data-ttu-id="6311b-264">Puhastamise käigus puhastatakse järgmised tabelid.</span><span class="sxs-lookup"><span data-stu-id="6311b-264">The following tables will be cleaned up by the clean-up process.</span></span>

-   <span data-ttu-id="6311b-265">Kõik koondamistabelid</span><span class="sxs-lookup"><span data-stu-id="6311b-265">All staging tables</span></span>

-   <span data-ttu-id="6311b-266">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="6311b-266">DMFSTAGINGVALIDATIONLOG</span></span>

-   <span data-ttu-id="6311b-267">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="6311b-267">DMFSTAGINGEXECUTIONERRORS</span></span>

-   <span data-ttu-id="6311b-268">DMFSTAGINGLOGDETAIL</span><span class="sxs-lookup"><span data-stu-id="6311b-268">DMFSTAGINGLOGDETAIL</span></span>

-   <span data-ttu-id="6311b-269">(DMFSTAGINGLOG)</span><span class="sxs-lookup"><span data-stu-id="6311b-269">DMFSTAGINGLOG</span></span>

-   <span data-ttu-id="6311b-270">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="6311b-270">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>

-   <span data-ttu-id="6311b-271">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="6311b-271">DMFEXECUTION</span></span>

-   <span data-ttu-id="6311b-272">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="6311b-272">DMFDEFINITIONGROUPEXECUTION</span></span>

<span data-ttu-id="6311b-273">Funktsioon **Käivitusajaloo puhastamine** peab olema funktsioonide halduses lubatud ja seejärel pääseb sellele ligi kohast **Andmehaldus \> Tööde ajaloo puhastamine**.</span><span class="sxs-lookup"><span data-stu-id="6311b-273">The **Execution history cleanup** feature must be enabled in feature management and then can be accessed from **Data management \> Job history cleanup**.</span></span>

### <a name="scheduling-parameters"></a><span data-ttu-id="6311b-274">Parameetrite planeerimine</span><span class="sxs-lookup"><span data-stu-id="6311b-274">Scheduling parameters</span></span>

<span data-ttu-id="6311b-275">Puhastamise protsessi planeerimisel tuleb täpsustada puhastuse kriteeriumite järgmised parameetrid.</span><span class="sxs-lookup"><span data-stu-id="6311b-275">When scheduling the clean-up process, the following parameters must be specified to define the clean-up criteria.</span></span>

-   <span data-ttu-id="6311b-276">**Ajaloo säilitamise päevade arv** – seda sätet kasutatakse säilitatava käivitusajaloo hulga kontrollimiseks.</span><span class="sxs-lookup"><span data-stu-id="6311b-276">**Number of days to retain history** – This setting is used to control the amount of execution history to be preserved.</span></span> <span data-ttu-id="6311b-277">Väljal määratud päevade arv.</span><span class="sxs-lookup"><span data-stu-id="6311b-277">This is specified in number of days.</span></span> <span data-ttu-id="6311b-278">Kui puhastustöö on ajastatud korduva pakett-tööna, siis see säte tegutseb nagu pidevalt teisaldatav aken, jättes alati määratud päevade arvu puutumata kui ülejäänud kustutatakse.</span><span class="sxs-lookup"><span data-stu-id="6311b-278">When the clean-up job is scheduled as a recurring batch job, this setting will act like a continuously moving window thereby, always leaving the history for the specified number of days intact while deleting the rest.</span></span> <span data-ttu-id="6311b-279">Vaikeväärtus on 7.</span><span class="sxs-lookup"><span data-stu-id="6311b-279">The default is 7 days.</span></span>

-   <span data-ttu-id="6311b-280">**Töö täitmiseks minevate tundide arv** – sõltuvalt puhastatavad ajaloo kogusest võib puhastustöö täitmisaeg varieeruda mõnest minutist kuni mõne tunnini.</span><span class="sxs-lookup"><span data-stu-id="6311b-280">**Number of hours to execute the job** – Depending on the amount of history to be cleaned up, the total execution time for the clean-up job can vary from a few minutes to a few hours.</span></span> <span data-ttu-id="6311b-281">See parameeter peab olema seatud tundide arvule, mis töö täitmiseks kulub.</span><span class="sxs-lookup"><span data-stu-id="6311b-281">This parameter must be set to the number of hours that the job will execute.</span></span> <span data-ttu-id="6311b-282">Pärast seda, kui puhastamise töö on määratud arv tunde töötanud, töö väljub ja jätkab puhastamist järgmine kord, mil see kordumise graafiku põhjal käitatakse.</span><span class="sxs-lookup"><span data-stu-id="6311b-282">After the clean-up job has executed for the specified number of hours, the job will exit and will resume the clean up the next time it is run based on the recurrence schedule.</span></span>

    <span data-ttu-id="6311b-283">Maksimaalse käivitusaja saab määrata, sätestades maksimumpiirangu tundide arvule, mille jooksul töö peab selle sätte abil käivitama.</span><span class="sxs-lookup"><span data-stu-id="6311b-283">A maximum execution time can be specified by setting a max limit on the number of hours the job must run using this setting.</span></span> <span data-ttu-id="6311b-284">Puhastamise loogika läbib ühe töö käivituse ID korraga kronoloogiliselt korraldatud jadas, millest seotud tööajaloo vanim puhastatakse esimesena.</span><span class="sxs-lookup"><span data-stu-id="6311b-284">The clean-up logic goes through one job execution ID at a time in a chronologically arranged sequence, with oldest being first for the cleanup of related execution history.</span></span> <span data-ttu-id="6311b-285">See lõpetab uute käivituse ID-de valimise puhastamiseks, kui järelejäänud täitmise kestus on määratus kestuse viimase 10% sees.</span><span class="sxs-lookup"><span data-stu-id="6311b-285">It will stop picking up new execution ID’s for cleanup when the remaining execution duration is within the last 10% of the specified duration.</span></span> <span data-ttu-id="6311b-286">Mõnel juhul eeldatakse, et puhastamise töö kestab kauem kui määratud maksimaalne aeg.</span><span class="sxs-lookup"><span data-stu-id="6311b-286">In some cases, it will be expected that the clean-up job will continue beyond the specified max time.</span></span> <span data-ttu-id="6311b-287">See sõltub suurel määral praeguse käivituse ID-ga kustutatavate kirjete arvust, mis käivitati enne 10% künnise saavutamist.</span><span class="sxs-lookup"><span data-stu-id="6311b-287">This will largely depend on the number of records to be deleted for the current execution ID that was started before the 10% threshold was reached.</span></span> <span data-ttu-id="6311b-288">Alustatud puhastamine tuleb lõpule viia, et tagada andmete terviklikkus, mis tähendab, et puhastamine jätkub, vaatamata määratud piirmäärangu ületamisele.</span><span class="sxs-lookup"><span data-stu-id="6311b-288">The cleanup that was started must be completed to ensure data integrity, which means that cleanup will continue despite exceeding the specified limit.</span></span> <span data-ttu-id="6311b-289">Kui see on lõpule jõudnud, uusi käivituse ID-sid pole valitud ja puhastamise töö viiakse lõpule.</span><span class="sxs-lookup"><span data-stu-id="6311b-289">When this is complete, new execution ID’s are not picked up and the clean-up job completes.</span></span> <span data-ttu-id="6311b-290">Järelejäänud täitmise ajalugu, mida ei puhastata piisava täitmisaja puudumise tõttu, võetakse tööle järgmisel korral, kui puhastamine on sätestatud.</span><span class="sxs-lookup"><span data-stu-id="6311b-290">The remaining execution history that was not cleaned up due to lack of enough execution time, will be picked up the next time the clean-up job is scheduled.</span></span> <span data-ttu-id="6311b-291">Selle sätte vaikeväärtus ja miinimumväärtus on seatud 2 tunniks.</span><span class="sxs-lookup"><span data-stu-id="6311b-291">The default and minimum value for this setting is set to 2 hours.</span></span>

-   <span data-ttu-id="6311b-292">**Korduvpartii** – puhastamise tööd saab käitada ühekordse käsitsi käivitusena või seda saab ajastada ka korduva partii käivitamise jaoks.</span><span class="sxs-lookup"><span data-stu-id="6311b-292">**Recurring batch** – The clean-up job can be run as a one-time, manual execution, or it can be also scheduled for recurring execution in batch.</span></span> <span data-ttu-id="6311b-293">Partiid saab ajastada, kasutades seadistusi **Käivita taustal**, mis on standardne partiikomplekt.</span><span class="sxs-lookup"><span data-stu-id="6311b-293">The batch can be scheduled using the **Run in background** settings, which is the standard batch set up.</span></span>

> [!NOTE]
> <span data-ttu-id="6311b-294">Kui vahetabelite kirjeid täielikult ei puhastata, veenduge, et puhastamise töö oleks plaanitud käivituma korduvalt.</span><span class="sxs-lookup"><span data-stu-id="6311b-294">If records in the staging tables are not cleaned up completely, ensure that the cleanup job is scheduled to run in recurrence.</span></span> <span data-ttu-id="6311b-295">Nagu eespool selgitatud, siis mis tahes puhastamise käivitamisel töö puhastab ainult nii palju käivitamise ID-sid, nagu on ettenähtud maksimaalsete tundide jooksul võimalik.</span><span class="sxs-lookup"><span data-stu-id="6311b-295">As explained above, in any clean up execution the job will only clean up as many execution ID's as is possible within the provided maximum hours.</span></span> <span data-ttu-id="6311b-296">Mis tahes allesjäänud vahekirjete puhastamise jätkamiseks peab töö olema ajastatud töötama perioodiliselt.</span><span class="sxs-lookup"><span data-stu-id="6311b-296">In order to continue cleanup of any remaining staging records, the job must be scheduled to run periodically.</span></span>

## <a name="job-history-clean-up-and-archival-available-for-preview-in-platform-update-39-or-version-10015"></a><span data-ttu-id="6311b-297">Tööde ajaloo puhastamine ja arhiveerimine (saadaval rakenduse Platform värskenduse 39 või versiooni 10.0.15 eelversiooni jaoks)</span><span class="sxs-lookup"><span data-stu-id="6311b-297">Job history clean up and archival (available for preview in Platform update 39 or version 10.0.15)</span></span>
<span data-ttu-id="6311b-298">Tööde ajaloo puhastamise ja arhiveerimise funktsioon asendab puhastamise funktsioonide varasemad versioonid.</span><span class="sxs-lookup"><span data-stu-id="6311b-298">The job history clean up and archival functionality replaces the previous versions of the clean up functionality.</span></span> <span data-ttu-id="6311b-299">Selles jaotises selgitatakse neid uusi võimalusi.</span><span class="sxs-lookup"><span data-stu-id="6311b-299">This section will explain these new capabilities.</span></span>

<span data-ttu-id="6311b-300">Üks põhilistest puhastamise funktsiooni muudatustest on ajaloo puhastamiseks süsteemi pakett-töö kasutamine.</span><span class="sxs-lookup"><span data-stu-id="6311b-300">One of the main changes to the clean up functionality is the use of system batch job for cleaning up the history.</span></span> <span data-ttu-id="6311b-301">Süsteemi pakett-töö kasutamine võimaldab Finance and Operationsi rakendustel puhastada automaatselt pakett-tööd plaanitult ja käivitada selle kohe, kui süsteem on valmis.</span><span class="sxs-lookup"><span data-stu-id="6311b-301">The use of system batch job allows Finance and Operations apps to have the clean up batch job automatically scheduled and running as soon as the system is ready.</span></span> <span data-ttu-id="6311b-302">Pakett-tööd ei pea enam käsitsi planeerima.</span><span class="sxs-lookup"><span data-stu-id="6311b-302">It is no longer required to schedule the batch job manually.</span></span> <span data-ttu-id="6311b-303">Selle vaikimisi käivitamise režiimis käivitub pakett-töö iga tund alates kl 12 keskööl ja säilitab viimase seitsme päeva käivitamise ajaloo.</span><span class="sxs-lookup"><span data-stu-id="6311b-303">In this default execution mode, the batch job will execute every hour starting at 12 midnight and will retain the execution history for the most recent 7 days.</span></span> <span data-ttu-id="6311b-304">Likvideeritud ajalugu arhiveeritakse tulevikus toomiseks.</span><span class="sxs-lookup"><span data-stu-id="6311b-304">The purged history is archived for future retrieval.</span></span>

> [!NOTE]
> <span data-ttu-id="6311b-305">Kuna see funktsioon on eelvaateversioonis, ei kustuta süsteemi pakett-töö käivitamise ajalugu enne, kui see on lubatud eelväljaande DMFEnableExecutionHistoryCleanupSystemJob kaudu.</span><span class="sxs-lookup"><span data-stu-id="6311b-305">Because this functionality is in preview, the system batch job will not delete any execution history until it is enabled via the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="6311b-306">Kui funktsioon on tavaliselt saadaval tulevases väljalaskes, ei ole see eelväljaanne nõutav ja süsteemi pakett-töö hakkab likvideerima ja arhiveerima pärast süsteemi valmimist, mis põhineb määratletud graafikul, nagu eespool selgitatud.</span><span class="sxs-lookup"><span data-stu-id="6311b-306">When the feature is generally available in a future release, this flight will not be required and the system batch job will start to purge and archive after the system is ready, based on the defined schedule as explained above.</span></span> 

> [!NOTE]
> <span data-ttu-id="6311b-307">Tulevases väljalaskes eemaldatakse rakenduse puhastamise funktsioonidest Finance and Operationsi rakenduste varasemad versioonid.</span><span class="sxs-lookup"><span data-stu-id="6311b-307">In a future release, the previous versions of the clean up functionality will be removed from Finance and Operations apps.</span></span>

<span data-ttu-id="6311b-308">Puhastustoimingu protsessi teine muudatus on likvideeritud käivitamise ajaloo arhiveerimine.</span><span class="sxs-lookup"><span data-stu-id="6311b-308">The second change in the clean up process is the archival of the purged execution history.</span></span> <span data-ttu-id="6311b-309">Puhastamise töö arhiveerib kustutatud kirjed bloobimällu, mida DIXF kasutab regulaarsete integratsioonide jaoks.</span><span class="sxs-lookup"><span data-stu-id="6311b-309">The clean up job will archive the deleted records to the blob storage that DIXF uses for regular integrations.</span></span> <span data-ttu-id="6311b-310">Arhiveeritud fail on DIXF-i paketi vormingus ja see on bloobimälus 7 päeva jooksul saadaval, mille jooksul saab selle alla laadida.</span><span class="sxs-lookup"><span data-stu-id="6311b-310">The archived file will be in the DIXF package format and will be available for 7 days in the blob during which time it can be downloaded.</span></span> <span data-ttu-id="6311b-311">Arhiivitud faili vaikimisi säilimisaega 7 päeva saab muuta parameetrites maksimaalselt 90 päevaks.</span><span class="sxs-lookup"><span data-stu-id="6311b-311">The default longevity of 7 days for the archived file can be changed to a maximum of 90 days in the parameters.</span></span>

### <a name="changing-the-default-settings"></a><span data-ttu-id="6311b-312">Vaikesätete muutmine</span><span class="sxs-lookup"><span data-stu-id="6311b-312">Changing the default settings</span></span>
<span data-ttu-id="6311b-313">See funktsioon on praegu eelvaates ja see tuleb selgesõnaliselt sisse lülitada, lubades eelväljaande DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="6311b-313">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="6311b-314">Ajastamise puhastamise funktsiooni tuleb samuti funktsiooni halduses sisse lülitada.</span><span class="sxs-lookup"><span data-stu-id="6311b-314">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="6311b-315">Arhiveeritud faili säilitamisaja vaikesätte muutmiseks minge dokumendihalduse tööruumi ja valige **Tööajaloo puhastamine**.</span><span class="sxs-lookup"><span data-stu-id="6311b-315">To change the default setting for the longevity of the archived file, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="6311b-316">Määrake suvand **Paketi bloobimälus talletamise päevade arv** väärtusele vahemikus 7 kuni 90 (kaasa arvatud).</span><span class="sxs-lookup"><span data-stu-id="6311b-316">Set **Days to retain package in blob** to a value between 7 and 90 (inclusive).</span></span> <span data-ttu-id="6311b-317">See jõustub arhiivides, mis luuakse pärast selle muudatuse tegemist.</span><span class="sxs-lookup"><span data-stu-id="6311b-317">This will take effect on the archives that are created after this change was made.</span></span>

### <a name="downloading-the-archived-package"></a><span data-ttu-id="6311b-318">Arhiveeritud paketi allalaadimine</span><span class="sxs-lookup"><span data-stu-id="6311b-318">Downloading the archived package</span></span>
<span data-ttu-id="6311b-319">See funktsioon on praegu eelvaates ja see tuleb selgesõnaliselt sisse lülitada, lubades eelväljaande DMFEnableExecutionHistoryCleanupSystemJob.</span><span class="sxs-lookup"><span data-stu-id="6311b-319">This functionality is currently in preview and must be explicitly turned on by enabling the flight DMFEnableExecutionHistoryCleanupSystemJob.</span></span> <span data-ttu-id="6311b-320">Ajastamise puhastamise funktsiooni tuleb samuti funktsiooni halduses sisse lülitada.</span><span class="sxs-lookup"><span data-stu-id="6311b-320">The staging clean up feature must also be turned on in feature management.</span></span>

<span data-ttu-id="6311b-321">Arhiveeritud käivitamise ajaloo allalaadimiseks minge dokumendihalduse tööruumi ja valige **Tööajaloo puhastamine**.</span><span class="sxs-lookup"><span data-stu-id="6311b-321">To download the archived execution history, go to the data management workspace and select **Job history cleanup**.</span></span> <span data-ttu-id="6311b-322">Valige suvand **Paketi varundamise ajalugu**, et avada ajaloo vorm.</span><span class="sxs-lookup"><span data-stu-id="6311b-322">Select **Package backup history** to open the history form.</span></span> <span data-ttu-id="6311b-323">Sellel vormil kuvatakse kõigi arhiveeritud pakettide loend.</span><span class="sxs-lookup"><span data-stu-id="6311b-323">This form shows the list of all archived packages.</span></span> <span data-ttu-id="6311b-324">Arhiivi saab valida ja alla laadida, valides suvandi **Allalaadimise pakett**.</span><span class="sxs-lookup"><span data-stu-id="6311b-324">An archive can be selected and downloaded by selecting **Download package**.</span></span> <span data-ttu-id="6311b-325">Allalaaditud pakett on DIXF-i paketi vormingus ja sisaldab järgmisi faile.</span><span class="sxs-lookup"><span data-stu-id="6311b-325">The downloaded package will be in the DIXF package format and contain the following files:</span></span>

-   <span data-ttu-id="6311b-326">Üksuse koondtabeli fail</span><span class="sxs-lookup"><span data-stu-id="6311b-326">The entity staging table file</span></span>
-   <span data-ttu-id="6311b-327">DMFDEFINITIONGROUPEXECUTION</span><span class="sxs-lookup"><span data-stu-id="6311b-327">DMFDEFINITIONGROUPEXECUTION</span></span>
-   <span data-ttu-id="6311b-328">DMFDEFINITIONGROUPEXECUTIONHISTORY</span><span class="sxs-lookup"><span data-stu-id="6311b-328">DMFDEFINITIONGROUPEXECUTIONHISTORY</span></span>
-   <span data-ttu-id="6311b-329">DMFEXECUTION</span><span class="sxs-lookup"><span data-stu-id="6311b-329">DMFEXECUTION</span></span>
-   <span data-ttu-id="6311b-330">DMFSTAGINGEXECUTIONERRORS</span><span class="sxs-lookup"><span data-stu-id="6311b-330">DMFSTAGINGEXECUTIONERRORS</span></span>
-   <span data-ttu-id="6311b-331">(DMFSTAGINGLOG)</span><span class="sxs-lookup"><span data-stu-id="6311b-331">DMFSTAGINGLOG</span></span>
-   <span data-ttu-id="6311b-332">DMFSTAGINGLOGDETAILS</span><span class="sxs-lookup"><span data-stu-id="6311b-332">DMFSTAGINGLOGDETAILS</span></span>
-   <span data-ttu-id="6311b-333">DMFSTAGINGVALIDATIONLOG</span><span class="sxs-lookup"><span data-stu-id="6311b-333">DMFSTAGINGVALIDATIONLOG</span></span>



[!INCLUDE[footer-include](../../../includes/footer-banner.md)]
