---
title: Andmeallikate otsingu konfigureerimine kasutama ER-i rakendusepõhiseid parameetreid
description: Selles teemas selgitatakse, kuidas saab konfigureerida elektroonilise aruandluse (ER) vormingute otsingu andmeallikaid, mis kasutaksid ER rakendusespetsiifilisi parameetreid.
author: NickSelin
manager: AnnBe
ms.date: 04/02/2021
ms.topic: article
ms.prod: ''
ms.technology: ''
ms.search.form: ERSolutionTable, EROperationDesigner, ERLookupDesigner, ERComponentLookupStructureEditing
audience: Application User, Developer, IT Pro
ms.reviewer: kfend
ms.custom: ''
ms.assetid: ''
ms.search.region: Global
ms.author: nselin
ms.search.validFrom: 2019-01-01
ms.dyn365.ops.version: Release 8.1.3
ms.openlocfilehash: 542580c859759c25da84589ec82495eb72bbcbe5
ms.sourcegitcommit: 74f5b04b482b2ae023c728e0df0eb78305493c6a
ms.translationtype: HT
ms.contentlocale: et-EE
ms.lasthandoff: 04/02/2021
ms.locfileid: "5853517"
---
# <a name="configure-lookup-data-sources-to-use-er-application-specific-parameters"></a><span data-ttu-id="f2297-103">Andmeallikate otsingu konfigureerimine kasutama ER-i rakendusepõhiseid parameetreid</span><span class="sxs-lookup"><span data-stu-id="f2297-103">Configure Lookup data sources to use ER application-specific parameters</span></span> 

[!include[banner](../includes/banner.md)]

<span data-ttu-id="f2297-104">[Elektroonse aruandluse (ER)](general-electronic-reporting.md) rakendusepõhiste parameetrite funktsiooniga saab konfigureerida andmete filtreerimist ER-vormingus, nii et see põhineb abstraktsete reeglite kogumil.</span><span class="sxs-lookup"><span data-stu-id="f2297-104">The [Electronic reporting (ER)](general-electronic-reporting.md) application-specific parameters feature lets you configure data filtering in an ER format so that it's based on a set of abstract rules.</span></span> <span data-ttu-id="f2297-105">Seda reeglite kogumit saab konfigureerida ER-vormingus saadaolevate **Otsingu** tüübiga andmeallikate kasutamiseks.</span><span class="sxs-lookup"><span data-stu-id="f2297-105">This set of rules can be configured to use the data source of the **Lookup** type that is available in an ER format.</span></span> <span data-ttu-id="f2297-106">Saate määrata reaalseid reegleid väljaspool ER komponentide disainereid, kasutades kasutajaliidest (UI), mis luuakse automaatselt vastava ER-vormingu ja praeguse juriidilise isiku andmete **Otsingu** andmeallika põhjal.</span><span class="sxs-lookup"><span data-stu-id="f2297-106">You can then specify real rules beyond the ER components designers by using the user interface (UI) that is automatically generated based on the settings of the **Lookup** data source of the corresponding ER format and the current legal entity data.</span></span> <span data-ttu-id="f2297-107">Lõpuks pääseb määratud reeglitele juurde ER-vormingu **otsingu** andmeallikas, kui see ER-vorming käivitatakse.</span><span class="sxs-lookup"><span data-stu-id="f2297-107">Eventually, the specified rules will be accessed by the ER format's **Lookup** data source when this ER format is executed.</span></span>

> [!NOTE]
> <span data-ttu-id="f2297-108">Redigeeritava ER-vormingu konfigureeritud andmeallikate abil saate määrata, milliseid rakenduse andmeid kasutatakse tegelike reeglite konfigureerimiseks.</span><span class="sxs-lookup"><span data-stu-id="f2297-108">Use the configured data sources of the editable ER format to specify what application data is used to configure real rules.</span></span>

<span data-ttu-id="f2297-109">[ER-toimingute kujundaja](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) abil saate **otsingu** tüübi andmeallika oma ER-vormingusse tuua.</span><span class="sxs-lookup"><span data-stu-id="f2297-109">Use the [ER Operations designer](general-electronic-reporting.md#building-a-format-that-uses-a-data-model-as-a-base) to bring a data source of the **Lookup** type in to your ER format.</span></span> <span data-ttu-id="f2297-110">Andmeallikas peab olema konfigureeritud kirjeldama, kuidas teie abstraktsed reeglid välja näevad, sealhulgas järgmist.</span><span class="sxs-lookup"><span data-stu-id="f2297-110">The data source must be configured to describe how your abstract rules look, including the following:</span></span>

   - <span data-ttu-id="f2297-111">Teatud andmetüübi parameetrite kogum, mille väärtus esitatakse ühe reegli määramiseks.</span><span class="sxs-lookup"><span data-stu-id="f2297-111">The parameter set of certain data type whose value is provided to specify a single rule.</span></span>
   - <span data-ttu-id="f2297-112">Teatud andmetüübi väärtusetüüp, mille tagastab üks reegel, kui seda reeglit peetakse muu hulgas kõige sobivamaks.</span><span class="sxs-lookup"><span data-stu-id="f2297-112">The value type of certain data type that is returned by a single rule when this rule is considered the most appropriate among others.</span></span>

<span data-ttu-id="f2297-113">Sõltuvalt mis tahes konfigureeritud reegli tagastatud väärtuse tüübist saate konfigureerida järgmist tüüpi **otsingu** andmeallikaid:</span><span class="sxs-lookup"><span data-stu-id="f2297-113">You can configure the following types of **Lookup** data sources depending on the type of value that is returned by any configured rule:</span></span>

   - <span data-ttu-id="f2297-114">Kasutage mudeli loendiväärtuse tagastamisel tüüpi **Andmemudel\Otsing**.</span><span class="sxs-lookup"><span data-stu-id="f2297-114">Use the **Data model\Lookup** type when a model enumeration value must be returned.</span></span>
   - <span data-ttu-id="f2297-115">Kasutage **Dynamics 365 Operations\Lookup** tüüpi, kui rakenduse loendi väärtus või rakenduse [laiendatud andmetüübi](../extensibility/extensible-edts.md) väärtus tuleb tagastada.</span><span class="sxs-lookup"><span data-stu-id="f2297-115">Use the **Dynamics 365 Operations\Lookup** type when an application enumeration value or an application [extended data type](../extensibility/extensible-edts.md) value must be returned.</span></span>
   - <span data-ttu-id="f2297-116">Kasutage vormingu loendiväärtuse tagastamisel tüüpi **Vormingu loend\Otsing**.</span><span class="sxs-lookup"><span data-stu-id="f2297-116">Use the **Format enumeration\Lookup** type when a format enumeration value must be returned.</span></span>

<span data-ttu-id="f2297-117">Järgmisel joonisel on kujutatud, kuidas vormingulist loendit saab konfigureerida näidis-ER-vormingus.</span><span class="sxs-lookup"><span data-stu-id="f2297-117">The following illustration shows how a format enumeration can be configured in the sample ER format.</span></span>

   ![Vormingu loendi kuvamine konfigureeritud otsingu andmeallika alusena](./media/er-lookup-data-sources-img1.gif)

<span data-ttu-id="f2297-119">Järgmisel joonisel on kujutatud vormingukomponendid, mis on konfigureeritud esitama erinevat tüüpi maksete loodud aruande teises jaotises.</span><span class="sxs-lookup"><span data-stu-id="f2297-119">The following illustration shows the format components that were configured to report different type of taxes in a different section of a generated report.</span></span>

   ![Vormingujaotiste kuvamine erinevat tüüpi maksude eraldi teatamiseks](./media/er-lookup-data-sources-img2.png)

<span data-ttu-id="f2297-121">Järgmisel joonisel on kujutatud, kuidas ER Operationd kujundaja lubab lisada andmeallika tüübile **Vorming\Otsing**.</span><span class="sxs-lookup"><span data-stu-id="f2297-121">The following illustration shows how the ER Operations designer allows the addition of a data source of the **Format enumeration\Lookup** type.</span></span>  <span data-ttu-id="f2297-122">Lisatud andmeallikas on konfigureeritud tagastama `List of taxation levels` vormingu loendi väärtust.</span><span class="sxs-lookup"><span data-stu-id="f2297-122">The added data source is configured as returning a value of the `List of taxation levels` format enumeration.</span></span>

   ![Vormingu loendi\otsingutüübi ER-andmeallika lisamine](./media/er-lookup-data-sources-img3.gif)

<span data-ttu-id="f2297-124">Järgmisel joonisel on kujutatud, kuidas lisatud andmeallikas on konfigureeritud kasutama **mudeli** andmeallika loendi **Model.Data.Tax** välja **Kood** parameetrina, mis tuleb määrata iga konfigureeritud reegli jaoks.</span><span class="sxs-lookup"><span data-stu-id="f2297-124">The following illustration shows how the added data source is configured to use the **Code** field of the **Model.Data.Tax** record list of the **Model** data source as a parameter that must be specified for every configured rule.</span></span>

![Vormingu loendi\otsingutüübi lisatud andmeallika parameetrite konfigureerimine](./media/er-lookup-data-sources-img4.gif)

<span data-ttu-id="f2297-126">Lisatud `Model.Data.Tax` andmeallikas on konfigureeritud määrama maksukoodi iga konfigureeritud reegli jaoks, pääsedes juurde rakendustabeli **TaxTable** kirjetele.</span><span class="sxs-lookup"><span data-stu-id="f2297-126">The added `Model.Data.Tax` data source is configured to specify a tax code for every configured rule by accessing records of the **TaxTable** application table.</span></span>

   ![Vormingu loendi\otsingutüübi üheettevõtte otsingu andmeallika ülevaade](./media/er-lookup-data-sources-img5.gif)

<span data-ttu-id="f2297-128">Saate seadistada valitud ER-vormingu otsingureeglid, kasutades kasutajaliidest, mis joondatakse automaatselt konfigureeritud andmeallika struktuuriga.</span><span class="sxs-lookup"><span data-stu-id="f2297-128">You can set up the lookup rules for the selected ER format by using the UI that is automatically aligned with the structure of the configured data source.</span></span> <span data-ttu-id="f2297-129">Praegu nõuab see kasutajaliides, et määraksite iga reegli puhul tagastatud väärtuse `List of taxation levels` nii vormingu loendiväärtuseks kui ka maksukoodi parameetriks.</span><span class="sxs-lookup"><span data-stu-id="f2297-129">Currently, this UI requires that for each rule, you specify the returned value as the `List of taxation levels` format enumeration value as well as the tax code as a parameter.</span></span>

   ![Saate häälestada konfigureeritud andmeallika reegleid.](./media/er-lookup-data-sources-img6.gif)

<span data-ttu-id="f2297-131">Järgmisel joonisel on kujutatud, kuidas tüübiga **Arvutatud väli** `Model.Data.Summary.LevelByLookup` andmeallikat saab konfigureerida kutsuma konfigureeritud **otsingu** andmeallikat, mis pakub vajalikke parameetreid.</span><span class="sxs-lookup"><span data-stu-id="f2297-131">The following illustration shows how the `Model.Data.Summary.LevelByLookup` data source of the **Calculated field** type can be configured to call the configured **Lookup** data source providing the required parameters.</span></span> <span data-ttu-id="f2297-132">Kutsungi töötlemiseks käitusajal läbib ER määratletud jada konfigureeritud reeglite loendi, et leida esimene reegel, mis vastab esitatud tingimustele.</span><span class="sxs-lookup"><span data-stu-id="f2297-132">To process this call at runtime, ER goes through the list of configured rules in the defined sequence to locate the first rule that satisfies the provided conditions.</span></span> <span data-ttu-id="f2297-133">Näites on see reegel, mis sisaldab esitatud maksukoodile vastavat maksukoodi.</span><span class="sxs-lookup"><span data-stu-id="f2297-133">In this example, it's the rule that contains the tax code that matches the provided one.</span></span> <span data-ttu-id="f2297-134">Selle tulemusena leitakse kõige sobivam reegel ja leitud reegli jaoks konfigureeritud loendiväärtuse tagastab see andmeallikas.</span><span class="sxs-lookup"><span data-stu-id="f2297-134">As the result, the most appropriate rule is found and the enumeration value that is configured for the found rule is returned by this data source.</span></span>

> [!NOTE]
> <span data-ttu-id="f2297-135">Erand visatakse, kui kohaldatavat reeglit ei leita.</span><span class="sxs-lookup"><span data-stu-id="f2297-135">An exception is thrown when no applicable rule is found.</span></span> <span data-ttu-id="f2297-136">Nende erandite vältimiseks konfigureerige reeglite loendi lõpus täiendavad reeglid, et käsitleda juhtumeid, kui pole konfigureeritud väärtust või väärtust pole esitatud.</span><span class="sxs-lookup"><span data-stu-id="f2297-136">To prevent these exceptions, configure additional rules at the end of the rules list to handle cases when a non-configured value or no value is provided.</span></span> <span data-ttu-id="f2297-137">Kasutage vastavalt suvandeid **\*Pole tühi\*** ja **\*Tühi\***.</span><span class="sxs-lookup"><span data-stu-id="f2297-137">Use the **\*Not blank**\* and **\*Blank**\* options accordingly.</span></span>  
>
> ![Andmeallika lisamine konfigureeritud otsingu andmeallika kutsumiseks](./media/er-lookup-data-sources-img7.png)

<span data-ttu-id="f2297-139">Kui seate redigeeritava otsingu andmeallika jaoks **ettevõtteülese** suvandi väärtuseks **Jah**, lisate selle andmeallika parameetrite kogumikku uue nõutava **ettevõtte** parameetri.</span><span class="sxs-lookup"><span data-stu-id="f2297-139">When you set the **Cross-company** option to **Yes** for the editable lookup data source, you add a new required **Company** parameter to the set of parameters of this data source.</span></span> <span data-ttu-id="f2297-140">**Ettevõtte** parameetri väärtus tuleb määrata käitusajal, kui otsingu andmeallikas kutsutakse.</span><span class="sxs-lookup"><span data-stu-id="f2297-140">The value of the **Company** parameter must be specified at runtime when the lookup data source is called.</span></span> <span data-ttu-id="f2297-141">Kui ettevõtte kood on määratud käitusajal, kasutatakse selle ettevõtte jaoks konfigureeritud reegleid kõige sobivama reegli leidmiseks ja vastav väärtus tagastatakse.</span><span class="sxs-lookup"><span data-stu-id="f2297-141">When the company code is specified at runtime, the rules configured for this company are used to find the most appropriate rule, and the corresponding value is returned.</span></span> <span data-ttu-id="f2297-142">Järgmisel joonisel on kujutatud, kuidas saate seda teha ja kuidas redigeeritava andmeallika parameetrite kogumit muudetakse.</span><span class="sxs-lookup"><span data-stu-id="f2297-142">The following illustration shows how you can do this and how the set of parameters of the editable data source is changed.</span></span>

   ![Vormingu loendi\otsingutüübi ettevõtteülese otsingu andmeallika ülevaade](./media/er-lookup-data-sources-img8.gif)

> [!NOTE]
> <span data-ttu-id="f2297-144">Valige iga ettevõte eraldi, et konfigureerida selle redigeeritava ER-vormingu otsingu andmeallika reeglite kogum.</span><span class="sxs-lookup"><span data-stu-id="f2297-144">Select every company seperately to configure the set of rules for this lookup data source of the editable ER format.</span></span> <span data-ttu-id="f2297-145">Erand visatakse käitusajal, kui kontserniülest otsingut nimetatakse selle ettevõtte koodiga, mille otsingusätet ei viidud lõpule.</span><span class="sxs-lookup"><span data-stu-id="f2297-145">An exception is thrown at runtime when the cross-company lookup is called with the code of the company for which the lookup setting was not completed.</span></span>
>
> <span data-ttu-id="f2297-146">Veenduge, et annaksite ettevõtteülese **otsingu** andmeallikaga ER-vormingut käitavale kasutajale õigused juurdepääsuks iga selle andmeallika kohaldamisalasse kuuluva ettevõtte andmetele.</span><span class="sxs-lookup"><span data-stu-id="f2297-146">Make sure that you grant permissions for a user who runs the ER format with the cross-company **Lookup** data source to access the data of every company that is in scope of this data source.</span></span> <span data-ttu-id="f2297-147">Vastasel korral ilmneb erand käitusajal.</span><span class="sxs-lookup"><span data-stu-id="f2297-147">Otherwise, an exception is thrown at runtime.</span></span>

<span data-ttu-id="f2297-148">Alates versioonist 10.0.19 on saadaval **otsingu** andmeallikate laiendatud võimalused.</span><span class="sxs-lookup"><span data-stu-id="f2297-148">Starting in version 10.0.19, the extended capabilities of the **Lookup** data sources are available.</span></span> <span data-ttu-id="f2297-149">Kui seate redigeeritava otsingu andmeallika suvandi **Laiendatud** väärtuseks **Jah**, teisendatakse konfigureeritud otsingu andmeallikas struktureeritud andmeallikaks, mis pakub konfigureeritud reeglite kogumi analüüsimiseks täiendavaid võimalusi.</span><span class="sxs-lookup"><span data-stu-id="f2297-149">When you set the **Extended** option to **Yes** for the editable lookup data source, the configured lookup data source is transformed to the structured data source that offers the additional capabilities to analyze the configured set of rules.</span></span> <span data-ttu-id="f2297-150">Järgmisel illustratsioonil on toodud see transformatsioon.</span><span class="sxs-lookup"><span data-stu-id="f2297-150">The following illustration shows this transformation.</span></span>

   ![Vormingu loendi\otsingutüübi struktureeritud otsingu andmeallika ülevaade](./media/er-lookup-data-sources-img9.gif)

- <span data-ttu-id="f2297-152">**Otsingu** alamüksus on loodud funktsioonina, et leida kõige sobivam reegel konfigureeritavate reeglite komplektist, mis põhineb esitatud parameetrite komplektil.</span><span class="sxs-lookup"><span data-stu-id="f2297-152">The **Lookup** sub-item is designed as a function to find the most appropriate rule from the set of configurable rules based on the provided set of parameters.</span></span>
- <span data-ttu-id="f2297-153">Alamüksus **IsLookupResultSeton** loodud funktsioonina aktsepteerima põhiloendi andmeallika esitatud väärtust ja tagastama *kahendväärtuse* **Tõene**, kui reeglite kogum sisaldab vähemalt ühte reeglit, mille jaoks esitatud loendiväärtus on konfigureeritud tagastatud väärtusena.</span><span class="sxs-lookup"><span data-stu-id="f2297-153">The **IsLookupResultSet** sub-item is designed as a function to accept the provided value of the base enumeration data source and return the *Boolean* value of **True** when the set of rules contain at least one rule for which the provided enumeration value was configured as a returned value.</span></span> <span data-ttu-id="f2297-154">See funktsioon tagastab *kahendväärtuse* **Väär**, kui esitatud loendiväärtuse tagastamiseks pole konfigureeritud reegleid.</span><span class="sxs-lookup"><span data-stu-id="f2297-154">This function returns the *Boolean* value of **False** when there are no rules configured to return the provided enumeration value.</span></span>
- <span data-ttu-id="f2297-155">Alamüksuse **Seadistamine** on loodud funktsioonina, mis tagastab konfigureeritud reeglite komplekti kirjeloendi kirjetena.</span><span class="sxs-lookup"><span data-stu-id="f2297-155">The **Setting** sub-item is designed as a function that returns the set of configured rules as records of a record list.</span></span> <span data-ttu-id="f2297-156">Tagastatud väärtused ja konfigureeritud reeglite parameetrite kogum esitatakse igas tagastatud kirjes järgmiste andmetüüpide väljadena.</span><span class="sxs-lookup"><span data-stu-id="f2297-156">The returned values and the set of parameters of the configured rules are presented in every returned record as fields of the relevant data types:</span></span>

    - <span data-ttu-id="f2297-157">Tagastatud väärtus esitatakse väljana **Otsing tulem**.</span><span class="sxs-lookup"><span data-stu-id="f2297-157">The returned value is presented as the **Lookup result** field.</span></span>
    - <span data-ttu-id="f2297-158">Konfigureeritud parameetrid esitatakse väljadena, millel on parameetrite nimed (selles näites väli **Kood**).</span><span class="sxs-lookup"><span data-stu-id="f2297-158">The configured parameters are presented as fields having names of parameters (**Code** field in this example).</span></span>

<span data-ttu-id="f2297-159">Lisateavet **otsingu** andmeallika konfigureerimise kohta leiate teemast [ER-vormingute konfigureerimine juriidiliste isikute kohta määratud parameetrite kasutamiseks](er-app-specific-parameters-configure-format.md).</span><span class="sxs-lookup"><span data-stu-id="f2297-159">For more information about to how configure the **Lookup** data source, see [Configure ER formats to use parameters that are specified per legal entity](er-app-specific-parameters-configure-format.md).</span></span> <span data-ttu-id="f2297-160">Lisateavet otsingureeglite seadmise kohta leiate teemast [ER-vormingu parameetrite seadistamine juriidilise isiku kohta](er-app-specific-parameters-set-up.md).</span><span class="sxs-lookup"><span data-stu-id="f2297-160">To learn how to set the Lookup rules, see [Set up the parameters of an ER format per legal entity](er-app-specific-parameters-set-up.md).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="f2297-161">Lisaressursid</span><span class="sxs-lookup"><span data-stu-id="f2297-161">Additional resources</span></span>

[<span data-ttu-id="f2297-162">ER-vormingute konfigureerimine juriidilise isiku kohta määratud parameetrite kasutamiseks</span><span class="sxs-lookup"><span data-stu-id="f2297-162">Configure ER formats to use parameters that are specified per legal entity</span></span>](er-app-specific-parameters-configure-format.md)

[<span data-ttu-id="f2297-163">Elektroonilise aruandluse vormingu parameetrite häälestus juriidilise isiku kohta</span><span class="sxs-lookup"><span data-stu-id="f2297-163">Set up the parameters of an ER format per legal entity</span></span>](er-app-specific-parameters-set-up.md)
