---
title: Teatisereeglite loomine
description: Selles teemas antakse teavet teatiste kohta ja selgitatakse, kuidas luua teatisereeglit selliselt, et saaksite teavitusi selliste sündmuste kohta nagu saabuv kuupäev või konkreetne muudatus.
author: tjvass
manager: AnnBe
ms.date: 10/08/2020
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
ms.search.form: EventCreateRule
audience: Application user
ms.reviewer: sericks
ms.search.scope: Operations
ms.search.region: Global
ms.author: tjvass
ms.search.validFrom: 2018-3-30
ms.dyn365.ops.version: Platform update 15
ms.openlocfilehash: 94b68138066867fad641c70a1674c9292920ec6a
ms.sourcegitcommit: d540998ad6f9c894ca99498c045ae4b86b779806
ms.translationtype: HT
ms.contentlocale: et-EE
ms.lasthandoff: 10/08/2020
ms.locfileid: "3970675"
---
# <a name="create-alert-rules"></a><span data-ttu-id="09caf-103">Teatisereeglite loomine</span><span class="sxs-lookup"><span data-stu-id="09caf-103">Create alert rules</span></span>

[!include [banner](../includes/banner.md)]

## <a name="getting-started"></a><span data-ttu-id="09caf-104">Alustamine</span><span class="sxs-lookup"><span data-stu-id="09caf-104">Getting started</span></span>

<span data-ttu-id="09caf-105">Enne teatisreegli loomist otsustage, millal või milliste olukordades te teatisi saada soovite.</span><span class="sxs-lookup"><span data-stu-id="09caf-105">Before you set up an alert rule, decide when or in what situations you want to receive alerts.</span></span> <span data-ttu-id="09caf-106">Teades, millise sündmuse kohta te teatist soovite, saate otsida lehe, millel kuvatakse teatist käivitava sündmuse andmed.</span><span class="sxs-lookup"><span data-stu-id="09caf-106">When you know which event you want to be notified about, find the page where the data that causes that event appears.</span></span> <span data-ttu-id="09caf-107">Sündmuseks võib olla saabuv kuupäev või teatud toimuv muudatus.</span><span class="sxs-lookup"><span data-stu-id="09caf-107">The event can be a date that arrives or a specific change that occurs.</span></span> <span data-ttu-id="09caf-108">Seega peate leidma lehe, kus kuvatakse kas määratud kuupäev, muudetud väli või uus loodud kirje.</span><span class="sxs-lookup"><span data-stu-id="09caf-108">Therefore, you must find the page where the date is specified, or where the field that changes or the new record that is created appears.</span></span> <span data-ttu-id="09caf-109">Alles seda teades saate luua teatisereegli.</span><span class="sxs-lookup"><span data-stu-id="09caf-109">After you have this information, you can create the alert rule.</span></span>

<span data-ttu-id="09caf-110">Teatisereegli loomisel saate määrata kriteeriumid, mis peavad olema täidetud enne teatise käivitamist.</span><span class="sxs-lookup"><span data-stu-id="09caf-110">When you create an alert rule, you define the criteria that must be met before an alert is triggered.</span></span> <span data-ttu-id="09caf-111">Kriteeriumid on põhimõtteliselt vastavus sündmuse toimumise ja teatud tingimuste täitmise vahel.</span><span class="sxs-lookup"><span data-stu-id="09caf-111">Criteria is basically the match between the occurrence of an event and the fulfillment of specific conditions.</span></span> <span data-ttu-id="09caf-112">Sündmuse toimumisel hakkab süsteem teostama kontrolli vastavalt seadistusele.</span><span class="sxs-lookup"><span data-stu-id="09caf-112">When an event occurs, the system starts to perform a check according to the conditions that are set up.</span></span>

## <a name="ensure-the-alert-batch-jobs-are-running"></a><span data-ttu-id="09caf-113">Teatise pakett-tööde käitamise tagamine</span><span class="sxs-lookup"><span data-stu-id="09caf-113">Ensure the alert batch jobs are running</span></span>

<span data-ttu-id="09caf-114">Andmete pakett-tööd muutuvad ja tähtajateatised peavad töötama, et teatise tingimusi töödeldaks ja teatisi saadetaks.</span><span class="sxs-lookup"><span data-stu-id="09caf-114">The batch jobs for data change and due date alerts need to be running for the alert conditions to be processed and the notifications to be sent.</span></span> <span data-ttu-id="09caf-115">Pakett-tööde käitamiseks avage **Süsteemi haldus** > **Perioodilised ülesanded** > **Teatised** ja lisage suvandile **Muutusepõhised teated** ja/või **Tähtajateatised** uus pakett-töö.</span><span class="sxs-lookup"><span data-stu-id="09caf-115">To run batch jobs, go to **System administration** > **Periodic tasks** > **Alerts** and add a new batch job for **Change based alerts** and/or **Due date alerts**.</span></span> <span data-ttu-id="09caf-116">Kui vajalik on pikk ja sageli töötav pakett-töö, valige **Korduvus** ja määrake **Lõppkuupäev puudub** suvandi **Korduvuse muster** väärtuse **Minutid** jaoks ja **Loendus** **1**.</span><span class="sxs-lookup"><span data-stu-id="09caf-116">If a long and frequently running batch job is needed, select **Recurrence** and set **No end date** with a **Recurrence pattern** of **Minutes** and a **Count** of **1**.</span></span>

## <a name="events"></a><span data-ttu-id="09caf-117">Sündmused</span><span class="sxs-lookup"><span data-stu-id="09caf-117">Events</span></span>

<span data-ttu-id="09caf-118">Teatisereeglit käivitav sündmus saab olla kas saabuv kuupäev või teatud toimuv muudatus.</span><span class="sxs-lookup"><span data-stu-id="09caf-118">The event that triggers an alert rule can be a date that arrives or a specific change that occurs.</span></span> <span data-ttu-id="09caf-119">Sündmuste käivitajad on määratud dialoogiboksi **Loo teatise reegel** kiirkaardil **Teavita mind, kui**.</span><span class="sxs-lookup"><span data-stu-id="09caf-119">Triggers for events are defined on the **Alert me when** FastTab of the **Create alert rule** dialog box.</span></span> <span data-ttu-id="09caf-120">Konkreetsel väljal saadaolevad sündmused sõltuvad valitud käivitajast.</span><span class="sxs-lookup"><span data-stu-id="09caf-120">The events that are available for a particular field depend on the trigger that is selected.</span></span>

<span data-ttu-id="09caf-121">Näiteks, kui seadistate teatisereegli väljale **Alguskuupäev**, on tähtajalised sündmused asjakohased.</span><span class="sxs-lookup"><span data-stu-id="09caf-121">For example, if you're setting up an alert rule for the **Start date** field, due date events are appropriate.</span></span> <span data-ttu-id="09caf-122">Seetõttu on selle välja puhul saadaval sündmuse tüüp **tähtaeg on**.</span><span class="sxs-lookup"><span data-stu-id="09caf-122">Therefore, the **is due in** event type is available for that field.</span></span> <span data-ttu-id="09caf-123">Samas näiteks välja **Kulukeskus** puhul pole tähtajaline sündmus asjakohane.</span><span class="sxs-lookup"><span data-stu-id="09caf-123">However, for a field such as **Cost center**, a due date event isn't appropriate.</span></span> <span data-ttu-id="09caf-124">Seetõttu pole saadaval sündmuse tüüpi **tähtaeg on**.</span><span class="sxs-lookup"><span data-stu-id="09caf-124">Therefore, the **is due in** event type isn't available.</span></span> <span data-ttu-id="09caf-125">Selle asemel on saadaval sündmuse tüüp **on muutunud**.</span><span class="sxs-lookup"><span data-stu-id="09caf-125">Instead, the **has changed** event type is available.</span></span>

## <a name="event-types"></a><span data-ttu-id="09caf-126">Sündmuste tüübid</span><span class="sxs-lookup"><span data-stu-id="09caf-126">Event types</span></span>

<span data-ttu-id="09caf-127">Toimuda võivad kolme tüüpi sündmused.</span><span class="sxs-lookup"><span data-stu-id="09caf-127">Three types of events can occur:</span></span>

- <span data-ttu-id="09caf-128">**Loomis- ja kustutamistüüpi sündmused** – need sündmused käivitavad teatise juhul, kui kirje luuakse või kustutatakse.</span><span class="sxs-lookup"><span data-stu-id="09caf-128">**Create-type and delete-type events** – These events trigger an alert when a record is created or deleted.</span></span>
- <span data-ttu-id="09caf-129">**Värskendamistüüpi sündmused** – need sündmused käivitavad teatise, kui andmed kindlal väljal muutuvad.</span><span class="sxs-lookup"><span data-stu-id="09caf-129">**Update-type events** – These events trigger an alert when the data in a specific field changes.</span></span>
- <span data-ttu-id="09caf-130">**Tähtaja-tüüpi sündmused** – need sündmused käivitavad teatise, kui kuupäev saabub.</span><span class="sxs-lookup"><span data-stu-id="09caf-130">**Due date-type events** – These events trigger an alert when a date arrives.</span></span>
    
<span data-ttu-id="09caf-131">Toimuvad muudatused saab käivitada kasutaja.</span><span class="sxs-lookup"><span data-stu-id="09caf-131">Changes that occur can be initiated by a user.</span></span> <span data-ttu-id="09caf-132">Näiteks kasutaja muudab ostutellimuse tarnekuupäeva.</span><span class="sxs-lookup"><span data-stu-id="09caf-132">For example, a user changes the delivery date of a purchase order.</span></span> <span data-ttu-id="09caf-133">Teise võimalusena võivad muudatused ilmneda protsessi käigus.</span><span class="sxs-lookup"><span data-stu-id="09caf-133">Alternatively, changes can occur as part of a process.</span></span> <span data-ttu-id="09caf-134">Näiteks muutub lehe väli **Olek**, et peegeldada süsteemi mitmesuguste protsesside töötsüklit.</span><span class="sxs-lookup"><span data-stu-id="09caf-134">For example, the **Status** field on a page changes to reflect the life cycle of various processes in the system.</span></span>

## <a name="conditions"></a><span data-ttu-id="09caf-135">Tingimused</span><span class="sxs-lookup"><span data-stu-id="09caf-135">Conditions</span></span>

<span data-ttu-id="09caf-136">Dialoogiboksi **Loo teatise reegel** kiirkaardil **Teavita mind järgmisel juhul** saate kasutada tingimusi, et kontrollida, millal teid sündmustest teavitatakse.</span><span class="sxs-lookup"><span data-stu-id="09caf-136">On the **Alert me for** FastTab in the **Create alert rule** dialog box, you can use conditions to control when you're alerted about events.</span></span>

<span data-ttu-id="09caf-137">Näiteks saate määrata, et süsteem peaks teid teavitama, kui ostutellimuste olekut muudetakse, kuid ainult juhul, kui olek on kooskõlas määratud tingimustega.</span><span class="sxs-lookup"><span data-stu-id="09caf-137">For example, you can specify that the system should alert you when the status of purchase orders changes, but only if the status matches a specific set of conditions.</span></span> <span data-ttu-id="09caf-138">Täpsemalt, soovite saada teatist, kui ostutellimuse olekuks määratakse **Saadud**.</span><span class="sxs-lookup"><span data-stu-id="09caf-138">Specifically, you want to be alerted when the status of a purchase order is set to **Received**.</span></span> <span data-ttu-id="09caf-139">See olekumuudatus on sündmus, mis käivitab teatise.</span><span class="sxs-lookup"><span data-stu-id="09caf-139">This change in status is the event that triggers the alert.</span></span>

<span data-ttu-id="09caf-140">Seejärel peate otsustama, milliste ostutellimuste kohta te teatisi soovite.</span><span class="sxs-lookup"><span data-stu-id="09caf-140">Next, you must decide which purchase orders you want to be alerted about.</span></span> <span data-ttu-id="09caf-141">Näiteks saate valida ühe järgmistest valikutest.</span><span class="sxs-lookup"><span data-stu-id="09caf-141">For example, you can select one of the following options.</span></span> <span data-ttu-id="09caf-142">Need suvandid määravad teatisereegli tingimused.</span><span class="sxs-lookup"><span data-stu-id="09caf-142">These options define the conditions for the alert rule.</span></span>

- <span data-ttu-id="09caf-143">**Praegu valitud kirje** – saate teatise, kui kindla ostutellimuse olek muutub olekuks **Saadud**.</span><span class="sxs-lookup"><span data-stu-id="09caf-143">**Current selected record** – You receive an alert when the status of a specific purchase order changes to **Received**.</span></span>
- <span data-ttu-id="09caf-144">**Kõik kirjed** – saate teatise, kui muudetakse aktiivses lehe vaates oleva kauba ostutellimuse olekut.</span><span class="sxs-lookup"><span data-stu-id="09caf-144">**All records** – You receive an alert when the status of a purchase order is changed for an item in the active page view.</span></span> <span data-ttu-id="09caf-145">Teatud kirjete kogumile reeglite loomiseks saate kasutada lehel saadaolevat täpsemat filtrifunktsiooni.</span><span class="sxs-lookup"><span data-stu-id="09caf-145">You can use the advanced filtering that is available on the page to create rules for a specific set of records.</span></span> <span data-ttu-id="09caf-146">Näiteks saate luua teatise, mis käivitatakse kõigi konkreetse kliendigrupi klientide ostutellimuste puhul.</span><span class="sxs-lookup"><span data-stu-id="09caf-146">For example, you can create an alert that is triggered for all purchase orders for the customers in a specific customer group.</span></span>
    
## <a name="expiry-of-rule"></a><span data-ttu-id="09caf-147">Reegli aegumine</span><span class="sxs-lookup"><span data-stu-id="09caf-147">Expiry of rule</span></span>

<span data-ttu-id="09caf-148">Dialoogiboksi **Loo teatise reegel** kiirkaardil **Teavita mind kuni** saate määrata, kui kaua teatisereegel aktiivne peaks olema.</span><span class="sxs-lookup"><span data-stu-id="09caf-148">On the **Alert me until** FastTab of the **Create alert rule** dialog box, you can specify how long the alert rule should be active.</span></span>

## <a name="alert-contents"></a><span data-ttu-id="09caf-149">Teatise sisu</span><span class="sxs-lookup"><span data-stu-id="09caf-149">Alert contents</span></span>

<span data-ttu-id="09caf-150">Dialoogiboksi **Loo teatise reegel** kiirkaardil **Teavita mind järgmisega** saate määrata teema ja sõnumi teksti, mida teatiste puhul peaks kasutatama.</span><span class="sxs-lookup"><span data-stu-id="09caf-150">On the **Alert me with** FastTab of the **Create alert rule** dialog box, you can specify the subject text and message text that the alert messages should use.</span></span>

## <a name="user-id"></a><span data-ttu-id="09caf-151">Kasutaja kood</span><span class="sxs-lookup"><span data-stu-id="09caf-151">User ID</span></span>

<span data-ttu-id="09caf-152">Dialoogiboksi **Loo teatise reegel** kiirkaardil **Teavita mind järgmisega** saate määrata, milline kasutaja peaks teatiseid saama.</span><span class="sxs-lookup"><span data-stu-id="09caf-152">On the **Alert me with** FastTab of the **Create alert rule** dialog box, you can specify which user should receive the alert messages.</span></span> <span data-ttu-id="09caf-153">Vaikimisi on valitud teie kasutaja ID.</span><span class="sxs-lookup"><span data-stu-id="09caf-153">By default, your user ID is selected.</span></span> <span data-ttu-id="09caf-154">Teatise saava kasutaja muutmise võimalus on piiratud organisatsiooni administraatoritega.</span><span class="sxs-lookup"><span data-stu-id="09caf-154">The ability to change the user receiving the alert is restricted to organization administrators.</span></span>

## <a name="alerts-as-business-events"></a><span data-ttu-id="09caf-155">Teatised ärisündmustena</span><span class="sxs-lookup"><span data-stu-id="09caf-155">Alerts as business events</span></span>

<span data-ttu-id="09caf-156">Teatisi saab saata väliselt ärisündmuste raamistikku kasutades.</span><span class="sxs-lookup"><span data-stu-id="09caf-156">Alerts can be sent externally using the business events framework.</span></span> <span data-ttu-id="09caf-157">Teatise loomisel seadke suvand **Organisatsiooniülene** valikule **Ei** ja määrake suvand **Saada väliselt** väärtusele **Jah**.</span><span class="sxs-lookup"><span data-stu-id="09caf-157">When creating an alert, set **Organization-wide** to **No** and set **Send externally** to **Yes**.</span></span> <span data-ttu-id="09caf-158">Pärast seda, kui teatis käivitab ärisündmuse, saate käivitada teenusesse Power Automate ehitatud voo, kasutades päästikut **Kui ärisündmus leiab aset** rakenduskomplekti Finance and Operations konnektoris, või saata sündmuse eraldi suvandi **Ärisündmuste kataloog** kaudu otse ärisündmuste lõpp-punktile.</span><span class="sxs-lookup"><span data-stu-id="09caf-158">After you have the alert triggering the business event, you can trigger a flow built in Power Automate using the **When a business event occurs** trigger on the Finance and Operations connector, or explicitly send the event to a business events endpoint via the **Business events catalog**.</span></span>

## <a name="create-an-alert-rule"></a><span data-ttu-id="09caf-159">Teatisereegli loomine</span><span class="sxs-lookup"><span data-stu-id="09caf-159">Create an alert rule</span></span>

0. <span data-ttu-id="09caf-160">Tagage teatise pakett-tööde käitamine (vt ülal).</span><span class="sxs-lookup"><span data-stu-id="09caf-160">Ensure the alert batch jobs are running (see above).</span></span>
1. <span data-ttu-id="09caf-161">Avage leht, mis sisaldab jälgitavaid andmeid.</span><span class="sxs-lookup"><span data-stu-id="09caf-161">Open the page that contains the data to monitor.</span></span>
2. <span data-ttu-id="09caf-162">Valige toimingupaani vahekaardil **Suvandid** rühmas **Anna ühiskasutusse** suvand **Teavita mind järgmisega**.</span><span class="sxs-lookup"><span data-stu-id="09caf-162">On the Action Pane, on the **Options** tab, in the **Share** group, select **Create alert rule**.</span></span>
3. <span data-ttu-id="09caf-163">Valige jälgitav väli dialoogiboksi **Loo teatise reegel** väljal **Väli**.</span><span class="sxs-lookup"><span data-stu-id="09caf-163">In the **Create alert rule** dialog box, in the **Field** field, select the field to monitor.</span></span>
4. <span data-ttu-id="09caf-164">Valige sündmuse tüüp väljal **Sündmus**.</span><span class="sxs-lookup"><span data-stu-id="09caf-164">In the **Event** field, select the type of event.</span></span>
5. <span data-ttu-id="09caf-165">Valige soovitud suvand kiirkaardil **Teavita mind järgmisel juhul**.</span><span class="sxs-lookup"><span data-stu-id="09caf-165">On the **Alert me for** FastTab, select the desired option.</span></span> <span data-ttu-id="09caf-166">Kui soovite saata teatise ärisündmusena, veenduge, et suvand **Organisatsiooniülene** oleks seatud valikule **Ei**.</span><span class="sxs-lookup"><span data-stu-id="09caf-166">If you want to send the alert as a business event, ensure that **Organization-wide** is set to **No**.</span></span>
6. <span data-ttu-id="09caf-167">Kui teatisereegel peaks passiivseks muutuma kindlal kuupäeval, määrake lõppkuupäev kiirkaardil **Teavita mind kuni**.</span><span class="sxs-lookup"><span data-stu-id="09caf-167">If the alert rule should become inactive on a specific date, on the **Alert me until** FastTab, select an end date.</span></span>
7. <span data-ttu-id="09caf-168">Kinnitage meilisõnumi teema vaikepealkiri või sisestage uus teema kiirkaardi **Teavita mind järgmisega** väljal **Teema**.</span><span class="sxs-lookup"><span data-stu-id="09caf-168">On the **Alert me with** FastTab, in the **Subject** field, accept the default subject heading for the email message, or enter a new subject.</span></span> <span data-ttu-id="09caf-169">Teksti kasutatakse meilisõnumi teema pealkirjana, mille saate teatise käivitamisel.</span><span class="sxs-lookup"><span data-stu-id="09caf-169">The text is used as the subject heading for the email message that you receive when an alert is triggered.</span></span> <span data-ttu-id="09caf-170">Kui soovite saata teatise ärisündmusena, seadke suvand **Saada väliselt** valikule **Jah**.</span><span class="sxs-lookup"><span data-stu-id="09caf-170">If you want to send the alert as a business event, set **Send externally** to **Yes**.</span></span>
8. <span data-ttu-id="09caf-171">Sisestage valikuline teade väljale **Teade**.</span><span class="sxs-lookup"><span data-stu-id="09caf-171">In the **Message** field, enter an optional message.</span></span> <span data-ttu-id="09caf-172">Teksti kasutatakse sõnumina, mille saate teatise käivitamisel.</span><span class="sxs-lookup"><span data-stu-id="09caf-172">The text is used as the message that you receive when an alert is triggered.</span></span>
9. <span data-ttu-id="09caf-173">Valige **OK**, et salvestada sätted ja luua teatisereegel.</span><span class="sxs-lookup"><span data-stu-id="09caf-173">Select **OK** to save the settings and create the alert rule.</span></span>

## <a name="limitations-and-workarounds"></a><span data-ttu-id="09caf-174">Piirangud ja lahendused</span><span class="sxs-lookup"><span data-stu-id="09caf-174">Limitations and workarounds</span></span>

### <a name="workaround-for-creating-alerts-for-the-secondary-data-sources-of-a-form"></a><span data-ttu-id="09caf-175">Lahendus vormi teiseste andmeallikate jaoks teatiste loomiseks</span><span class="sxs-lookup"><span data-stu-id="09caf-175">Workaround for creating alerts for the secondary data sources of a form</span></span>
<span data-ttu-id="09caf-176">Mõne vormi teisese andmeallika jaoks ei saa teatisi luua.</span><span class="sxs-lookup"><span data-stu-id="09caf-176">Alerts can't be created for some secondary data sources on forms.</span></span> <span data-ttu-id="09caf-177">Näiteks kui teatisi luuakse kliendi või hankija sisestusreeglite vormil, on saadaval ainult päise (CustLedger või VendLedger) väljad, mitte dimensioonikontod.</span><span class="sxs-lookup"><span data-stu-id="09caf-177">For example, when creating alerts on the customer or vendor posting profiles form, only the fields on the header (CustLedger or VendLedger) are available and not the dimension accounts.</span></span> <span data-ttu-id="09caf-178">Selle piirangu lahendus on kasutada üksust **SysTableBrowser**, avada see tabel esmase andmeallikana.</span><span class="sxs-lookup"><span data-stu-id="09caf-178">The workaround for this limitation is to use **SysTableBrowser** to open that table as primary data source.</span></span> 
1. <span data-ttu-id="09caf-179">Avage tabel vormis **SysTableBrowser**.</span><span class="sxs-lookup"><span data-stu-id="09caf-179">Open the table in the **SysTableBrowser** form.</span></span>
    ```
        https://<EnvironmentURL>/?cmp=USMF&mi=SysTableBrowser&TableName=<TableName>
    ```
2. <span data-ttu-id="09caf-180">Looge teatis vormis SysTableBrowser.</span><span class="sxs-lookup"><span data-stu-id="09caf-180">Create an alert from the SysTableBrowser form.</span></span>

