<span data-ttu-id="8c192-101">Kui kopeerite andmebaasi ühest keskkonnast teise, peate enne kopeeritud andmebaasi täielikku töölehakkamist käivitama keskkonna uuesti ettevalmistamise tööriista, et kõik Retaili komponendid oleks ajakohased.</span><span class="sxs-lookup"><span data-stu-id="8c192-101">When copying a database between environments, you will need to run the environment re-provisioning tool before the copied database is fully functional, to ensure that all Retail components are up-to-date.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="8c192-102">Soovitame teil käivitada see protseduur, ükskõik kas kasutate Retaili komponente või mitte, kuna Retaili funktsionaalsus sisaldub kõigis keskkondades.</span><span class="sxs-lookup"><span data-stu-id="8c192-102">We recommend that you run this procedure whether you are using Retail components or not, because Retail functionality is included in all environments.</span></span> 

<span data-ttu-id="8c192-103">Enne jätkamist peate veenduma, et järgmised tingimused on täidetud.</span><span class="sxs-lookup"><span data-stu-id="8c192-103">Before you continue, you must make sure that the following prerequisites are met:</span></span>
1. <span data-ttu-id="8c192-104">Kui lähete üle 2017. aasta versioonile (teise nimega 7.2) 7.2.11792.56024, rakendage sihtkeskkonnas järgmised rakenduse X++ kiirparandused, enne kui käivitate selles keskkonnas andmete versioonitäienduse.</span><span class="sxs-lookup"><span data-stu-id="8c192-104">If you are upgrading to the July 2017 release (also known as 7.2) 7.2.11792.56024, apply the following application X++ hotfixes in the destination environment before running the data upgrade in that environment.</span></span> <span data-ttu-id="8c192-105">Need hoiavad andmete versioonitäienduse ajal ära mitmesuguste tõrgete ilmnemise.</span><span class="sxs-lookup"><span data-stu-id="8c192-105">These will prevent various errors occurring during the data upgrade:</span></span>

    - <span data-ttu-id="8c192-106">KB 4036156 – Retaili vaheversiooni täiendus – „Variandi numbriseeriat pole määratud.“</span><span class="sxs-lookup"><span data-stu-id="8c192-106">KB 4036156 - Retail minor version upgrade - 'Variant number sequence is not set.'</span></span> <span data-ttu-id="8c192-107">See paranduspakett sisaldab ka värskendusi KB 4035399 ja KB 4035751.</span><span class="sxs-lookup"><span data-stu-id="8c192-107">This fix package also includes KB 4035399 and KB 4035751.</span></span> <span data-ttu-id="8c192-108">Võtke arvesse, et selle paketi kasutamiseks peab teil olema vähemalt platvormivärskendus 9.</span><span class="sxs-lookup"><span data-stu-id="8c192-108">Note that you must have a minimum of Platform Update 9 to use this package.</span></span> <span data-ttu-id="8c192-109">Kui te pole kindel, installige uusimad binaarfailid.</span><span class="sxs-lookup"><span data-stu-id="8c192-109">If you are unsure, install the latest binaries.</span></span>
    
2. <span data-ttu-id="8c192-110">Kui täiendate versiooni Microsoft Dynamics AX 2012, installige enne andmete versioonitäienduse käivitamist sihtkeskkonnas järgmised rakenduse X++ parandused:</span><span class="sxs-lookup"><span data-stu-id="8c192-110">If you are upgrading from Microsoft Dynamics AX 2012, install the following application X++ fixes in the destination environment before you run the data upgrade:</span></span>
    - <span data-ttu-id="8c192-111">KB 4033183 – Dynamics AX 2012 R2 või Dynamics AX 2012 R3 Pre-CU8 mitte-Retaili versioonitäiendus nurjub, kuna dbo.RETAILTILLLAYOUTZONE objekti ei leitud.</span><span class="sxs-lookup"><span data-stu-id="8c192-111">KB 4033183 - Dynamics AX 2012 R2 or Dynamics AX 2012 R3 Pre-CU8 non-retail upgrade fails with Object not found for dbo.RETAILTILLLAYOUTZONE.</span></span>
    - <span data-ttu-id="8c192-112">KB 4040692 – Dynamics AX 2012 R3 üleminek versioonile Microsoft Dynamics 365 for Operations 7.2 nurjub RetailSalesLine'i topeltindeksiga SalesLineIdx-is.</span><span class="sxs-lookup"><span data-stu-id="8c192-112">KB 4040692 - Dynamics AX 2012 R3 to Microsoft Dynamics 365 for Operations 7.2 upgrade fails on RetailSalesLine duplicate index on SalesLineIdx.</span></span>
    - <span data-ttu-id="8c192-113">KB 4035490 – jõudlusprobleem GeneralJournalAccountEntry välja MainAccount versioonitäiendusskriptiga.</span><span class="sxs-lookup"><span data-stu-id="8c192-113">KB 4035490 - Performance issue with GeneralJournalAccountEntry MainAccount field upgrade script.</span></span>


<span data-ttu-id="8c192-114">Järgige keskkonna uuesti ettevalmistamise tööriista käivitamiseks neid juhiseid.</span><span class="sxs-lookup"><span data-stu-id="8c192-114">Follow these steps to run the Environment reprovisioning tool.</span></span>

1. <span data-ttu-id="8c192-115">Valige ühiste vahendite teegis **Tarkvara juurutatav pakett**.</span><span class="sxs-lookup"><span data-stu-id="8c192-115">In the Shared asset library, select **Software deployable package**.</span></span>
2. <span data-ttu-id="8c192-116">Laadige alla keskkonna uuesti ettevalmistamise tööriist.</span><span class="sxs-lookup"><span data-stu-id="8c192-116">Download the Environment reprovisioning tool.</span></span>
3. <span data-ttu-id="8c192-117">Valige oma projekti ühiste vahendite teegis **Tarkvara juurutatav pakett**.</span><span class="sxs-lookup"><span data-stu-id="8c192-117">In the asset library for your project, select **Software deployable package**.</span></span>
4. <span data-ttu-id="8c192-118">Valige uue paketi loomiseks **Uus**.</span><span class="sxs-lookup"><span data-stu-id="8c192-118">Select **New** to create a new package.</span></span>
5. <span data-ttu-id="8c192-119">Sisestage paketi nimi ja kirjeldus.</span><span class="sxs-lookup"><span data-stu-id="8c192-119">Enter a name and description for the package.</span></span> <span data-ttu-id="8c192-120">Paketi nimeks võite määrata **Keskkonna uuesti ettevalmistamise tööriist**.</span><span class="sxs-lookup"><span data-stu-id="8c192-120">You can use **Environment reprovisioning tool** as the package name.</span></span>
6. <span data-ttu-id="8c192-121">Laadige üles varem alla laaditud pakett.</span><span class="sxs-lookup"><span data-stu-id="8c192-121">Upload the package that you downloaded earlier.</span></span>
7. <span data-ttu-id="8c192-122">Tehke oma sihtkeskkonna lehel **Keskkonna üksikasjad** valik **Halda** > **Rakenda värskendused**.</span><span class="sxs-lookup"><span data-stu-id="8c192-122">On the **Environment details** page for your target environment, select **Maintain** > **Apply updates**.</span></span>
8. <span data-ttu-id="8c192-123">Valige keskkonna uuesti ettevalmistamise tööriist, mille varem üles laadisite, ja siis valige paketi rakendamiseks **Rakenda**.</span><span class="sxs-lookup"><span data-stu-id="8c192-123">Select the Environment reprovisioning tool that you uploaded earlier, and then select **Apply** to apply the package.</span></span>
9. <span data-ttu-id="8c192-124">Jälgige paketi juurutamise edenemist.</span><span class="sxs-lookup"><span data-stu-id="8c192-124">Monitor the progress of the package deployment.</span></span> 

<span data-ttu-id="8c192-125">Lisateavet juurutatava paketi rakendamise kohta leiate teemast [Juurutatava paketi rakendamine](../deployment/create-apply-deployable-package.md).</span><span class="sxs-lookup"><span data-stu-id="8c192-125">For more information about how to apply a deployable package, see [Apply a deployable package](../deployment/create-apply-deployable-package.md).</span></span> <span data-ttu-id="8c192-126">Lisateavet juurutatava paketi käsitsi rakendamise kohta leiate teemast [Juurutatava paketi installimine](../deployment/install-deployable-package.md).</span><span class="sxs-lookup"><span data-stu-id="8c192-126">For more information about how to manually apply a deployable package, see [Install a deployable package](../deployment/install-deployable-package.md).</span></span>
